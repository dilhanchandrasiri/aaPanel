const __vite__fileDeps=["js/index117.js?v=1723125373998","js/index73.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998","js/mail.js?v=1723125373998","js/data.js?v=1723125373998","js/Select.js?v=1723125373998","js/Tag.js?v=1723125373998","js/Empty.js?v=1723125373998","js/index118.js?v=1723125373998","js/index119.js?v=1723125373998","js/index77.js?v=1723125373998","js/Tabs.js?v=1723125373998","js/omit.js?v=1723125373998","css/index11.css?v=1723125373998","js/index105.js?v=1723125373998","js/use-theme-vars.js?v=1723125373998","css/index12.css?v=1723125373998","js/Alert.js?v=1723125373998","css/index32.css?v=1723125373998","js/index120.js?v=1723125373998","js/useTableColumns.js?v=1723125373998","js/Progress.js?v=1723125373998","js/Switch.js?v=1723125373998","js/Ellipsis.js?v=1723125373998","css/useTableColumns.css?v=1723125373998","js/DataTable.js?v=1723125373998","js/Checkbox.js?v=1723125373998","css/index33.css?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{g as t,N as a,e as o,h as e,j as i,k as s,m as n,r as l,B as d,q as m,v as r}from"./index.js?v=1723125373998";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import{u as h,_}from"./useTableData.js?v=1723125373998";import{b as u}from"./useTableColumns.js?v=1723125373998";import{s as w,d as f,a as g,f as j}from"./mail.js?v=1723125373998";import{l as y,ad as x,f as b,P as D,S as E,U as k,V as R,t as C,q as S,W as A,a1 as v}from"./vue.js?v=1723125373998";import{_ as L}from"./Switch.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998";import"./DataTable.js?v=1723125373998";import"./Checkbox.js?v=1723125373998";import"./Ellipsis.js?v=1723125373998";import"./Select.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";import"./omit.js?v=1723125373998";import"./data.js?v=1723125373998";import"./Skeleton.js?v=1723125373998";import"./Progress.js?v=1723125373998";const z=y({__name:"index",setup(y){const z=v((()=>r((()=>import("./index117.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),P=v((()=>r((()=>import("./index118.js?v=1723125373998")),__vite__mapDeps([12,6,3,2,4,5,7])))),T=v((()=>r((()=>import("./index119.js?v=1723125373998")),__vite__mapDeps([13,14,3,15,2,4,5,16,17,1,18,19,20,7,21,22])))),U=v((()=>r((()=>import("./index120.js?v=1723125373998")),__vite__mapDeps([23,24,2,3,4,5,25,26,27,28,7,29,30,9,10,11,16,31])))),{t:q}=x(),V=b({p:1,size:10}),N=t("Add Domain",{isEdit:!1,onRefresh:()=>{Y()}}),I=()=>{N.data.isEdit=!1,N.title="Add Domain",N.show=!0},{table:O,columns:B}=h([{key:"domain",title:"Domain",ellipsis:{tooltip:!0}},{key:"quota",title:"Quota",render:t=>a(t.quota)},{key:"mailboxes",title:"Mailboxes"},{key:"mailbox_quota",title:"Default mailbox size",render:t=>a(t.mailbox_quota)},{key:"domain",title:"CatchALL",render:t=>D(L,{size:"small",value:t.catch_all,onUpdateValue:a=>{a?M(t):Q(t)}},null)},{key:"domain",title:"SSL",render:t=>D(o,{type:t.ssl_status?"primary":"warning",onClick:()=>{G(t)}},{default:()=>[t.ssl_status?"Expire: ".concat(t.ssl_info.notAfter):"Not Set"]})},u({width:150,options:t=>[{label:"DNS Record",onClick:()=>{J(t)}},{label:q("Public.Btn.Edit"),onClick:()=>{K(t)}},{label:q("Public.Btn.Del"),onClick:()=>{X(t)}}]})]),W=t("Catch email",{onRefresh:()=>{Y()}}),M=t=>{W.data.row=t,W.show=!0},Q=t=>{e({title:"Catch email",content:"Confirm to turn off the catch function?",onConfirm:async()=>{await w({domain:t.domain,email:""}),Y()}})},F=t("Add SSL",{onRefresh:()=>{Y()}}),G=t=>{F.data.row=t,F.show=!0},H=t("DNS Record",{onRefresh:()=>{Y()}}),J=async t=>{H.data.row=t,H.title="DNS Record [".concat(t.domain,"]"),H.show=!0},K=t=>{N.data.row=t,N.data.isEdit=!0,N.title="Edit Domain [".concat(t.domain,"]"),N.show=!0},X=async t=>{e({title:"Del domain",content:"Whether to delete the [".concat(t.domain,"] domain name"),onConfirm:async()=>{await f({domain:t.domain}),Y()}})},Y=async()=>{try{O.loading=!0;const{message:t}=await g(C(V));i(t)&&(O.data=s(t.data)?t.data:[],O.total=n(t.page))}finally{O.loading=!1}},Z=async()=>{try{O.loading=!0,await j({domain:"all"}),V.p=1,Y()}finally{O.loading=!1}};return Y(),(t,a)=>{const o=d,e=_,i=c,s=p,n=m,r=l;return E(),k(r,{class:"p-16px"},{default:R((()=>[D(s,null,{toolsLeft:R((()=>[D(o,{type:"primary",onClick:I},{default:R((()=>[S("Add Domain")])),_:1})])),toolsRight:R((()=>[D(o,{onClick:Z},{default:R((()=>[S("Refresh domain record")])),_:1})])),table:R((()=>[D(e,{loading:A(O).loading,data:A(O).data,columns:A(B)},null,8,["loading","data","columns"])])),pageRight:R((()=>[D(i,{page:A(V).p,"onUpdate:page":a[0]||(a[0]=t=>A(V).p=t),"page-size":A(V).size,"onUpdate:pageSize":a[1]||(a[1]=t=>A(V).size=t),"item-count":A(O).total,onRefresh:Y},null,8,["page","page-size","item-count"])])),_:1}),D(n,{show:A(N).show,"onUpdate:show":a[2]||(a[2]=t=>A(N).show=t),title:A(N).title,data:A(N).data,width:540,"min-height":388,footer:!0,component:A(z)},null,8,["show","title","data","component"]),D(n,{show:A(W).show,"onUpdate:show":a[3]||(a[3]=t=>A(W).show=t),title:A(W).title,data:A(W).data,width:480,"min-height":72,footer:!0,component:A(P)},null,8,["show","title","data","component"]),D(n,{show:A(F).show,"onUpdate:show":a[4]||(a[4]=t=>A(F).show=t),title:A(F).title,data:A(F).data,width:650,height:628,component:A(T)},null,8,["show","title","data","component"]),D(n,{show:A(H).show,"onUpdate:show":a[5]||(a[5]=t=>A(H).show=t),title:A(H).title,data:A(H).data,width:750,"min-height":652,component:A(U)},null,8,["show","title","data","component"])])),_:1})}}});export{z as default};
