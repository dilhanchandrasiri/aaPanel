import{_ as e}from"./index102.js?v=1732601582185";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185";import{b as i,d as s}from"./public.js?v=1732601582185";import{f as o,e as p}from"./ftp.js?v=1732601582185";import{f as d,I as u,a4 as r}from"./page_layout.js?v=1732601582185";import{aa as _,bL as m,bh as c}from"./naive.js?v=1732601582185";import{d as g,W as h,a as y,l as b,j as v,O as f,X as x,Y as k,M as w,c as F,Z as j,R as L,ac as R,r as U,p as W,P as T}from"./vue.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";const z=g({__name:"index",setup(e){const{t:p}=h(),m=y("ftpRowData"),{loading:c,setLoading:g}=i(),{keys:U,table:W,columns:T}=s([{key:"user",title:p("Public.Table.Username"),minWidth:110},{key:"ip",title:p("Ftp.Label.index_7"),minWidth:110},{key:"status",title:p("Ftp.Label.index_9"),minWidth:110,render:e=>b("span",{style:{color:"login succeeded"===e.status?"#67C23A":"#F56C6C"}},e.status)},{key:"in_time",title:p("Ftp.Label.index_14"),minWidth:110},{key:"out_time",title:p("Ftp.Label.index_10"),minWidth:110}]),z=v({p:1,limit:10,search:""}),P=async()=>{try{g(!0);const{message:e}=await o({user_name:m.name,...z});d(e)&&(W.data=u(e.data)?e.data:[],W.total=r(e.page))}finally{g(!1)}};return P(),(e,i)=>{const s=_,o=n,p=l,d=t,u=a;return f(),x(u,null,{toolsLeft:k((()=>[w(s,{onClick:P},{default:k((()=>[F(j(e.$t("Ftp.Analysis.Index_32")),1)])),_:1})])),toolsRight:k((()=>[w(o,{value:L(z).search,"onUpdate:value":i[0]||(i[0]=e=>L(z).search=e),width:"280",placeholder:e.$t("Ftp.Placeholder.Index_7"),onSearch:P},null,8,["value","placeholder"])])),table:k((()=>[w(p,{"checked-row-keys":L(U),"onUpdate:checkedRowKeys":i[1]||(i[1]=e=>R(U)?U.value=e:null),loading:L(c),data:L(W).data,columns:L(T)},null,8,["checked-row-keys","loading","data","columns"])])),pageRight:k((()=>[w(d,{page:L(z).p,"onUpdate:page":i[2]||(i[2]=e=>L(z).p=e),"page-size":L(z).limit,"onUpdate:pageSize":i[3]||(i[3]=e=>L(z).limit=e),"item-count":L(W).total,onRefresh:P},null,8,["page","page-size","item-count"])])),_:1})}}}),P=g({__name:"index",setup(e){const{t:o}=h(),{loading:g,setLoading:b}=i(),U=y("ftpRowData"),W=v([{label:o("Public.All"),value:"all"},{label:o("Ftp.Label.index_4"),value:"upload"},{label:o("Ftp.Label.index_11"),value:"download"},{label:o("Ftp.Table.index_10"),value:"delete"},{label:o("Ftp.Label.index_12"),value:"rename"}]),{keys:T,table:z,columns:P}=s([{key:"user",title:o("Public.Table.Username"),minWidth:110,render:e=>e.name?e.name:"--"},{key:"ip",title:o("Ftp.Table.index_9"),minWidth:110},{key:"file",title:o("Ftp.Table.index_19"),minWidth:110,ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:o("Ftp.Table.index_13"),minWidth:110},{key:"time",title:o("Ftp.Table.index_12"),minWidth:110}]),C=v({p:1,limit:10,search:"",type:"all"}),I=async()=>{try{b(!0);const{message:e}=await p({user_name:U.name,...C});d(e)&&(z.data=u(e.data)?e.data:[],z.total=r(e.page))}finally{b(!1)}};return I(),(e,i)=>{const s=_,o=m,p=n,d=c,u=l,r=t,h=a;return f(),x(h,null,{toolsLeft:k((()=>[w(s,{onClick:I},{default:k((()=>[F(j(e.$t("Ftp.Analysis.Index_32")),1)])),_:1})])),toolsRight:k((()=>[w(d,null,{default:k((()=>[w(o,{value:L(C).type,"onUpdate:value":[i[0]||(i[0]=e=>L(C).type=e),I],options:L(W),class:"w-120px"},null,8,["value","options"]),w(p,{value:L(C).search,"onUpdate:value":i[1]||(i[1]=e=>L(C).search=e),width:"280",placeholder:e.$t("Ftp.Placeholder.Index_7"),onSearch:I},null,8,["value","placeholder"])])),_:1})])),table:k((()=>[w(u,{"checked-row-keys":L(T),"onUpdate:checkedRowKeys":i[2]||(i[2]=e=>R(T)?T.value=e:null),loading:L(g),data:L(z).data,columns:L(P)},null,8,["checked-row-keys","loading","data","columns"])])),pageRight:k((()=>[w(r,{page:L(C).p,"onUpdate:page":i[3]||(i[3]=e=>L(C).p=e),"page-size":L(C).limit,"onUpdate:pageSize":i[4]||(i[4]=e=>L(C).limit=e),"item-count":L(z).total,onRefresh:I},null,8,["page","page-size","item-count"])])),_:1})}}}),C={class:"p-8 overflow-y-hidden"},I=g({__name:"index",props:{row:{}},setup(a){const{t:t}=h(),l=U(null),n=a,{row:i}=n;W("ftpRowData",i);const s=U("login"),o=[{key:"login",label:t("Ftp.Table.index_4"),component:z},{key:"action",label:t("Ftp.Table.index_5"),component:P}];return(a,t)=>{const n=e;return f(),T("div",C,[w(n,{ref_key:"logsTabs",ref:l,value:L(s),"onUpdate:value":t[0]||(t[0]=e=>R(s)?s.value=e:null),options:o},null,8,["value"])])}}});export{I as default};
