import{l as e,ah as a,ai as l,k as s,r as t,S as n,U as o,V as d,_ as i,P as u,W as c,b as p,Z as r,q as v,a3 as f,F as h,af as m,B as y,M as b}from"./vue.js?v=1723125373998";import{z as k,br as g,B as _,G as x}from"./index.js?v=1723125373998";import{_ as w}from"./Checkbox.js?v=1723125373998";import{_ as K}from"./Select.js?v=1723125373998";const j={class:"flex justify-center w-42px"},C={class:"min-w-140px"},B={class:"ml-8px"},P=e({__name:"index",props:a({data:{default:()=>[]},rowKey:{default:"id"},options:{default:()=>[]}},{checkedRowKeys:{default:()=>[]},checkedRowKeysModifiers:{}}),emits:["update:checkedRowKeys"],setup(e){const a=e,P=l(e,"checkedRowKeys"),{rowKey:R}=a,U=k(R)?e=>e[R]:R,z=s({get:()=>P.value.length>0&&P.value.length===a.data.length,set(e){P.value=e?a.data.map((e=>U(e))):[]}}),M=s((()=>0===a.data.length)),S=s((()=>P.value.length>0&&P.value.length<a.data.length)),$=t(null),q=s((()=>a.options.map((e=>({label:e.label,value:e.key}))))),F=s((()=>0===P.value.length)),G=s((()=>F.value||null===$.value)),V=s((()=>a.data.filter((e=>P.value.includes(U(e)))))),W=()=>{var e;const{options:l}=a;for(let a of l)if(a.key===$.value)if("confirm"===a.type)g({...a.confirm,data:V.value});else null==(e=a.onBatch)||e.call(a,V.value)},Z=()=>{var e;const{options:l}=a,s=l[0];if("confirm"===s.type)g({...s.confirm,data:V.value});else null==(e=s.onBatch)||e.call(s,V.value)};return(e,a)=>{const l=w,s=K,t=_,k=x;return n(),o(k,{class:"items-center",size:0},{default:d((()=>[i("div",j,[u(l,{checked:c(z),"onUpdate:checked":a[0]||(a[0]=e=>p(z)?z.value=e:null),disabled:c(M),indeterminate:c(S)},null,8,["checked","disabled","indeterminate"])]),e.options.length>1?(n(),r(h,{key:0},[i("div",C,[u(s,{value:c($),"onUpdate:value":a[1]||(a[1]=e=>p($)?$.value=e:null),options:c(q),disabled:c(F),placeholder:"Please choose"},null,8,["value","options","disabled"])]),i("div",B,[u(t,{type:c(G)?"default":"primary",disabled:c(G),onClick:W},{default:d((()=>[v(f(e.$t("Public.Components.index_2")),1)])),_:1},8,["type","disabled"])])],64)):m("",!0),1===e.options.length?(n(),o(t,{key:1,disabled:c(F),type:c(F)?"default":"primary",onClick:Z},{default:d((()=>[i("span",null,f(e.options[0].label),1),y(i("span",null," ("+f(e.$t("Public.Components.index_3"))+" "+f(P.value.length)+") ",513),[[b,P.value.length>0]])])),_:1},8,["disabled","type"])):m("",!0)])),_:1})}}});export{P as _};
