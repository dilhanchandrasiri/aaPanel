import{_ as e,a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{_ as s}from"./index105.js?v=1723125373998";import{k as r,a2 as t}from"./mail.js?v=1723125373998";import{l,r as o,f as d,S as i,Z as u,P as n,V as p,W as m,_ as v,U as f,af as c,t as w}from"./vue.js?v=1723125373998";import{_}from"./Switch.js?v=1723125373998";import{ae as h}from"./index.js?v=1723125373998";import"./use-theme-vars.js?v=1723125373998";import"./pinia.js?v=1723125373998";const x={class:"p-20px pb-32px"},b={class:"w-300px"},j={class:"w-300px"},k={class:"w-300px"},U=l({__name:"index",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(l,{expose:U,emit:y}){const E=l,g=y,{isEdit:S}=E,D=o(null),F=d({user:"",domain:"",forward_user:"",active:1}),R={};return(()=>{const{row:e,isEdit:a}=E;a&&e&&(F.active=e.active,F.user=e.address,F.domain=e.domain,F.forward_user=e.goto)})(),U({onConfirm:async()=>{var e;await(null==(e=D.value)?void 0:e.validate()),S?await r({user:F.user,forward_user:F.forward_user,active:F.active}):await t(w(F)),g("refresh")}}),(r,t)=>{const l=_,o=e,d=h,w=s,U=a;return i(),u("div",x,[n(U,{ref_key:"formRef",ref:D,model:m(F),rules:R},{default:p((()=>[n(o,{label:"Status"},{default:p((()=>[n(l,{value:m(F).active,"onUpdate:value":t[0]||(t[0]=e=>m(F).active=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),n(o,{label:"Forwarded users",path:"user"},{default:p((()=>[v("div",b,[n(d,{value:m(F).user,"onUpdate:value":t[1]||(t[1]=e=>m(F).user=e),disabled:m(S),placeholder:"Enter the mailbox that needs to be forwarded"},null,8,["value","disabled"])])])),_:1}),m(S)?c("",!0):(i(),f(o,{key:0,label:"Domain",path:"domain"},{default:p((()=>[v("div",j,[n(d,{value:m(F).domain,"onUpdate:value":t[2]||(t[2]=e=>m(F).domain=e),placeholder:"Domain name of the Forwarded users"},null,8,["value"])])])),_:1})),n(o,{label:"Receiving user",path:"forward_user","show-feedback":!1},{default:p((()=>[v("div",k,[n(w,{value:m(F).forward_user,"onUpdate:value":t[3]||(t[3]=e=>m(F).forward_user=e),rows:3,placeholder:"Users who need to accept forwarded mail. If there are multiple, please separate them with newlines."},null,8,["value"])])])),_:1})])),_:1},8,["model"])])}}});export{U as default};
