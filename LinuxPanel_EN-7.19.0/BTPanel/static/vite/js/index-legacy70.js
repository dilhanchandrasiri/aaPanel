System.register(["./page_layout-legacy.js?v=1732601582185","./index-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1732601582185","./public-legacy.js?v=1732601582185","./useModal-legacy3.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./vue-legacy.js?v=1732601582185"],(function(e,a){"use strict";var t,s,i,n,l,o,r,d,c,u,_,p,f,g,y,b,m,x,W,w,h,v,A,j,k;return{setters:[e=>{t=e.a8,s=e.i,i=e.I,n=e.c},e=>{l=e._},e=>{o=e._},e=>{r=e._},e=>{d=e.h,c=e.d,u=e.f},e=>{_=e.u},e=>{p=e.bo,f=e.bL,g=e.bJ,y=e.aa},e=>{b=e.d,m=e.W,x=e.M,W=e.O,w=e.X,h=e.Y,v=e.c,A=e.Z,j=e.R,k=e.a6}],execute:function(){e("g",(()=>t.post("/plugin?action=a&name=btwaf&s=reg_domains"))),e("a",(e=>t.post("/plugin?action=a&name=btwaf&s=add_reg_tions",e,{requestOptions:{loading:s.global.t("Waf.Api.area_32"),successMessage:!0}})));const O=e=>t.post("/plugin?action=a&name=btwaf&s="+(0===e.select?"edit_reg_tions":"edit_city"),{id:e.id,open:e.open,status:e.status},{requestOptions:{loading:s.global.t("Waf.Api.area_34"),successMessage:!0}}),M=b({__name:"index",setup(e){const b=k((()=>n((()=>a.import("./index-legacy198.js?v=1732601582185")),void 0))),{t:M}=m(),q=d(M("Waf.Area.index_1"),{onRefresh:()=>{U()}}),z=()=>{q.show=!0},{table:C,columns:L,setLoading:S}=c([{key:"region",title:M("Waf.Area.index_2"),minWidth:300,render:e=>Object.entries(e.region).filter((([,e])=>1==e)).map((([e])=>e)).join(", ")},{key:"open",title:M("Waf.Area.index_3"),minWidth:80,render:(e,a)=>x(p,{value:e.open,size:"small",onUpdateValue:async t=>{await O({select:e.select,id:a,open:t,status:e.status}),e.open=t}},null)},{key:"status",title:M("Waf.Area.index_4"),width:"14%",render:(e,a)=>x("div",{class:"w-210px"},[x(f,{value:e.status,size:"small",options:[{label:M("Waf.Area.index_5"),value:200},{label:M("Waf.Area.index_6"),value:404},{label:M("Waf.Area.index_7"),value:403},{label:M("Waf.Area.index_8"),value:444},{label:M("Waf.Area.index_9"),value:502},{label:M("Waf.Area.index_10"),value:503}],onUpdateValue:async t=>{await O({select:e.select,id:a,open:e.open,status:t}),e.status=t}},null)])},{key:"site",title:M("Waf.Area.index_11"),minWidth:260,render:e=>Object.entries(e.site).filter((([,e])=>1==e)).map((([e])=>"allsite"===e?M("Waf.Area.index_12"):e)).join(", ")},{key:"types",title:M("Waf.Area.index_13"),minWidth:90,render:e=>"refuse"===e.types?M("Waf.Area.index_15"):M("Waf.Area.index_14")},u({width:120,options:(e,a)=>[{label:M("Waf.Area.index_16"),onClick:()=>{_({path:`/www/server/btwaf/html/${e.reqfile}`})}},{label:M("Public.Btn.Del"),onClick:async()=>{var i;await(i={select:e.select,id:a},t.post("/plugin?action=a&name=btwaf&s="+(0===i.select?"del_reg_tions":"del_city"),{id:i.id},{requestOptions:{loading:s.global.t("Waf.Api.area_33"),successMessage:!0}})),U()}}]})]),U=async()=>{try{S(!0);const{message:e}=await t.post("/btwaf/get_reg_tions.json");i(e)&&(e.forEach(((e,a)=>{e.forEach((e=>{e.select=a}))})),C.data=e.reduce(((e,a)=>e.concat(a)),[]))}finally{S(!1)}};return U(),(e,a)=>{const t=y,s=r,i=o,n=l,d=g;return W(),w(d,{class:"p-16px"},{default:h((()=>[x(i,null,{toolsLeft:h((()=>[x(t,{type:"primary",onClick:z},{default:h((()=>[v(A(e.$t("Waf.Area.index_1")),1)])),_:1})])),table:h((()=>[x(s,{loading:j(C).loading,data:j(C).data,columns:j(L)},null,8,["loading","data","columns"])])),_:1}),x(n,{show:j(q).show,"onUpdate:show":a[0]||(a[0]=e=>j(q).show=e),title:j(q).title,data:j(q).data,width:720,"min-height":454,footer:!0,component:j(b)},null,8,["show","title","data","component"])])),_:1})}}}),q=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));e("i",q)}}}));
