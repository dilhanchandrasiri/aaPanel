const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index122.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang.js?v=1732601582185","js/naive.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/common.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang2.js?v=1732601582185","js/index97.js?v=1732601582185","css/index10.css?v=1732601582185","js/index120.js?v=1732601582185","js/index121.js?v=1732601582185","css/index17.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{i as a,aa as e,ab as t,ac as s,af as i,f as n,I as o,a4 as l,ae as d,c as p,n as r}from"./page_layout.js?v=1732601582185";import{_}from"./index.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1732601582185";import{_ as h}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185";import{j as b,h as f,d as g,l as x,f as k,a as v,b as w}from"./public.js?v=1732601582185";import{g as j}from"./hooks.js?v=1732601582185";import{M as D,d as R,W as C,j as U,w as W,O as $,X as B,Y as L,R as z,ak as I,Q as P,c as E,Z as H,ac as K,a6 as O}from"./vue.js?v=1732601582185";import{c as S,u as q,d as A,_ as G,e as J,g as M}from"./index120.js?v=1732601582185";import{aa as Q,bJ as T}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";import"./index121.js?v=1732601582185";const{t:V}=a.global;const X={class:"p-16px"},Y=R({__name:"index",setup(a){const{t:R}=C(),Y=O((()=>p((()=>import("./index122.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])))),Z=e(),F=f(),N=()=>{F.show=!0},aa=()=>{M()},ea=async()=>{await t(Z.type,{ids:[]}),pa()},{keys:ta,table:sa,columns:ia}=g([{type:"selection",width:40},{key:"name",title:R("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:R("Database.index_13"),width:"12%",minWidth:120},{key:"password",title:V("Database.index_14"),minWidth:150,render:a=>D(b,{value:a.password},null)},{key:"sid",title:V("Database.index_19"),width:"12%",minWidth:120,render:a=>j(a)},x({onBlur:async(a,e)=>{await d({id:e.id,ps:a})}}),k({width:100,options:a=>[{label:"CHG PW",onClick:()=>{q(a)}},{label:R("Public.Btn.Del"),onClick:()=>{S([a])}}]})]),na=[{key:"sync",label:R("Database.index_24"),onBatch:a=>{v({title:R("Database.index_25"),content:R("Database.index_26"),onConfirm:async({hide:e})=>{await t(Z.type,{ids:a.map((a=>a.id))}),e()}})}},{key:"backup",type:"confirm",label:R("Database.index_27"),confirm:{title:R("Database.index_28"),desc:R("Database.index_29"),api:a=>s(Z.type,{id:a.id},!1),done:()=>{pa()},columns:[{key:"name",title:R("Database.index_12")}]}},{key:"delete",label:R("Database.index_30"),onBatch:a=>{S(a)}}],{loading:oa,setLoading:la}=w(),da=U({p:1,limit:10,sid:-1,search:""}),pa=async()=>{try{la(!0);const{message:a}=await i(Z.type,(()=>{const a={...I(da)};return-1===a.sid&&delete a.sid,a})());n(a)?(sa.data=o(a.data)?a.data:[],sa.total=l(a.page)):(sa.data=[],sa.total=0)}finally{ta.value=[],la(!1)}};W((()=>Z.isRefresh),(a=>{a&&(Z.setRefresh(!1),Z.delRemoteId===da.sid&&(da.sid=-1),pa())}));return(async()=>{await Z.getRemote(),Z.install&&pa()})(),(a,e)=>{const t=Q,s=r,i=y,n=h,o=m,l=u,d=c,p=_,b=T;return $(),B(z(J),null,{default:L((()=>[D(b,null,{default:L((()=>[P("div",X,[D(d,null,{toolsLeft:L((()=>[D(t,{type:"primary",onClick:N},{default:L((()=>[E(H(a.$t("Database.index_1")),1)])),_:1}),D(t,{onClick:aa},{default:L((()=>[E(H(a.$t("Database.index_4")),1)])),_:1}),D(s,{class:"mx-0!",vertical:""}),D(t,{onClick:ea},{default:L((()=>[E(H(a.$t("Database.index_5")),1)])),_:1}),D(t,{onClick:z(A)},{default:L((()=>[E(H(a.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:L((()=>[D(z(G),{value:z(da).sid,"onUpdate:value":e[0]||(e[0]=a=>z(da).sid=a),"store-key":"database-sqlserver-page",onChange:pa},null,8,["value"]),D(i,{value:z(da).search,"onUpdate:value":e[1]||(e[1]=a=>z(da).search=a),placeholder:"Database search",onSearch:pa},null,8,["value"])])),table:L((()=>[D(n,{"checked-row-keys":z(ta),"onUpdate:checkedRowKeys":e[2]||(e[2]=a=>K(ta)?ta.value=a:null),loading:z(oa),data:z(sa).data,columns:z(ia)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[D(o,{"checked-row-keys":z(ta),"onUpdate:checkedRowKeys":e[3]||(e[3]=a=>K(ta)?ta.value=a:null),data:z(sa).data,options:na},null,8,["checked-row-keys","data"])])),pageRight:L((()=>[D(l,{page:z(da).p,"onUpdate:page":e[4]||(e[4]=a=>z(da).p=a),"page-size":z(da).limit,"onUpdate:pageSize":e[5]||(e[5]=a=>z(da).limit=a),"item-count":z(sa).total,onRefresh:pa},null,8,["page","page-size","item-count"])])),_:1}),D(p,{show:z(F).show,"onUpdate:show":e[6]||(e[6]=a=>z(F).show=a),title:a.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:z(Y)},null,8,["show","title","component"])])])),_:1})])),_:1})}}});export{Y as default};
