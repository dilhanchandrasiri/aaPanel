System.register(["./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1723125373998","./index-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./index-legacy69.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1723125373998","./InputGroupLabel-legacy.js?v=1723125373998","./InputGroup-legacy.js?v=1723125373998","./index-legacy70.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998"],(function(e,a){"use strict";var l,s,r,u,t,n,d,i,p,o,c,_,g,v,m,y,b,f,h,w,x,j,U,q,k;return{setters:[e=>{l=e._,s=e.a},e=>{r=e.u,u=e.dP,t=e.ae,n=e.e,d=e.n},e=>{i=e._},e=>{p=e.l,o=e.r,c=e.f,_=e.k,g=e.S,v=e.U,m=e.V,y=e.P,b=e._,f=e.W,h=e.B,w=e.M,x=e.q,j=e.t},e=>{U=e.s},e=>{q=e.g},e=>{k=e._},null,null,null,null,null,null],execute:function(){const a={class:"w-240px"},E={class:"w-240px"},P={class:"w-240px"},R={class:"w-240px"},S={class:"ml-8px"};e("default",p({__name:"index",props:{data:{}},setup(e,{expose:p}){const B=e,{status:C}=B.data,D=r(),{remoteList:G}=U(D),I=o(null),L=c({sid:G.value.length>0?G.value[0].id:null,name:"",db_user:"",password:"",active:!1,ssl:""}),N=_((()=>G.value.map((e=>({label:`${e.ps} (${e.db_host})`,value:e.id}))))),$={name:{required:!0,message:"请输入数据库名",trigger:["blur","change"]},db_user:{required:!0,message:"请输入用户名",trigger:["blur","change"]},password:{required:!0,message:"请输入管理员密码",trigger:["blur","change"]},sid:{trigger:"change",validator:(e,a)=>null!==a||new Error("请选择远程服务器")}},A=e=>{L.db_user=e},M=()=>{q()};return p({onConfirm:async({hide:e})=>{try{await(I.value?.validate());const a=(()=>{const{sid:e}=L;if(null===e)throw d.error("请选择远程服务器"),new Error("请选择远程服务器");return{...j(L),sid:e,ps:L.name}})();await u(D.type,a),D.setRefresh(!0),e()}catch(a){console.error(a)}}}),(e,r)=>{const u=t,d=l,p=i,o=k,c=n,_=s;return g(),v(_,{ref_key:"formRef",ref:I,model:f(L),rules:$,class:"p-20px"},{default:m((()=>[y(d,{label:"DBName",path:"name"},{default:m((()=>[b("div",a,[y(u,{value:f(L).name,"onUpdate:value":[r[0]||(r[0]=e=>f(L).name=e),A],placeholder:"New database name"},null,8,["value"])])])),_:1}),h(y(d,{label:"Username",path:"db_user"},{default:m((()=>[b("div",E,[y(u,{value:f(L).db_user,"onUpdate:value":r[1]||(r[1]=e=>f(L).db_user=e),placeholder:"Database user"},null,8,["value"])])])),_:1},512),[[w,f(C)]]),h(y(d,{label:"Password",path:"password"},{default:m((()=>[b("div",P,[y(p,{value:f(L).password,"onUpdate:value":r[2]||(r[2]=e=>f(L).password=e)},null,8,["value"])])])),_:1},512),[[w,f(C)]]),y(d,{label:"Add to",path:"sid"},{default:m((()=>[b("div",R,[y(o,{value:f(L).sid,"onUpdate:value":r[3]||(r[3]=e=>f(L).sid=e),options:f(N)},null,8,["value","options"])]),b("div",S,[y(c,{onClick:M},{default:m((()=>[x("Remote servers")])),_:1})])])),_:1})])),_:1},8,["model"])}}}))}}}));
