System.register(["./index-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1723125373998","./useTableData-legacy.js?v=1723125373998","./useLoading-legacy.js?v=1723125373998","./useTableColumns-legacy.js?v=1723125373998","./mail-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./Ellipsis-legacy.js?v=1723125373998","./RadioButton-legacy.js?v=1723125373998","./DataTable-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1723125373998","./data-legacy.js?v=1723125373998","./Skeleton-legacy.js?v=1723125373998","./Progress-legacy.js?v=1723125373998","./Switch-legacy.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998","./omit-legacy.js?v=1723125373998"],(function(e,t){"use strict";var a,l,i,s,o,n,u,d,p,y,c,r,g,m,_,w,h,j,k,v,f,b,D,x,S,z,R;return{setters:[e=>{a=e.j,l=e.k,i=e.m,s=e.g,o=e.q},e=>{n=e._},e=>{u=e.u,d=e._},e=>{p=e.u},e=>{y=e.b},e=>{c=e.a6,r=e.a7},e=>{g=e._},e=>{m=e.l,_=e.f,w=e.P,h=e.S,j=e.U,k=e.V,v=e.W,f=e.t,b=e.F,D=e.Z,x=e.q},e=>{S=e._},e=>{z=e._},e=>{R=e.b},null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=m({__name:"details",props:{id:{},type:{},row:{}},setup(e){const t=e,s=_({task_id:t.id,type:t.type,value:"domain"===t.type?t.row.domain:t.row.status,page:1,size:10}),{loading:o,setLoading:y}=p(),{table:r,columns:m}=u([{key:"recipient",title:"Recipient",width:160,render:e=>w(S,{class:e.tooltip?"":"break-all!","line-clamp":e.tooltip?999:1,tooltip:!1},{default:()=>[e.recipient]})},{key:"dsn",title:"Dsn",width:60},{key:"delay",title:"Delay",width:70},{key:"delays",title:"Delays",width:150},{key:"relay",title:"Relay",width:200,render:e=>w(S,{class:e.tooltip?"":"break-all!","line-clamp":e.tooltip?9999:1,tooltip:!1},{default:()=>[e.relay]})},{key:"err_info",title:"Details",render:e=>w(S,{class:e.tooltip?"":"break-all!","line-clamp":e.tooltip?9999:1,tooltip:!1},{default:()=>[e.err_info]})}]),b=e=>({onMousemove:()=>{e.tooltip=!0},onMouseleave:()=>{e.tooltip=!1}}),D=async()=>{try{y(!0);const{message:e}=await c(f(s));a(e)&&(r.data=l(e.data)?e.data.map((e=>({...e,tooltip:!1}))):[],r.total=i(e.page))}finally{y(!1)}};return"domain"===s.type&&m.value.push({key:"status",title:"Status",width:100,ellipsis:{tooltip:!0},render:e=>e.status}),"status"===s.type&&m.value.unshift({key:"domain",title:"Domain",width:120,ellipsis:{tooltip:!0},render:e=>e.domain}),D(),(e,t)=>{const a=d,l=g,i=n;return h(),j(i,{class:"p-20px"},{table:k((()=>[w(a,{loading:v(o),data:v(r).data,columns:v(m),"row-props":b},null,8,["loading","data","columns"])])),pageRight:k((()=>[w(l,{page:v(s).page,"onUpdate:page":t[0]||(t[0]=e=>v(s).page=e),"page-size":v(s).size,"onUpdate:pageSize":t[1]||(t[1]=e=>v(s).size=e),"item-count":v(r).total,onRefresh:D},null,8,["page","page-size","item-count"])])),_:1})}}}),U={class:"p-20px"};e("default",m({__name:"index",props:{row:{}},setup(e){const a=e,i=_({task_id:a.row.id,type:"domain"}),{loading:c,setLoading:g}=p(),{table:m,columns:j}=u([{key:"domain",title:()=>w(b,null,["domain"===i.type?"Domain":"Status"]),render:e=>"domain"===i.type?e.domain:e.status},{key:"count",title:"Number"},y({width:120,options:e=>[{label:"Details",onClick:()=>{L(e)}}]})]),S=s(""),L=e=>{S.data.id=a.row.id,S.data.type=i.type,S.data.row=e,S.title=`Failure Details [${"domain"===i.type?e.domain:e.status}]`,S.show=!0},T=async()=>{try{g(!0);const{message:e}=await r(f(i));m.data=l(e)?e:[]}finally{g(!1)}};return T(),(e,a)=>{const l=z,s=R,u=d,p=n,y=o;return h(),D("div",U,[w(p,null,{toolsLeft:k((()=>[w(s,{value:v(i).type,"onUpdate:value":[a[0]||(a[0]=e=>v(i).type=e),T]},{default:k((()=>[w(l,{value:"domain"},{default:k((()=>[x("Domain")])),_:1}),w(l,{value:"status"},{default:k((()=>[x("Status")])),_:1})])),_:1},8,["value"])])),table:k((()=>[w(u,{"max-height":340,loading:v(c),data:v(m).data,columns:v(j)},null,8,["loading","data","columns"])])),_:1}),w(y,{show:v(S).show,"onUpdate:show":a[1]||(a[1]=e=>v(S).show=e),title:v(S).title,data:v(S).data,width:980,"min-height":152,component:t},null,8,["show","title","data"])])}}}))}}}));
