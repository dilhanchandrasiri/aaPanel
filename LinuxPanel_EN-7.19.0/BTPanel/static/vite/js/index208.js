import{_ as e}from"./index96.js?v=1732601582185";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import{b as a,aP as i}from"./site.js?v=1732601582185";import{f as o,I as n,m as r}from"./page_layout.js?v=1732601582185";import{b as t}from"./public.js?v=1732601582185";import{d as l,W as p,r as _,j as m,O as u,P as v,M as d,Y as c,Q as f,R as x,Z as P}from"./vue.js?v=1732601582185";import{bL as h,bG as g}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";const j={class:"px-20px py-24px"},b={class:"w-300px"},y=l({__name:"index",setup(l,{expose:y}){const{t:H}=p(),w=_(null),{loading:S,setLoading:$}=t(),L=m({php_version:null}),R={php_version:{required:!0,message:H("Site.PHP.index_67"),trigger:"change"}},k=_([]);return(async()=>{try{$(!0);const{message:e}=await a();if(o(e)){const s=n(e.versions)?e.versions:[];k.value=s.map((e=>({label:e.name,value:e.version}))),o(e.select)&&(L.php_version="".concat(e.select.version))}}finally{$(!1)}})(),y({onConfirm:async({hide:e})=>{var s;await(null==(s=w.value)?void 0:s.validate());const a=(()=>{const e=L.php_version;if(null===e)throw r.error(H("Site.PHP.index_67")),new Error(H("Site.PHP.index_67"));return{php_version:e}})();await i(a),e()}}),(a,i)=>{const o=h,n=g,r=s,t=e;return u(),v("div",j,[d(r,{ref_key:"formRef",ref:w,model:x(L),rules:R},{default:c((()=>[d(n,{label:a.$t("Site.PHP.index_55"),path:"php_version"},{default:c((()=>[f("div",b,[d(o,{value:x(L).php_version,"onUpdate:value":i[0]||(i[0]=e=>x(L).php_version=e),class:"php-version-select",loading:x(S),options:x(k)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),d(t,{class:"mt-8px"},{default:c((()=>[f("li",null,P(a.$t("Site.PHP.index_68")),1),f("li",null,P(a.$t("Site.PHP.index_69")),1)])),_:1})])}}});export{y as default};
