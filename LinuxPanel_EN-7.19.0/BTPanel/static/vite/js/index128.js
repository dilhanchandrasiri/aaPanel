import{_ as t}from"./index.js?v=1732601582185";import{_ as e}from"./index96.js?v=1732601582185";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{W as o,M as i,d as l,V as n,j as d,e as _,O as r,P as p,Y as u,c as m,Z as c,R as b,ao as y,Q as x}from"./vue.js?v=1732601582185";import{aa as f,cx as w,cy as v}from"./page_layout.js?v=1732601582185";import{j as D,d as h,f as j,a as g,b as k}from"./public.js?v=1732601582185";import{_ as C}from"./form.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import{aa as R}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import"./index230.js?v=1732601582185";function $(){const{t:t}=o();return{key:"db_password",title:t("Database.index_14"),width:160,render:t=>i(D,{value:t.db_password},null)}}function E(){const{t:t}=o();return{key:"ps",title:t("Database.tools.index_62")}}const q={class:"p-20px"},B={key:0},L=l({__name:"index",setup(l){const{t:D}=o(),L=f(),{type:P,remoteList:G}=n(L),H=d({show:!1,title:D("Database.tools.index_41"),data:{row:void 0,isEdit:!1}}),I=()=>{H.data.row=void 0,H.data.isEdit=!1,H.title=D("Database.tools.index_41"),H.show=!0},M=_((()=>G.value.filter((t=>0!==t.id)))),{columns:O}=h([{key:"db_host",title:D("Database.tools.index_42")},{key:"db_port",title:D("Docker.Container.create.index_7")},{key:"db_type",title:D("Database.tools.index_59")},{key:"db_user",title:D("Database.index_13")},$(),E(),j({width:"mysql"===L.type?150:100,options:t=>[{label:"Get DB",show:"mysql"===t.db_type,onClick:()=>{(async t=>{await w(P.value,{sid:t.id}),L.setRefresh(!0)})(t)}},{label:D("Public.Btn.Edit"),onClick:()=>{(t=>{H.data.row=t,H.data.isEdit=!0,H.title=D("Database.tools.index_58"),H.show=!0})(t)}},{label:D("Public.Btn.Del"),onClick:()=>{g({title:"".concat(D("Database.tools.index_60")," [").concat(t.db_host,"]"),content:D("Database.tools.index_61"),onConfirm:async({hide:e})=>{await(async t=>{await v(P.value,{id:t.id}),L.getRemote(),L.setRefresh(!0),L.setDelRemoteId(t.id)})(t),e()}})}}]})]),{loading:Q,setLoading:U}=k();return(async()=>{try{U(!0),L.getRemote()}finally{U(!1)}})(),(o,l)=>{const n=R,d=s,_=a,f=e,w=t;return r(),p("div",q,[i(_,null,{toolsLeft:u((()=>[i(n,{type:"primary",onClick:I},{default:u((()=>[m(c(o.$t("Database.tools.index_41")),1)])),_:1})])),table:u((()=>[i(d,{loading:b(Q),columns:b(O),data:b(M)},null,8,["loading","columns","data"])])),_:1}),i(f,{class:"mt-24px"},{default:u((()=>["mysql"===b(P)?(r(),p("li",B,c(o.$t("Database.tools.index_49")),1)):y("",!0),x("li",null,c(o.$t("Database.tools.index_50")),1),x("li",null,c(o.$t("Database.tools.index_51")),1),x("li",null,c(o.$t("Database.tools.index_52")),1)])),_:1}),i(w,{show:b(H).show,"onUpdate:show":l[0]||(l[0]=t=>b(H).show=t),title:b(H).title,width:460,footer:!0,data:b(H).data,component:C},null,8,["show","title","data"])])}}});export{L as default};
