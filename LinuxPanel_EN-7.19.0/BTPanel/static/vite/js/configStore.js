import{a1 as e,k as a,f as s,I as t}from"./page_layout.js?v=1732601582185";import{d as u,aq as i,r as o,O as n,P as l,M as p,Y as c,m as r,Q as d,Z as m,R as v,H as _,F as f,as as h}from"./vue.js?v=1732601582185";import{_ as y,bm as w}from"./naive.js?v=1732601582185";import{N as b,O as g,P as k,Q as x,R as I}from"./global.js?v=1732601582185";const S=u({__name:"index",props:{checked:{type:[String,Number,Boolean]},checkedModifiers:{}},emits:["update:checked"],setup(a,{expose:s}){const t=i(a,"checked"),u=e(),b=o(0),g=o(0),k=o(!1),x=o(),I=()=>{const e=x.value.$el.getClientRects(),{x:a,y:s}=e[0];b.value=a-5,g.value=s-3,k.value=!0,S()},S=h((()=>{k.value=!1}),2500);return s({validate:()=>new Promise(((e,a)=>{t.value?e(!0):(I(),a(!1))})),showTips:I}),(e,a)=>{const s=y,i=w;return n(),l(f,null,[p(s,{ref_key:"checkboxRef",ref:x,checked:t.value,"onUpdate:checked":a[0]||(a[0]=e=>t.value=e)},{default:c((()=>[r(e.$slots,"default")])),_:3},8,["checked"]),p(i,{show:v(k),x:v(b),y:v(g),trigger:"manual",placement:"top-start",style:_({backgroundColor:v(u).errorColor,color:"#fff"}),"arrow-style":{backgroundColor:v(u).errorColor}},{default:c((()=>[d("span",null,m(e.$t("Config.Safe.index_169")),1)])),_:1},8,["show","x","y","style","arrow-style"])],64)}}}),C={class:"confirm-tips"};const D=a({},[["render",function(e,a){return n(),l("ul",C,[r(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-afc54be1"]]),P=o({listenIpv6:!1,offlineMode:!1,debugMode:!1,apiInterface:!1,lang:null,langList:[],webname:"",session_timeout:"",session_timeout_source:0,sites_path:"",backup_path:"",serverIp:"",systemDate:"",username:"",account:""}),M=o({panelSSL:!1,basicAuth:!1,dynamicPwd:!1,pwdComplexity:!1,domain:"",limitIp:"",port:"7800",adminPath:"/",statusCode:404,pwdSetDay:0,pwdExpireDay:0,pwdExpireTime:0,uaAstrict:!1}),L=o([]);async function A(){const{message:e}=await b();s(e)&&(function(e){P.value.listenIpv6="checked"===e.ipv6,P.value.offlineMode="checked"===e.is_local,P.value.debugMode="checked"===e.debug,P.value.apiInterface="checked"===e.api,P.value.lang=e.language,P.value.langList=e.language_list.map((e=>({label:e.title,value:e.name}))),P.value.webname=e.webname||"",P.value.session_timeout=e.session_timeout||"",P.value.session_timeout_source=e.session_timeout_source||86400,P.value.sites_path=e.sites_path||"",P.value.backup_path=e.backup_path||"",P.value.systemDate=e.systemdate||"",P.value.username=e.username||"";const{panel:a,user_info:t}=e;s(a)&&(P.value.serverIp=a.address||"");s(t)&&(P.value.account=t.data.username)}(e),function(e){var a;const{panel:t,SSL:u}=e;M.value.panelSSL=u||location.protocol.indexOf("https:")>-1,M.value.basicAuth=(null==(a=e.basic_auth)?void 0:a.open)||!1,M.value.statusCode=e.status_code||404,s(t)&&(M.value.domain=t.domain||"",M.value.limitIp=t.limitip||"",M.value.port=t.listen_port||"7800",M.value.adminPath=t.admin_path||"/")}(e))}async function E(){const{message:e}=await g();L.value=t(e)?e:[]}async function j(){const{message:e}=await k();s(e)&&(M.value.dynamicPwd=e.result)}async function R(){const{message:e}=await x();s(e)&&(M.value.pwdSetDay=e.expire,M.value.pwdExpireDay=e.expire_day,M.value.pwdExpireTime=e.expire_time,M.value.pwdComplexity=e.password_safe)}async function T(){const{message:e}=await I();s(e)&&(M.value.uaAstrict="0"!==e.status)}function $(){return{webname:P.value.webname||"",session_timeout:P.value.session_timeout_source||86400,domain:M.value.domain,limitip:M.value.limitIp,sites_path:P.value.sites_path,backup_path:P.value.backup_path,address:P.value.serverIp,systemdate:P.value.systemDate,port:M.value.port}}function O(){P.value={listenIpv6:!1,offlineMode:!1,debugMode:!1,apiInterface:!1,lang:null,langList:[],webname:"",session_timeout:"",session_timeout_source:0,sites_path:"",backup_path:"",serverIp:"",systemDate:"",username:"",account:""},M.value={panelSSL:!1,basicAuth:!1,dynamicPwd:!1,pwdComplexity:!1,domain:"",limitIp:"",port:"7800",adminPath:"/",statusCode:404,pwdSetDay:0,pwdExpireDay:0,pwdExpireTime:0,uaAstrict:!1},L.value=[]}function N(){P.value=null,M.value=null,L.value=[]}export{D as _,E as a,j as b,R as c,T as d,N as e,S as f,A as g,$ as h,O as i,L as m,P as p,M as s};
