const __vite__fileDeps=["js/index101.js?v=1723125373998","js/index77.js?v=1723125373998","js/vue.js?v=1723125373998","js/Tabs.js?v=1723125373998","js/index.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","js/omit.js?v=1723125373998","css/index11.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang18.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998","js/useLoading.js?v=1723125373998","js/file2.js?v=1723125373998","js/Select.js?v=1723125373998","js/Tag.js?v=1723125373998","js/Empty.js?v=1723125373998","js/Spin.js?v=1723125373998","js/index73.js?v=1723125373998","js/useTableData.js?v=1723125373998","js/data.js?v=1723125373998","js/Skeleton.js?v=1723125373998","js/DataTable.js?v=1723125373998","js/Checkbox.js?v=1723125373998","js/Ellipsis.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang8.js?v=1723125373998","js/InputGroupLabel.js?v=1723125373998","js/InputGroup.js?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{M as e,a9 as a,k as o,L as t,v as r,e9 as l,ea as s,e as i,ae as m}from"./index.js?v=1723125373998";import{_ as d,a as n}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{_ as p}from"./index105.js?v=1723125373998";import{u as _}from"./useLoading.js?v=1723125373998";import{l as c,ad as u,r as f,f as v,S as k,Z as x,P as j,V as w,_ as h,W as g,q as C,a3 as b,a1 as D}from"./vue.js?v=1723125373998";import{_ as y}from"./Select.js?v=1723125373998";const E={class:"p-20px"},$={class:"w-300px"},L={class:"w-300px"},R={class:"w-300px"},U=c({__name:"index",props:{row:{default:void 0},isEdit:{type:Boolean,default:!1}},setup(c,{expose:U}){const P=c,{t:S}=u(),V=e(),q=f(null),A=v({template_id:null,project_name:"",remark:""}),B={template_id:{trigger:["change"],validator:()=>null!=A.template_id||new Error(S("Docker.Compose.form.index_5"))},project_name:{trigger:["blur","input"],validator:()=>""!==A.project_name.trim()||new Error(S("Docker.Compose.form.index_6"))}},H=f([]),{loading:I,setLoading:M}=_(),O=async()=>{try{M(!0);const{message:e}=await a();o(e)&&(H.value=e.map((e=>({label:e.name,value:e.id}))),A.template_id=e[0].id)}finally{M(!1)}},T=()=>{t({title:S("Docker.Compose.form.index_7"),footer:!0,width:650,minHeight:484,data:{onRefresh:()=>{O()}},component:D((()=>r((()=>import("./index101.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]))))})};return(()=>{const{row:e,isEdit:a}=P;a&&e&&(A.template_id=e.template_id,A.project_name=e.name,A.remark=e.remark)})(),O(),U({onConfirm:async()=>{var e;await(null==(e=q.value)?void 0:e.validate());const a={template_id:A.template_id||0,project_name:A.project_name,remark:A.remark},{row:o,isEdit:t}=P;t&&o?await l({...a,project_id:o.id}):await s(a),V.setRefresh(!0)}}),(e,a)=>{const o=y,t=i,r=d,l=m,s=p,_=n;return k(),x("div",E,[j(_,{ref_key:"formRef",ref:q,model:g(A),rules:B,"label-width":"150"},{default:w((()=>[j(r,{label:e.$t("Docker.Compose.form.index_1"),path:"template_id"},{default:w((()=>[h("div",$,[j(o,{value:g(A).template_id,"onUpdate:value":a[0]||(a[0]=e=>g(A).template_id=e),loading:g(I),options:g(H)},null,8,["value","loading","options"])]),j(t,{class:"ml-8px",onClick:T},{default:w((()=>[C(b(e.$t("Docker.Compose.form.index_2")),1)])),_:1})])),_:1},8,["label"]),j(r,{label:e.$t("Docker.Compose.form.index_3"),path:"project_name"},{default:w((()=>[h("div",L,[j(l,{value:g(A).project_name,"onUpdate:value":a[1]||(a[1]=e=>g(A).project_name=e),placeholder:e.$t("Docker.Compose.form.index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"]),j(r,{label:e.$t("Docker.Compose.form.index_4"),path:"remark","show-feedback":!1},{default:w((()=>[h("div",R,[j(s,{value:g(A).remark,"onUpdate:value":a[2]||(a[2]=e=>g(A).remark=e),rows:3,placeholder:e.$t("Docker.Compose.form.index_4")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{U as _};
