System.register(["./index-legacy.js?v=1723125373998","./Progress-legacy.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./DataTable-legacy.js?v=1723125373998"],(function(e,t){"use strict";var s,a,l,n,c,r,i,u,o,d,p,m,x,g,h,b;return{setters:[e=>{s=e.ao,a=e._,l=e.L},e=>{n=e._},e=>{c=e.l,r=e.r,i=e.k,u=e.S,o=e.Z,d=e._,p=e.a3,m=e.W,x=e.P,g=e.ad,h=e.F},e=>{b=e.N}],execute:function(){const t={class:"w-400px p-20px"},v={class:"mb-12px text-14px"},f=e("a",c({__name:"progress",props:{data:{}},emits:["close"],setup(e,{emit:a}){const l=e,{title:c,data:g,api:h,callback:b}=l.data,f=a,y=r(0),S=r(0),_=i((()=>g.length));return(async()=>{for(let t=0;t<g.length;t++)try{if(h){const e=await h(g[t]);g[t].batchStatus="success",g[t].reqMsg=s(e,"message.result","Success"),S.value+=1,S.value===_.value?y.value=100:y.value=Math.round(S.value/_.value*100)}}catch(e){g[t].batchStatus="error",g[t].reqMsg=s(e,"message.result","")}b?.(g),f("close")})(),(e,s)=>{const a=n;return u(),o("div",t,[d("div",v,[d("span",null,p(e.$t("Public.Components.index_10",m(c))),1),d("span",null,p(m(S))+"/"+p(m(_)),1)]),x(a,{type:"line",status:"success",percentage:m(y),height:24,"border-radius":4,"fill-border-radius":0,processing:!0,"show-indicator":!1,"indicator-placement":"inside"},null,8,["percentage"])])}}})),y={class:"p-24px"},S={class:"flex items-center mb-24px"},_={class:"flex-1 ml-12px text-14px leading-22px"},w={class:"flex-1 ml-12px text-14px leading-22px"};e("_",c({__name:"index",props:{data:{}},emits:["setConfirm"],setup(e,{expose:t,emit:s}){const{t:n}=g(),c=e,{title:i,desc:v,data:k,columns:C,api:M,done:$}=c.data,j=s,q=r([]),P=r([...C,{key:"batchStatus",title:"Result",align:"right",width:200,render:e=>"success"===e.batchStatus?x("span",{class:"text-primary"},[e.reqMsg]):"error"===e.batchStatus?x("span",{class:"text-error"},[e.reqMsg]):x("span",{class:"text-warning"},[n("Public.Components.index_11")])}]),z=r(!1),D=r(""),F=e=>{const t=e.filter((e=>"success"===e.batchStatus)).length,s=e.length-t;D.value=`${i} has been completed, total ${e.length} tasks, ${t} successes, ${s} failures`,z.value=!0,j("setConfirm",{text:"Done",disabled:!1}),$?.(e)};return(()=>{q.value=k.map((e=>({batchStatus:"wait",...e})));const{status:e}=c.data;"done"===e&&F(k)})(),t({onConfirm:({hide:e})=>(z.value?e():(j("setConfirm",{disabled:!0}),l({title:i,hideClose:!0,data:{title:i,api:M,data:q.value,callback:F},component:f})),!1)}),(e,t)=>{const s=a,l=b;return u(),o("div",y,[d("div",S,[m(z)?(u(),o(h,{key:1},[x(s,{name:"base-success",size:"40",class:"text-primary"}),d("div",w,p(m(D)),1)],64)):(u(),o(h,{key:0},[x(s,{name:"base-warning",size:"40",class:"text-warning"}),d("div",_,p(m(v)),1)],64))]),x(l,{"max-height":182,data:m(q),columns:m(P)},null,8,["data","columns"])])}}}))}}}));
