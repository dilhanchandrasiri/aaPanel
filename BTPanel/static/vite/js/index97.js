import{_ as a,a as e}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{M as l,eq as t,ae as s}from"./index.js?v=1723125373998";import{l as r,ad as o,r as p,f as u,S as i,Z as n,P as m,V as c,_ as d,W as _,t as v}from"./vue.js?v=1723125373998";import{_ as f}from"./Select.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";const g={class:"px-20px pt-24px pb-8px"},x={class:"w-240px"},h={class:"w-240px"},b=r({__name:"index",props:{row:{},list:{default:()=>[]}},setup(r,{expose:b}){const w=r,{t:j}=o(),k=l(),D=p(null),y=u({name:"",tag:""}),I=p([]),L={tag:{trigger:["blur","input"],validator:()=>""===y.tag.trim()?new Error(j("Docker.LocalImage.push_4")):!!y.tag.includes(":")||new Error(j("Docker.LocalImage.push_5"))}};return(()=>{const a=w.list.filter((a=>"Docker public repository"!==a.name));I.value=a.map((a=>({label:a.name,value:a.name}))),y.name=a[0].name})(),b({onConfirm:async()=>{var a;await(null==(a=D.value)?void 0:a.validate()),await t({...v(y),id:w.row.id}),k.setRefresh(!0)}}),(l,t)=>{const r=f,o=a,p=s,u=e;return i(),n("div",g,[m(u,{ref_key:"formRef",ref:D,model:_(y),rules:L},{default:c((()=>[m(o,{label:l.$t("Docker.LocalImage.push_1")},{default:c((()=>[d("div",x,[m(r,{value:_(y).name,"onUpdate:value":t[0]||(t[0]=a=>_(y).name=a),options:_(I)},null,8,["value","options"])])])),_:1},8,["label"]),m(o,{label:l.$t("Docker.LocalImage.push_2"),path:"tag"},{default:c((()=>[d("div",h,[m(p,{value:_(y).tag,"onUpdate:value":t[1]||(t[1]=a=>_(y).tag=a),placeholder:l.$t("Docker.LocalImage.push_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{b as default};
