import{g as a,h as e,k as t,n as s,ae as i,B as l,G as o,q as n}from"./index.js?v=1723125373998";import{_ as d,a as r}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{ba as m,a as p,bb as u,bc as c}from"./site.js?v=1723125373998";import{b as _}from"./useTableColumns.js?v=1723125373998";import{u as f}from"./useTableData.js?v=1723125373998";import{l as v,ad as h,r as x,f as b,S as j,Z as w,P,V as S,_ as g,W as y,b as k,q as C,a3 as H,t as T}from"./vue.js?v=1723125373998";import{N as q}from"./DataTable.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./Progress.js?v=1723125373998";import"./Switch.js?v=1723125373998";import"./Ellipsis.js?v=1723125373998";import"./data.js?v=1723125373998";import"./Skeleton.js?v=1723125373998";import"./Checkbox.js?v=1723125373998";import"./Select.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";import"./omit.js?v=1723125373998";const D={class:"p-20px"},E={class:"flex-1"},U={class:"mt-12px"},$={class:"px-20px pt-24px pb-8px"},N={class:"w-150px"},A=v({__name:"set",props:{data:{}},setup(v){const{t:A}=h(),B=v,{setOptions:G}=B.data,O=x(""),R=async()=>{const a=O.value.trim();""!==a?(await u({name:a}),O.value="",await K(),null==G||G(I.data)):s.error(A("Site.PHP.index_46"))},V=a(),W=x(null),Z=b({id:-1,name:""}),z={name:{required:!0,message:A("Site.PHP.index_46"),trigger:["blur","change"]}},F=async({hide:a})=>{var e;await(null==(e=W.value)?void 0:e.validate()),await c(T(Z)),await K(),null==G||G(I.data),a()},{table:I,columns:J}=f([{key:"name",title:"Name"},_({width:80,options:a=>[{label:"Edit",disabled:0===a.id,onClick:()=>{(a=>{Z.id=a.id,Z.name=a.name,V.title="".concat(A("Site.PHP.index_48")," [").concat(a.name,"]"),V.show=!0})(a)}},{label:"Del",disabled:0===a.id,onClick:()=>{e({title:"".concat(A("Site.PHP.index_49")," [").concat(a.name,"]"),content:A("Site.PHP.index_50"),onConfirm:async({hide:e})=>{await m({id:a.id}),await K(),null==G||G(I.data,a.id),e()}})}}]})]),K=async()=>{const{message:a}=await p();I.data=t(a)?a:[]};return K(),(a,e)=>{const t=i,s=l,m=o,p=q,u=d,c=r,_=n;return j(),w("div",D,[P(m,null,{default:S((()=>[g("div",E,[P(t,{value:y(O),"onUpdate:value":e[0]||(e[0]=a=>k(O)?O.value=a:null),placeholder:a.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),g("div",null,[P(s,{type:"primary",onClick:R},{default:S((()=>[C(H(a.$t("Site.Cert.Add")),1)])),_:1})])])),_:1}),g("div",U,[P(p,{"max-height":300,data:y(I).data,columns:y(J)},null,8,["data","columns"])]),P(_,{show:y(V).show,"onUpdate:show":e[2]||(e[2]=a=>y(V).show=a),title:y(V).title,width:350,footer:!0,onConfirm:F},{default:S((()=>[g("div",$,[P(c,{ref_key:"formRef",ref:W,model:y(Z),rules:z},{default:S((()=>[P(u,{label:a.$t("Site.PHP.index_47"),path:"name"},{default:S((()=>[g("div",N,[P(t,{value:y(Z).name,"onUpdate:value":e[1]||(e[1]=a=>y(Z).name=a),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])])),_:1},8,["show","title"])])}}});export{A as default};
