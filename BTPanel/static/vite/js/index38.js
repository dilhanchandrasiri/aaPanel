import{_ as e}from"./index73.js?v=1723125373998";import{_ as t,a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{d as s,r as l,ae as r,B as i}from"./index.js?v=1723125373998";import{w as o}from"./mail.js?v=1723125373998";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1723125373998";import{l as u,r as p,f as c,x as d,y as m,S as _,U as f,V as v,P as h,_ as j,W as x,q as b}from"./vue.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./Select.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";const g=()=>CKEDITOR.instances.editor.getData(),w={class:"w-350px"},y={class:"w-760px"},E={class:"w-760px"},T=j("div",{class:"w-760px h-392px"},[j("textarea",{class:"hidden",name:"editor",id:"editor",rows:"10"})],-1),R=j("li",{class:"text-error"}," Tip: This feature is only recommended for testing the sending function. If you use it, please use the client software (such as foxmail) or api interface. ",-1),k=u({__name:"index",setup(u){const k=p(),C=p(null),D=c({sender:null,mail_to:"",subject:"",content:""}),I={mail_to:{trigger:["blur","input"],validator:()=>""!==D.mail_to.trim()||new Error("Enter the recipient please")},subject:{trigger:["blur","input"],validator:()=>""!==D.subject.trim()||new Error("Enter the subject of the email please")},content:{validator:()=>""!==g()||new Error("Enter the content of the email please")}},O=async()=>{var e;await(null==(e=C.value)?void 0:e.validate());const t={mail_from:D.sender||"",mail_to:JSON.stringify(D.mail_to.split(",")),subject:D.subject,content:g(),subtype:"html",smtp_server:"localhost"};var a;await o(t),D.mail_to="",D.subject="",a="",CKEDITOR.instances.editor.setData(a)};return d((()=>{(async e=>{await s("/static/ckeditor/ckeditor.js?v=1723125373998"),CKEDITOR.replace(e,{customConfig:"/static/ckeditor/config.js?v1.0"})})("editor"),k.value.getList()})),m((()=>{CKEDITOR.remove(CKEDITOR.instances.editor)})),(s,o)=>{const u=t,p=r,c=i,d=a,m=e,g=l;return _(),f(g,{class:"p-16px"},{default:v((()=>[h(d,{ref_key:"formRef",ref:C,class:"pt-8px",model:x(D),rules:I},{default:v((()=>[h(u,{label:"Sender",path:"sender"},{default:v((()=>[j("div",w,[h(n,{ref_key:"senderRef",ref:k,value:x(D).sender,"onUpdate:value":o[0]||(o[0]=e=>x(D).sender=e),placeholder:"Please enter or select user email"},null,8,["value"])])])),_:1}),h(u,{label:"Recipient",path:"mail_to"},{default:v((()=>[j("div",y,[h(p,{value:x(D).mail_to,"onUpdate:value":o[1]||(o[1]=e=>x(D).mail_to=e),placeholder:"Multiple recipients use  ,  to separate recipient mailboxes"},null,8,["value"])])])),_:1}),h(u,{label:"Theme",path:"subject"},{default:v((()=>[j("div",E,[h(p,{value:x(D).subject,"onUpdate:value":o[2]||(o[2]=e=>x(D).subject=e),placeholder:""},null,8,["value"])])])),_:1}),h(u,{label:"Text",path:"content"},{default:v((()=>[T])),_:1}),h(u,{label:" ","show-feedback":!1},{default:v((()=>[h(c,{type:"primary",size:"large",onClick:O},{default:v((()=>[b("Send")])),_:1})])),_:1})])),_:1},8,["model"]),h(m,{class:"ml-24px mt-24px"},{default:v((()=>[R])),_:1})])),_:1})}}});export{k as default};
