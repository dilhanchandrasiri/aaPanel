import{b4 as t,f as a,Y as s,_ as e,j as o,n,k as l}from"./page_layout.js?v=1732601582185";import{b as i,a as u,v as r}from"./public.js?v=1732601582185";import{g as c,s as m}from"./php.js?v=1732601582185";import{aa as p,bh as f,bm as d}from"./naive.js?v=1732601582185";import{d as _,W as v,r as S,e as b,O as g,X as y,Y as P,R as h,M as k,Q as x,Z as C,ad as j,c as $}from"./vue.js?v=1732601582185";const w={class:"m-2px"},R=l(_({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(l){const _=l,{t:R}=v(),N=S({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),z=b((()=>t(N.value.name)+" "+N.value.version)),{loading:L,setLoading:Y}=i(),I=async()=>{try{Y(!0);const{message:t}=await c({name:_.softName});a(t)&&(N.value=t)}finally{Y(!1)}},M=(a,s)=>{const e="".concat(s," ").concat(z.value),o=R("Component.SoftState.index_1",[s.toLowerCase(),t(N.value.name)]);u({title:e,content:o,onConfirm:async()=>{await m({name:N.value.s_version,type:a}),I()}})},O=()=>{r({name:_.openSoft?_.openSoft:_.softName,title:z.value,admin:!1})};return I(),(t,a)=>{const l=s,i=e,u=p,r=o,c=n,m=f,_=d;return g(),y(_,{trigger:"hover"},{trigger:P((()=>[h(L)?(g(),y(l,{key:0,width:120,height:32,sharp:!1})):(g(),y(u,{key:1,class:"min-w-120px soft-btn",type:h(N).s_status?"default":"error",onClick:O},{default:P((()=>[k(i,{name:"soft-".concat(t.softName),size:"20"},null,8,["name"]),x("span",w,C(h(z)),1),x("span",{class:j(["iconfont","icon-".concat(h(N).s_status?"start":"stop")])},null,2)])),_:1},8,["type"]))])),default:P((()=>[k(m,{class:"items-center",size:8},{default:P((()=>[k(r,{onClick:a[0]||(a[0]=a=>M(h(N).s_status?"stop":"start",h(N).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")))},{default:P((()=>[$(C(h(N).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")),1)])),_:1}),k(c,{class:"mx-0!",vertical:""}),k(r,{onClick:a[1]||(a[1]=t=>M("restart",h(R)("Public.Status.Restart")))},{default:P((()=>[$(C(t.$t("Public.Status.Restart")),1)])),_:1}),k(c,{class:"mx-0!",vertical:""}),k(r,{onClick:a[2]||(a[2]=t=>M("reload",h(R)("Public.Status.Reload")))},{default:P((()=>[$(C(t.$t("Public.Status.Reload")),1)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-37200fbc"]]);export{R as _};
