import{_ as e}from"./index.js?v=1732601582185";import{_ as a}from"./index96.js?v=1732601582185";import{u as t,bv as s,f as l,m as n,aT as i,e as o,n as p,k as r}from"./page_layout.js?v=1732601582185";import{h as u,J as m}from"./public.js?v=1732601582185";import{g as _}from"./soft.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang21.js?v=1732601582185";import{bm as d,bh as v,bL as x,aa as f}from"./naive.js?v=1732601582185";import{d as h,W as j,r as y,R as g,O as b,P as w,M as k,Y as $,Q as H,ad as S,Z as I,ac as P,X as T,c as C,ao as L,l as M}from"./vue.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1732601582185";import"./theme-chrome.js?v=1732601582185";import"./file.js?v=1732601582185";const W={key:0,class:"p-30px"},N=["src"],O=["title"],R={class:"font-600 mt-30px"},U=["innerHTML"],q=r(h({__name:"index",props:{name:{},callback:{},hide:{}},setup(r){const{t:h}=j(),q=t(),J=r,Q=["nginx","apache","mysql","php"],X=e=>Q.includes(e)||e.startsWith("php-"),Y=y(),Z=y(""),z=y(),A=(e,a)=>{Z.value=a.ps},B=e=>M(d,{trigger:"hover",placement:"top-start"},{trigger:()=>M("span",e.label),default:()=>M("span",e.label)}),D=y(),E=async(e=1)=>{var a;if(D.value){const{message:t}=await s({sName:D.value.name,version:Y.value,type:e});if(l(t)){if(t.result)return n.success(t.result),q.taskCount+=1,null==(a=J.callback)||a.call(J),J.hide(),void i();await m({name:t.name,tmp_path:t.tmp_path,title:h("Soft.index_21")},(()=>{var e;null==(e=J.callback)||e.call(J)}))}J.hide()}},F=()=>{G.show=!0},G=u(h("Home.Install.index_7"),{name:J.name,callback:()=>{E(0)}});return(async()=>{const{message:e}=await o({sName:J.name},!0);l(e)&&(D.value=e,z.value=e.versions.map((a=>{const t=a.m_version+"."+a.version;return{label:5===e.type?a.m_version:t||a.m_version,value:5===e.type?a.m_version:t||a.m_version,ps:a.update_msg}})),Y.value=z.value[0].value,Z.value=z.value[0].ps)})(),(t,s)=>{const l=v,n=x,i=f,o=p,r=a,u=e;return g(D)?(b(),w("div",W,[k(l,{class:"justify-between! items-center"},{default:$((()=>[k(l,{class:"items-center"},{default:$((()=>[H("img",{class:"w-40px",src:g(_)(g(D).name)},null,8,N),H("div",null,[H("p",{class:S(["font-600 text-18px max-w-290px truncate",{"max-w-190px!":X(g(D).name)}]),title:"".concat(g(D).title," ").concat(g(Y))},I(g(D).title)+" "+I(g(D).title.indexOf("PHP-")>-1?"":g(Y)),11,O)])])),_:1}),k(l,null,{default:$((()=>[k(n,{class:"w-100px!",value:g(Y),"onUpdate:value":[s[0]||(s[0]=e=>P(Y)?Y.value=e:null),A],options:g(z),"render-label":B},null,8,["value","options"]),X(g(D).name)?(b(),T(i,{key:0,onClick:F},{default:$((()=>[C(I(t.$t("Home.Install.index_7")),1)])),_:1})):L("",!0),k(i,{type:"primary",onClick:s[1]||(s[1]=e=>E(1))},{default:$((()=>[C(I(X(g(D).name)?t.$t("Home.Install.index_5"):t.$t("Soft.index_34")),1)])),_:1})])),_:1}),k(o)])),_:1}),H("div",R,I(t.$t("Soft.index_39"))+"ï¼š",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:g(Z)},null,8,U),k(r,null,{default:$((()=>[H("li",null,I(t.$t("Soft.index_35")),1),H("li",null,I(t.$t("Soft.index_36")),1),H("li",null,I(t.$t("Soft.index_37")),1)])),_:1}),k(u,{show:g(G).show,"onUpdate:show":s[2]||(s[2]=e=>g(G).show=e),title:g(G).title,data:g(G).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):L("",!0)}}}),[["__scopeId","data-v-b8231626"]]);export{q as default};
