const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index183.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","css/index69.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{S as a,f as e,I as t,a4 as s,c as i}from"./page_layout.js?v=1732601582185";import{_ as l}from"./index.js?v=1732601582185";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{d as p,f as u,h as _}from"./public.js?v=1732601582185";import{B as m,G as d}from"./mail.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang16.js?v=1732601582185";import{d as f,W as h,r as g,j,M as x,c as v,f as w,O as y,X as b,Y as k,Z as E,R as M,a6 as R}from"./vue.js?v=1732601582185";import{bJ as L,bM as W,bN as C}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";const U=f({__name:"index",setup(f){const U=R((()=>i((()=>import("./index183.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),{t:B}=h(),D=g(),I=j({p:1,username:null}),{table:O,columns:P,setLoading:A}=p([{key:"from",title:B("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:B("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const e=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return x("span",{class:"cursor-pointer",onClick:()=>{H(a)}},[x("a",{class:"bt-link"},[a.subject]),x("span",{class:"text-desc"},[v(" - "),e||a.body])])}},{key:"time",title:B("Mail.Email.index_4"),width:"12%",minWidth:140,render:e=>a(e.time)},u({width:150,options:a=>[{label:B("Mail.Email.index_5"),onClick:()=>{H(a)}},{label:B("Public.Btn.Del"),onClick:()=>{J(a)}}]})]),G=_(),H=a=>{G.data.row=a,G.title=B("Mail.Email.index_7",[a.subject]),G.show=!0},J=async a=>{await m({path:a.path}),N()},N=async()=>{try{A(!0);const{message:a}=await d({p:I.p,username:I.username||""});e(a)&&(O.data=t(a.data)?a.data:[],O.total=s(a.page))}finally{A(!1)}},S=()=>{I.p=1,N()};return A(!0),w((async()=>{await D.value.getList()})),(a,e)=>{const t=W,s=C,i=r,p=o,u=n,_=l,m=L;return y(),b(m,{class:"p-16px"},{default:k((()=>[x(u,null,{toolsLeft:k((()=>[x(s,{class:"w-460px"},{default:k((()=>[x(t,null,{default:k((()=>[v(E(a.$t("Mail.Email.index_1")),1)])),_:1}),x(c,{ref_key:"senderRef",ref:D,value:M(I).username,"onUpdate:value":[e[0]||(e[0]=a=>M(I).username=a),S]},null,8,["value"])])),_:1})])),table:k((()=>[x(i,{loading:M(O).loading,data:M(O).data,columns:M(P)},null,8,["loading","data","columns"])])),pageRight:k((()=>[x(p,{page:M(I).p,"onUpdate:page":e[1]||(e[1]=a=>M(I).p=a),"item-count":M(O).total,onRefresh:N},null,8,["page","item-count"])])),_:1}),x(_,{show:M(G).show,"onUpdate:show":e[2]||(e[2]=a=>M(G).show=a),title:M(G).title,data:M(G).data,width:850,height:680,component:M(U)},null,8,["show","title","data","component"])])),_:1})}}});export{U as default};
