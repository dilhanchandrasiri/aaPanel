System.register(["./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./file-legacy.js?v=1732601582185","./public-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185"],(function(e,t){"use strict";var a,s,i,n,l,o,d,r,c,_,u,p,x,m,g,y,b,D,v,h,f,w,j,k,C;return{setters:[e=>{a=e._},e=>{s=e.aa,i=e.h,n=e.f,l=e.cK,o=e.I,d=e.cL},e=>{r=e.e},e=>{c=e.b,_=e.I,u=e.u},e=>{p=e.a,x=e._},e=>{m=e.d,g=e.W,y=e.r,b=e.M,D=e.O,v=e.P,h=e.Y,f=e.Q,w=e.Z,j=e.R,k=e.ao},e=>{C=e.bO},null,null],execute:function(){const t={class:"px-20px py-24px"},L={class:"font-bold"},$={class:"mt-16px text-error"},I={key:0,class:"mt-4px"};e("default",m({__name:"index",props:{data:{}},emits:["close"],setup(e,{expose:m,emit:O}){const{t:R}=g(),F=e,{ids:H}=F.data,K=O,M=s(),P=y(!0),Q=y([]),S=e=>{let t="--";for(let a=0;a<M.remoteList.length;a++){const s=M.remoteList[a];if(s.id===e){t=s.ps||s.db_host;break}}return t},U=y([{key:"name",title:R("Database.index_12"),ellipsis:{tooltip:{width:"trigger"}}},{key:"total",title:R("Component.UploadFile.index_4"),width:120,render:e=>i(e.total)},{key:"position",title:R("Database.index_19")},{key:"addtime",title:R("Docker.Container.config.status.index_11"),width:160,render:e=>e.addtime},{key:"result",title:R("Database.tools.index_24"),align:"right",width:140,render:e=>e.position!==M.remoteList[0].ps?b("div",{class:"text-error"},[R("Database.tools.index_25")]):b("div",{class:P.value?"":"text-error"},[P.value?R("Database.tools.index_26"):R("Database.tools.index_25")])}]),{loading:W,setLoading:Y}=c(),Z=async e=>await d(M.type,{name:e.name,id:e.id}),q=()=>{u({title:R("Database.index_30"),hideClose:!0,data:{title:R("Database.index_30"),api:Z,data:Q.value,callback:z},component:p})},z=e=>{K("close"),M.setRefresh(!0),u({title:R("Database.tools.index_30"),width:440,footer:!0,component:x,data:{title:R("Database.index_30"),data:e,status:"done",columns:[{key:"name",title:R("Database.index_12"),ellipsis:{tooltip:{width:"trigger"}}}]}})};return(async()=>{await(async()=>{const{message:e}=await r();n(e)&&(P.value=e.status_db)})(),(async()=>{try{Y(!0);const{message:e}=await l({ids:H});n(e)?Q.value=o(e.data)?e.data.map((e=>({...e,position:S(e.sid)}))):[]:Q.value=[]}finally{Y(!1)}})()})(),m({onConfirm:()=>{const e=R("Database.tools.index_27"),t=R("Database.tools.index_28");_({text:R("Database.index_30"),title:R("Database.tools.index_29"),content:P.value?e:t,onConfirm:async({hide:e})=>{q(),e()}})}}),(e,s)=>{const i=C,n=a;return D(),v("div",t,[b(i,{type:"warning"},{default:h((()=>[f("span",L,w(e.$t("Database.tools.index_20"))+": ",1),f("span",null,w(e.$t("Database.tools.index_21")),1)])),_:1}),b(n,{class:"mt-16px",loading:j(W),"loading-num":j(H).length,"max-height":300,data:j(Q),columns:j(U)},null,8,["loading","loading-num","data","columns"]),f("div",$,[f("p",null,w(e.$t("Database.tools.index_21")),1),j(P)?k("",!0):(D(),v("p",I,w(e.$t("Database.tools.index_22")),1))])])}}}))}}}));
