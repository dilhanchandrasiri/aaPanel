System.register(["./index-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1723125373998","./useTableData-legacy.js?v=1723125373998","./useTableColumns-legacy.js?v=1723125373998","./mail-legacy.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1723125373998","./data-legacy.js?v=1723125373998","./Skeleton-legacy.js?v=1723125373998","./DataTable-legacy.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./Ellipsis-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998","./omit-legacy.js?v=1723125373998","./Progress-legacy.js?v=1723125373998","./Switch-legacy.js?v=1723125373998"],(function(e,t){"use strict";var l,a,i,s,n,o,c,r,d,u,y,p,g,h,j,_,m,w,f,C,v,k,b,x;return{setters:[e=>{l=e.g,a=e.h,i=e.j,s=e.k,n=e.r,o=e.B,c=e.q,r=e.v},e=>{d=e._},e=>{u=e.u,y=e._},e=>{p=e.b},e=>{g=e.i,h=e.j},e=>{j=e.l,_=e.ad,m=e.f,w=e.P,f=e.S,C=e.U,v=e.V,k=e.q,b=e.W,x=e.a1},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",j({__name:"index",setup(e){const j=x((()=>r((()=>t.import("./index-legacy122.js?v=1723125373998")),void 0))),{t:B}=_(),E=m({p:1,size:10}),D=l("Add BCC",{isEdit:!1,row:void 0,onRefresh:()=>{q()}}),S=()=>{D.data.isEdit=!1,D.title="Add BCC",D.show=!0},T=new Map([["sender","When sending"],["recipient","When receiving"]]),{table:A,columns:P}=u([{key:"user",title:"Need Copy",ellipsis:{tooltip:!0}},{key:"forward_user",title:"Copy to",ellipsis:{tooltip:!0}},{key:"domain",title:"Domain",ellipsis:{tooltip:!0}},{key:"type",title:"BCC Type",render:e=>T.get(e.type)},{key:"active",title:"Active",render:e=>w("div",{class:[1===e.active?"text-primary":"text-error"]},[w("span",{class:["glyphicon","glyphicon-"+(1===e.active?"ok":"remove")]},null)])},p({width:150,options:e=>[{label:B("Public.Btn.Edit"),onClick:()=>{W(e)}},{label:B("Public.Btn.Del"),onClick:()=>{R(e)}}]})]),W=e=>{D.data.isEdit=!0,D.data.row=e,D.title="Edit BCC",D.show=!0},R=async e=>{a({title:"Delete forward",content:"Whether to delete the forward setting",onConfirm:async()=>{await g({type:e.type,user:e.user,forward_user:e.forward_user}),q()}})},q=async()=>{try{A.loading=!0;const{message:e}=await h();A.data=[],i(e)&&Object.entries(e).forEach((([e,t])=>{s(t)&&A.data.push(...t.map((t=>({...t,type:e}))))}))}finally{A.loading=!1}},U=()=>{E.p=1,q()};return q(),(e,t)=>{const l=o,a=y,i=d,s=c,r=n;return f(),C(r,{class:"p-16px"},{default:v((()=>[w(i,null,{toolsLeft:v((()=>[w(l,{type:"primary",onClick:S},{default:v((()=>[k("Add BCC")])),_:1})])),toolsRight:v((()=>[w(l,{onClick:U},{default:v((()=>[k("Refresh")])),_:1})])),table:v((()=>[w(a,{loading:b(A).loading,data:b(A).data,columns:b(P)},null,8,["loading","data","columns"])])),_:1}),w(s,{show:b(D).show,"onUpdate:show":t[0]||(t[0]=e=>b(D).show=e),title:b(D).title,data:b(D).data,width:540,"min-height":228,footer:!0,component:b(j)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
