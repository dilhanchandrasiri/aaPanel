import{_ as e,a,C as t}from"./index.vue_vue_type_script_setup_true_lang3.js?v=1732601582185";import{b as n,u as l,a as i,e as s,d as o,f as d}from"./public.js?v=1732601582185";import{a as r,g as f,s as u,b as p}from"./alarm.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import{_}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1732601582185";import{I as x,a0 as m,a1 as g,_ as v,f as C,E as b,a2 as S,k as w,m as h,J as y,a3 as $,D as k,S as P,a4 as U}from"./page_layout.js?v=1732601582185";import{d as j,W as B,r as R,j as L,x as E,O as z,P as I,M as D,Y as H,R as T,Q as A,X as F,c as K,Z as M,ac as O,ak as G,k as J,v as Q,a9 as W,F as X,an as Y,e as Z}from"./vue.js?v=1732601582185";import{bo as q,bG as N,aa as V,_ as ee,bO as ae,ad as te,bl as ne,bL as le,bP as ie,bQ as se}from"./naive.js?v=1732601582185";import{s as oe,_ as de,f as re,h as fe,c as ue}from"./configStore.js?v=1732601582185";import{O as pe}from"./open.js?v=1732601582185";import{r as ce}from"./home.js?v=1732601582185";import{r as _e,t as xe,u as me,v as ge,w as ve,x as Ce,y as be,z as Se,A as we,B as he,C as ye,D as $e,E as ke,F as Pe,G as Ue,H as je,I as Be,J as Re,K as Le}from"./global.js?v=1732601582185";import{_ as Ee}from"./index96.js?v=1732601582185";import{_ as ze}from"./index99.js?v=1732601582185";import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as De}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as He}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";const Te={class:"p-20px pt-28px pb-8px"},Ae={class:"w-300px"},Fe=j({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:a,emit:t}){const l=e,i=t,{t:s}=B(),o=R(null),d=L({status:!0,method:[]}),u={method:{trigger:["change"],validator:()=>0!==d.method.length||new Error(s("Config.Safe.index_7"))}},p=E([]),{loading:g,setLoading:v}=n();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(d.status=e||a[0].status,d.method=a[0].sender)})(),(async()=>{try{v(!0);const{message:e}=await f();p.value=x(e)?e:[]}finally{v(!1)}})(),a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await r((()=>{const e=p.value.filter((e=>"panel_safe_push"===e.source))[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:d.status,count:0,interval:600,project:"",help:600},sender:d.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),i("refresh")}}),(e,a)=>{const t=q,n=N,l=_,i=c,s=m;return z(),I("div",Te,[D(s,{show:T(g)},{default:H((()=>[D(i,{ref_key:"formRef",ref:o,model:T(d),rules:u},{default:H((()=>[D(n,{label:e.$t("Config.Safe.index_5")},{default:H((()=>[D(t,{value:T(d).status,"onUpdate:value":a[0]||(a[0]=e=>T(d).status=e)},null,8,["value"])])),_:1},8,["label"]),D(n,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:H((()=>[A("div",Ae,[D(l,{value:T(d).method,"onUpdate:value":a[1]||(a[1]=e=>T(d).method=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["show"])])}}}),Ke=j({__name:"index",setup(a){const{t:t}=B(),i=R(!1),s=R([]),o=async e=>{e?d(!0):(await u({task_id:s.value[0].id,status:0}),i.value=!1,s.value[0].status=!1)},d=(e=!1)=>{l({title:t("Config.Safe.index_4"),width:480,footer:!0,confirmText:t("Public.Btn.Save"),data:{open:e,taskList:s.value,onRefresh:c},component:Fe})},{loading:r,setLoading:f}=n(),c=async()=>{try{f(!0);const{message:e}=await p();if(x(e)){const a=e.filter((e=>"panel_safe_push"===e.keyword));a&&a.length>0?(i.value=a[0].status,s.value=a):(i.value=!1,s.value=[])}}finally{f(!1)}};return c(),(a,t)=>{const n=q,l=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_2")},{content:H((()=>[D(n,{loading:T(r),value:T(i),"onUpdate:value":o},null,8,["loading","value"]),D(l,{class:"ml-12px h-22px px-5px",size:"small",onClick:t[0]||(t[0]=e=>d())},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_3")),1)])),_:1},8,["label"])}}}),Me={class:"flex p-20px"},Oe={class:"min-w-32px"},Ge={class:"flex-1 ml-10px text-14px leading-22px"},Je={class:"flex items-center min-h-30px mb-12px text-error"},Qe=j({__name:"close",emits:["setConfirm"],setup(e,{expose:a,emit:t}){const n=t,{t:l}=B(),i=g(),s=R(!1),o=()=>{d>0||n("setConfirm",{disabled:!s.value})};let d=5;return(()=>{n("setConfirm",{text:l("Config.Safe.index_16",[d]),disabled:!0});const e=setInterval((()=>{d--,n("setConfirm",{text:l("Config.Safe.index_16",[d])}),d<=0&&(clearInterval(e),n("setConfirm",{text:l("Config.Safe.index_17"),disabled:!s.value}))}),1e3)})(),a({onConfirm:async()=>(await _e(),await ce(),setTimeout((()=>{{const e="http:"===location.protocol?"https":"http";window.location.href="".concat(e,"://").concat(window.location.host).concat(oe.value.adminPath)}}),1500),!1)}),(e,a)=>{const t=v,n=ee;return z(),I("div",Me,[A("div",Oe,[D(t,{name:"base-warning",color:T(i).warningColor,size:"32"},null,8,["color"])]),A("div",Ge,[A("div",Je,M(e.$t("Config.Safe.index_14")),1),D(n,{checked:T(s),"onUpdate:checked":[a[0]||(a[0]=e=>O(s)?s.value=e:null),o]},{default:H((()=>[K(M(e.$t("Config.Safe.index_15")),1)])),_:1},8,["checked"])])])}}}),We={class:"p-20px"},Xe={class:"flex flex-wrap py-2px text-primary text-12px"},Ye={class:"mr-24px"},Ze={class:"mr-24px"},qe={class:"flex gap-20px mt-16px"},Ne={class:"flex-1"},Ve={class:"mb-8px"},ea={class:"flex-1"},aa={class:"mb-8px"},ta={class:"mt-10px"},na={class:"bt-link",href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},la=j({__name:"set",setup(e){const a=R(""),t=R(""),n=L({subject:"--",issuer:"--",notBefore:"--",notAfter:"--"}),l=async()=>{await xe({privateKey:a.value,certPem:t.value},!0),i()},i=async()=>{const{message:e}=await me();C(e)&&(a.value=e.privateKey||"",t.value=e.certPem||"",n.subject=e.info.subject||"",n.issuer=e.info.issuer||"",n.notBefore=e.info.notBefore||"",n.notAfter=e.info.notAfter||"")};return i(),(e,i)=>{const s=ae,o=ze,d=V,r=Ee;return z(),I("div",We,[D(s,{type:"success","show-icon":!1},{default:H((()=>[A("div",Xe,[A("div",Ye,[K(M(e.$t("Config.Safe.index_37")),1),A("b",null,M(T(n).subject),1)]),A("div",Ze,[K(M(e.$t("Config.Safe.index_38")),1),A("b",null,M(T(n).issuer),1)]),A("div",null,[K(M(e.$t("Config.Safe.index_39")),1),A("b",null,M(T(n).notAfter),1)])])])),_:1}),A("div",qe,[A("div",Ne,[A("div",Ve,M(e.$t("Config.Safe.index_27")),1),D(o,{value:T(a),"onUpdate:value":i[0]||(i[0]=e=>O(a)?a.value=e:null),rows:14,placeholder:""},null,8,["value"])]),A("div",ea,[A("div",aa,M(e.$t("Config.Safe.index_28")),1),D(o,{value:T(t),"onUpdate:value":i[1]||(i[1]=e=>O(t)?t.value=e:null),rows:14,placeholder:""},null,8,["value"])])]),A("div",ta,[D(d,{type:"primary",onClick:l},{default:H((()=>[K(M(e.$t("Public.Btn.Save")),1)])),_:1})]),D(r,{class:"mt-12px"},{default:H((()=>[A("li",null,[K(M(e.$t("Config.Safe.index_40"))+" ",1),A("a",na," ["+M(e.$t("Public.Btn.Help"))+"] ",1)]),A("li",null,M(e.$t("Config.Safe.index_42")),1),A("li",null,M(e.$t("Config.Safe.index_43")),1)])),_:1})])}}}),ia={class:"bt-link",href:"https://forum.aapanel.com/d/15210-aapanel-enable-panel-ssl-use-self-signed-certificate-browser-add-secure",target:"_blank"},sa=j({__name:"index",setup(a){const{t:t}=B(),n=e=>{e?i():s()},i=()=>{l({title:t("Config.Safe.index_11"),width:600,footer:!0,component:pe})},s=()=>{l({title:t("Config.Safe.index_12"),width:400,footer:!0,confirmType:"error",component:Qe})},o=()=>{l({title:t("Config.Safe.index_13"),width:740,component:la})};return(a,t)=>{const l=q,i=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_8")},{content:H((()=>[D(l,{value:T(oe).panelSSL,"onUpdate:value":n},null,8,["value"]),D(i,{class:"ml-12px h-22px px-5px",size:"small",onClick:o},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_9")),1),A("a",ia,M(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),oa={class:"p-20px"},da={class:"w-280px"},ra={class:"w-280px"},fa={class:"text-error"},ua=j({__name:"config",setup(e){const{t:a}=B(),t=R(null),n=L({open:"True",basic_user:"",basic_pwd:""}),l={basic_user:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},i=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await ge(G(n)),b()};return(e,a)=>{const s=q,o=N,d=te,r=V,f=c,u=Ee;return z(),I("div",oa,[D(f,{ref_key:"formRef",ref:t,model:T(n),rules:l},{default:H((()=>[D(o,{label:e.$t("Config.Safe.index_54")},{default:H((()=>[D(s,{value:T(n).open,"onUpdate:value":a[0]||(a[0]=e=>T(n).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])])),_:1},8,["label"]),D(o,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:H((()=>[A("div",da,[D(d,{value:T(n).basic_user,"onUpdate:value":a[1]||(a[1]=e=>T(n).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])])),_:1},8,["label"]),D(o,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:H((()=>[A("div",ra,[D(d,{value:T(n).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>T(n).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])])),_:1},8,["label"]),D(o,{label:" ","show-feedback":!1},{default:H((()=>[D(r,{type:"primary",onClick:i},{default:H((()=>[K(M(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),D(u,{class:"mt-20px pl-12px"},{default:H((()=>[A("li",fa,M(e.$t("Config.Safe.index_59")),1),A("li",null,M(e.$t("Config.Safe.index_48")),1),A("li",null,M(e.$t("Config.Safe.index_49")),1),A("li",null,M(e.$t("Config.Safe.index_50")),1),A("li",null,M(e.$t("Config.Safe.index_51")),1)])),_:1})])}}}),pa={class:"p-20px"},ca={class:"text-error"},_a={class:"flex items-center justify-between"},xa={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},ma=j({__name:"confirm",setup(e,{expose:t}){const{t:n}=B(),i=R();return t({onConfirm:async()=>{await i.value.validate(),l({title:n("Config.Safe.index_53"),width:500,component:ua})}}),(e,t)=>{const n=a,l=de,s=re;return z(),I("div",pa,[D(n,{class:"mb-20px"},{default:H((()=>[K(M(e.$t("Config.Safe.index_47")),1)])),_:1}),D(l,{class:"mb-20px"},{default:H((()=>[A("li",ca,M(e.$t("Config.Safe.index_19")),1),A("li",null,M(e.$t("Config.Safe.index_48")),1),A("li",null,M(e.$t("Config.Safe.index_49")),1),A("li",null,M(e.$t("Config.Safe.index_50")),1),A("li",null,M(e.$t("Config.Safe.index_51")),1)])),_:1}),A("div",_a,[D(s,{ref_key:"riskRef",ref:i},{default:H((()=>[K(M(e.$t("Config.Safe.index_29")),1)])),_:1},512),A("a",xa,M(e.$t("Config.Safe.index_52")),1)])])}}}),ga={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},va=j({__name:"index",setup(a){const{t:t}=B(),n=async e=>{e?l({title:t("Config.Safe.index_46"),width:650,footer:!0,component:ma}):(await ge({open:"False",basic_user:"",basic_pwd:""}),b())};return(a,t)=>{const l=q,i=e;return z(),F(i,{label:a.$t("Config.Safe.index_44")},{content:H((()=>[D(l,{value:T(oe).basicAuth,"onUpdate:value":n},null,8,["value"])])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_45")),1),A("a",ga,M(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ca={class:"p-20px"},ba={class:"mb-20px text-20px text-center text-#555"},Sa={class:"px-36px"},wa={class:"mb-10px text-16px text-#666"},ha={class:"mb-20px px-24px py-16px bg-#f8f8f8 rounded-4px leading-24px text-14px text-#444 font-500"},ya={class:"text-#666"},$a={class:"text-#666"},ka={class:"mb-20px text-16px text-#666"},Pa={class:"bt-link",href:"",target:"_blank"},Ua={class:"text-error"},ja=w(j({__name:"config",setup(e){const a=L({key:"--",username:"--"}),t=R(""),{loading:l,setLoading:i}=n();return(async()=>{const{message:e}=await ve();C(e)&&(a.key=e.key,a.username=e.username)})(),(async()=>{try{i(!0);const{message:e}=await Ce({act:1});C(e)&&(t.value=e.result)}finally{i(!1)}})(),(e,n)=>{const i=S,s=m,o=Ee;return z(),I("div",Ca,[A("div",ba,M(e.$t("Config.Safe.index_70")),1),A("div",Sa,[A("div",wa,M(e.$t("Config.Safe.index_71")),1),A("div",ha,[A("div",null,[K(M(e.$t("Config.Safe.index_72"))+" ",1),A("span",ya,M(T(a).username),1)]),A("div",null,[K(M(e.$t("Config.Safe.index_73"))+" ",1),A("span",$a,M(T(a).key),1)]),A("div",null,[K(M(e.$t("Config.Safe.index_74"))+" ",1),n[0]||(n[0]=A("span",{class:"text-#666"},"Time based",-1))])]),A("div",ka,M(e.$t("Config.Safe.index_75")),1),D(s,{class:"flex justify-center h-150px",show:T(l)},{default:H((()=>[J(D(i,{value:T(t),size:150,padding:0},null,8,["value"]),[[Q,T(t)]])])),_:1},8,["show"]),D(o,null,{default:H((()=>[A("li",null,[K(M(e.$t("Config.Safe.index_76"))+" ",1),A("a",Pa,M(e.$t("Config.Safe.index_77")),1)]),A("li",Ua,M(e.$t("Config.Safe.index_78")),1)])),_:1})])])}}}),[["__scopeId","data-v-493fa0d9"]]),Ba={class:"p-20px"},Ra={class:"text-error"},La={class:"text-error"},Ea={class:"flex items-center justify-between"},za={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},Ia=j({__name:"confirm",setup(e,{expose:t}){const{t:n}=B(),i=R();return t({onConfirm:async()=>{await i.value.validate();const{message:e}=await be({act:1});oe.value.dynamicPwd=!0,l({title:n("Config.Safe.index_62"),width:600,component:ja}),C(e)&&h.success(e.result)}}),(e,t)=>{const n=a,l=de,s=re;return z(),I("div",Ba,[D(n,{class:"mb-20px"},{default:H((()=>[K(M(e.$t("Config.Safe.index_47")),1)])),_:1}),D(l,{class:"mb-20px"},{default:H((()=>[A("li",Ra,M(e.$t("Config.Safe.index_19")),1),A("li",La,M(e.$t("Config.Safe.index_69")),1),A("li",null,M(e.$t("Config.Safe.index_66")),1),A("li",null,M(e.$t("Config.Safe.index_67")),1)])),_:1}),A("div",Ea,[D(s,{ref_key:"riskRef",ref:i},{default:H((()=>[K(M(e.$t("Config.Safe.index_68")),1)])),_:1},512),A("a",za,M(e.$t("Config.Safe.index_168")),1)])])}}}),Da={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},Ha=j({__name:"index",setup(a){const{t:t}=B(),n=async e=>{e?i():(await be({act:0},!0),oe.value.dynamicPwd=!1)},i=()=>{oe.value.dynamicPwd?l({title:t("Config.Safe.index_62"),width:600,component:ja}):l({title:t("Config.Safe.index_63"),width:670,footer:!0,component:Ia})};return(a,t)=>{const l=q,s=V,o=e;return z(),F(o,{label:a.$t("Config.Safe.index_60")},{content:H((()=>[D(l,{value:T(oe).dynamicPwd,"onUpdate:value":n},null,8,["value"]),D(s,{class:"ml-12px h-22px px-5px",size:"small",onClick:i},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_61")),1),A("a",Da,M(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ta={class:"text-error"},Aa=j({__name:"index",setup(a){const{t:t}=B(),n=async e=>{i({title:t("Config.Safe.index_82",[t(e?"Config.Safe.index_83":"Config.Safe.index_84")]),content:()=>e?D(W,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>D("span",{class:"text-error"},[t("Config.Safe.index_86")])}):D(X,null,[t("Config.Safe.index_87")]),onConfirm:async()=>{await Se(),oe.value.pwdComplexity=e}})};return(a,t)=>{const l=q,i=e;return z(),F(i,{label:a.$t("Config.Safe.index_79")},{content:H((()=>[D(l,{value:T(oe).pwdComplexity,"onUpdate:value":n},null,8,["value"])])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_80")),1),A("span",Ta,M(a.$t("Config.Safe.index_81")),1)])),_:1},8,["label"])}}}),Fa={class:"w-260px"},Ka={class:"text-error"},Ma=j({__name:"index",setup(a){const t=async()=>{await we(fe()),b()};return(a,n)=>{const l=te,i=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_88")},{content:H((()=>[A("div",Fa,[D(l,{value:T(oe).domain,"onUpdate:value":n[0]||(n[0]=e=>T(oe).domain=e),placeholder:""},null,8,["value"])]),D(i,{class:"ml-12px",type:"primary",onClick:t},{default:H((()=>[K(M(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_89")),1),A("span",Ka,M(a.$t("Config.Safe.index_90")),1)])),_:1},8,["label"])}}}),Oa={class:"w-260px"},Ga={class:"text-error"},Ja=j({__name:"index",setup(a){const{t:t}=B(),n=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,a=oe.value.limitIp.split(",").join("-").split("-"),n=!0;if(a.length)for(let t=0;t<a.length;t++)0==e.test(a[t])&&(n=!1);if(!n&&oe.value.limitIp.length>0)return h.error(t("Config.Safe.index_95"));await he(fe()),b()};return(a,t)=>{const l=te,i=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_91")},{content:H((()=>[A("div",Oa,[D(l,{value:T(oe).limitIp,"onUpdate:value":t[0]||(t[0]=e=>T(oe).limitIp=e),placeholder:a.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),D(i,{class:"ml-12px",type:"primary",onClick:n},{default:H((()=>[K(M(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_93")),1),A("span",Ga,M(a.$t("Config.Safe.index_94")),1)])),_:1},8,["label"])}}}),Qa={class:"p-20px"},Wa={class:"text-error"},Xa={class:"text-error"},Ya={class:"w-210px"},Za=j({__name:"set",setup(e,{expose:a}){const{t:t}=B(),n=R(),l=R(null),i=L({port:y(oe.value.port)}),s={port:{trigger:["blur","input"],validator:()=>!!$(i.port)||new Error(t("Config.Safe.index_104"))}};return a({onConfirm:async()=>{var e;await n.value.validate(),await(null==(e=l.value)?void 0:e.validate());const a=fe();a.port="".concat(i.port),await ye(a),b("".concat(location.protocol,"//").concat(location.hostname,":").concat(i.port).concat(location.pathname))}}),(e,a)=>{const t=de,o=ne,d=N,r=c,f=re;return z(),I("div",Qa,[D(t,{class:"mb-20px"},{default:H((()=>[A("li",Wa,M(e.$t("Config.Safe.index_100")),1),A("li",Xa,M(e.$t("Config.Safe.index_101")),1)])),_:1}),D(r,{ref_key:"formRef",ref:l,model:T(i),rules:s},{default:H((()=>[D(d,{label:e.$t("Config.Safe.index_96"),path:"port","label-width":"auto","label-style":{paddingLeft:"24px"}},{default:H((()=>[A("div",Ya,[D(o,{value:T(i).port,"onUpdate:value":a[0]||(a[0]=e=>T(i).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),D(f,{ref_key:"riskRef",ref:n},{default:H((()=>[K(M(e.$t("Config.Safe.index_102"))+" ",1),A("a",{class:"bt-link",href:"https://www.aapanel.com/forum/d/599-how-to-release-the-aapanel-port",target:"_blank",onClick:Y((()=>!1),["stop"])},M(e.$t("Config.Safe.index_103")),1)])),_:1},512)])}}}),qa={class:"w-260px"},Na={class:"text-error"},Va=j({__name:"index",setup(a){const{t:t}=B(),n=async()=>{l({title:t("Config.Safe.index_99"),width:400,footer:!0,component:Za})};return(a,t)=>{const l=te,i=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_96")},{content:H((()=>[A("div",qa,[D(l,{value:T(oe).port,disabled:!0,placeholder:""},null,8,["value"])]),D(i,{class:"ml-12px",type:"primary",onClick:n},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_97")),1),A("span",Na,M(a.$t("Config.Safe.index_98")),1)])),_:1},8,["label"])}}}),et={class:"px-20px pt-28px pb-8px"},at={class:"w-240px"},tt=j({__name:"set",setup(e,{expose:a}){const{t:t}=B(),n=R(null),l=L({adminPath:oe.value.adminPath}),i={adminPath:{trigger:["blur","input"],validator:()=>""!==l.adminPath.trim()||new Error(t("Config.Safe.index_108"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await $e({admin_path:k(l.adminPath)}),oe.value.adminPath=l.adminPath}}),(e,a)=>{const t=te,s=N,o=c;return z(),I("div",et,[D(o,{ref_key:"formRef",ref:n,model:T(l),rules:i},{default:H((()=>[D(s,{label:e.$t("Config.Safe.index_105"),path:"adminPath"},{default:H((()=>[A("div",at,[D(t,{value:T(l).adminPath,"onUpdate:value":a[0]||(a[0]=e=>T(l).adminPath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),nt={class:"w-260px"},lt=j({__name:"index",setup(a){const{t:t}=B(),n=async()=>{l({title:t("Config.Safe.index_107"),width:440,footer:!0,component:tt})};return(a,t)=>{const l=te,i=V,s=e;return z(),F(s,{label:a.$t("Config.Safe.index_105")},{content:H((()=>[A("div",nt,[D(l,{value:T(oe).adminPath,disabled:!0,placeholder:""},null,8,["value"])]),D(i,{class:"ml-12px",type:"primary",onClick:n},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_106")),1)])),_:1},8,["label"])}}}),it={class:"px-20px py-24px"},st={class:"w-200px"},ot={class:"text-error"},dt=j({__name:"set",setup(e,{expose:a}){const{t:t}=B(),n=R(null),l=L({status_code:oe.value.statusCode}),i={},s=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await ke({status_code:l.status_code}),oe.value.statusCode=l.status_code}}),(e,a)=>{const t=le,o=N,d=c,r=Ee;return z(),I("div",it,[D(d,{ref_key:"formRef",ref:n,model:T(l),rules:i},{default:H((()=>[D(o,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:H((()=>[A("div",st,[D(t,{value:T(l).status_code,"onUpdate:value":a[0]||(a[0]=e=>T(l).status_code=e),options:s},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),D(r,null,{default:H((()=>[A("li",ot,M(e.$t("Config.Safe.index_119")),1)])),_:1})])}}}),rt={class:"w-260px"},ft=j({__name:"index",setup(a){const{t:t}=B(),n=new Map([[403,t("Config.Safe.index_111")],[404,t("Config.Safe.index_112")],[416,t("Config.Safe.index_113")],[408,t("Config.Safe.index_114")],[400,t("Config.Safe.index_115")],[401,t("Config.Safe.index_116")]]),i=Z((()=>n.get(oe.value.statusCode)||"--")),s=async()=>{l({title:t("Config.Safe.index_117"),width:420,footer:!0,component:dt})};return(a,t)=>{const n=te,l=V,o=e;return z(),F(o,{label:a.$t("Config.Safe.index_109")},{content:H((()=>[A("div",rt,[D(n,{value:T(i),disabled:!0,placeholder:""},null,8,["value"])]),D(l,{class:"ml-12px",type:"primary",onClick:s},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_110")),1)])),_:1},8,["label"])}}}),ut={class:"px-20px py-24px"},pt={class:"w-120px"},ct={class:"text-error"},_t=j({__name:"set",setup(e,{expose:a}){const{t:t}=B(),n=R(null),l=L({day:oe.value.pwdSetDay}),i={day:{trigger:["blur","input"],validator:()=>l.day<0?new Error(t("Config.Safe.index_128")):!(!l.day&&0!==l.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await Pe({expire:l.day}),ue()}}),(e,a)=>{const t=ne,s=N,o=c,d=Ee;return z(),I("div",ut,[D(o,{ref_key:"formRef",ref:n,model:T(l),rules:i},{default:H((()=>[D(s,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:H((()=>[A("div",pt,[D(t,{value:T(l).day,"onUpdate:value":a[0]||(a[0]=e=>T(l).day=e),min:0,"show-button":!1,placeholder:""},{suffix:H((()=>[K(M(e.$t("Public.Unit.Day",T(l).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),D(d,{class:"mt-4px"},{default:H((()=>[A("li",ct,M(e.$t("Config.Safe.index_126")),1),A("li",null,M(e.$t("Config.Safe.index_127")),1)])),_:1})])}}}),xt={class:"w-260px"},mt=j({__name:"index",setup(a){const{t:t}=B(),n=Z((()=>{const{pwdSetDay:e,pwdExpireDay:a,pwdExpireTime:n}=oe.value;return 0===e?t("Config.Safe.index_122"):t("Config.Safe.index_123",[P(n),a])})),i=async()=>{l({title:t("Config.Safe.index_124"),width:360,footer:!0,component:_t})};return(a,t)=>{const l=te,s=V,o=e;return z(),F(o,{label:a.$t("Config.Safe.index_120")},{content:H((()=>[A("div",xt,[D(l,{value:T(n),disabled:!0,placeholder:""},null,8,["value"])]),D(s,{class:"ml-12px",type:"primary",onClick:i},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_121")),1)])),_:1},8,["label"])}}}),gt={class:"p-20px"},vt={class:"mb-12px"},Ct={class:"mb-12px"},bt={class:"mb-20px"},St=j({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{s(a.address)};return(e,a)=>{const n=ze,l=V,i=Ee;return z(),I("div",gt,[A("div",vt,M(e.$t("Config.Safe.index_147")),1),A("div",Ct,[D(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),A("div",bt,[D(l,{type:"primary",onClick:t},{default:H((()=>[K(M(e.$t("Public.Btn.Copy")),1)])),_:1})]),D(i,null,{default:H((()=>[A("li",null,M(e.$t("Config.Safe.index_148")),1),A("li",null,M(e.$t("Config.Safe.index_149")),1),A("li",null,M(e.$t("Config.Safe.index_150")),1)])),_:1})])}}}),wt={class:"p-20px pt-28px pb-8px"},ht={class:"flex mb-24px"},yt={class:"min-w-32px"},$t={class:"flex-1 ml-16px"},kt={class:"leading-24px text-error text-14px"},Pt={class:"w-160px"},Ut=j({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const n=t,{t:i}=B(),s=g(),o=R(null),d=L({type:3,day:1}),r={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},f=e=>e%1==0,u=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);l({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:St})};return a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate());const{message:a}=await Ue({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});C(a)&&(u(a.token),h.success(a.msg),n("refresh"))}}),(e,a)=>{const t=v,n=ie,l=se,i=N,u=ne,p=c;return z(),I("div",wt,[A("div",ht,[A("div",yt,[D(t,{name:"base-warning",size:"32",color:T(s).warningColor},null,8,["color"])]),A("div",$t,[A("div",kt,[A("div",null,M(e.$t("Config.Safe.index_140")),1),A("div",null,M(e.$t("Config.Safe.index_141")),1)])])]),D(p,{ref_key:"formRef",ref:o,model:T(d),rules:r,"label-width":"140"},{default:H((()=>[D(i,{label:e.$t("Config.Safe.index_142")},{default:H((()=>[D(l,{value:T(d).type,"onUpdate:value":a[0]||(a[0]=e=>T(d).type=e)},{default:H((()=>[D(n,{value:3},{default:H((()=>[K("3 "+M(e.$t("Public.Unit.Hour",3)),1)])),_:1}),D(n,{value:6},{default:H((()=>[K("6 "+M(e.$t("Public.Unit.Hour",6)),1)])),_:1}),D(n,{value:9},{default:H((()=>[K("9 "+M(e.$t("Public.Unit.Hour",9)),1)])),_:1}),D(n,{value:12},{default:H((()=>[K("12 "+M(e.$t("Public.Unit.Hour",12)),1)])),_:1}),D(n,{value:0},{default:H((()=>[K(M(e.$t("Config.Safe.index_143")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),J(D(i,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:H((()=>[A("div",Pt,[D(u,{value:T(d).day,"onUpdate:value":a[1]||(a[1]=e=>T(d).day=e),min:1,"show-button":!1,validator:f},{suffix:H((()=>[K(M(e.$t("Public.Unit.Day",T(d).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[Q,0===T(d).type]])])),_:1},8,["model"])])}}}),jt={class:"p-20px h-500px"},Bt=j({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:t}=B(),{table:n,columns:l,setLoading:i}=o([{key:"type",title:t("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:t("Config.Safe.index_152"),width:140},{key:"log",title:t("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),s=async()=>{try{i(!0);const{message:e}=await je({id:a.id});n.data=x(e)?e:[]}finally{i(!1)}};return s(),(e,a)=>{const t=V,i=He,o=Ie;return z(),I("div",jt,[D(o,null,{toolsLeft:H((()=>[D(t,{onClick:s},{default:H((()=>[K(M(e.$t("Public.Btn.Refresh")),1)])),_:1})])),table:H((()=>[D(i,{"max-height":360,loading:T(n).loading,data:T(n).data,columns:T(l)},null,8,["loading","data","columns"])])),_:1})])}}}),Rt={class:"h-500px p-20px"},Lt=j({__name:"set",setup(e){const{t:a}=B(),t=()=>{l({title:a("Config.Safe.index_146"),width:580,footer:!0,component:Ut,data:{onRefresh:()=>{_()}}})},{table:n,columns:s,setLoading:r}=o([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?D("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):D("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):P(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>P(e.expire)},d({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{u(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{p(e)}}]})]),f=e=>{l({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Bt})},u=e=>{i({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await Be({id:e.id}),_()}})},p=e=>{i({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await Re({id:e.id}),_()}})},c=L({p:1,rows:10}),_=async()=>{try{r(!0);const{message:e}=await Le(G(c));C(e)&&(n.data=x(e.data)?e.data:[],n.total=U(e.page))}finally{r(!1)}};return _(),(e,a)=>{const l=V,i=He,o=De,d=Ie;return z(),I("div",Rt,[D(d,null,{toolsLeft:H((()=>[D(l,{type:"primary",onClick:t},{default:H((()=>[K(M(e.$t("Config.Safe.index_146")),1)])),_:1})])),table:H((()=>[D(i,{"max-height":340,loading:T(n).loading,data:T(n).data,columns:T(s)},null,8,["loading","data","columns"])])),pageRight:H((()=>[D(o,{page:T(c).p,"onUpdate:page":a[0]||(a[0]=e=>T(c).p=e),"page-size":T(c).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>T(c).rows=e),"item-count":T(n).total,onRefresh:_},null,8,["page","page-size","item-count"])])),_:1})])}}}),Et=j({__name:"index",setup(a){const{t:t}=B(),n=()=>{l({title:t("Config.Safe.index_139"),width:740,component:Lt})};return(a,t)=>{const l=V,i=e;return z(),F(i,{label:a.$t("Config.Safe.index_137")},{content:H((()=>[D(l,{type:"primary",onClick:n},{default:H((()=>[K(M(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:H((()=>[A("span",null,M(a.$t("Config.Safe.index_138")),1)])),_:1},8,["label"])}}}),zt=w(j({__name:"config",setup:e=>(e,a)=>(z(),I("div",null,[D(t,null,{default:H((()=>[K(M(e.$t("Config.Safe.index_1")),1)])),_:1}),D(Ke),D(sa),D(va),D(Ha),D(Aa),D(Ma),D(Ja),D(Va),D(lt),D(ft),D(mt),D(Et)]))}),[["__scopeId","data-v-919bcd3c"]]);export{zt as S};
