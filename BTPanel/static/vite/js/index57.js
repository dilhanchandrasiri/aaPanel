const __vite__fileDeps=["js/old2.js?v=1723125373998","js/site2.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","js/index70.js?v=1723125373998","css/index10.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998","css/index9.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998","js/DataTable.js?v=1723125373998","js/Checkbox.js?v=1723125373998","js/Ellipsis.js?v=1723125373998","js/Select.js?v=1723125373998","js/Tag.js?v=1723125373998","js/Empty.js?v=1723125373998","js/omit.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang3.js?v=1723125373998","js/useTableData.js?v=1723125373998","js/data.js?v=1723125373998","js/Skeleton.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang4.js?v=1723125373998","js/useLoading.js?v=1723125373998","js/useTableColumns.js?v=1723125373998","js/Progress.js?v=1723125373998","js/Switch.js?v=1723125373998","css/useTableColumns.css?v=1723125373998","js/site.js?v=1723125373998","js/index144.js?v=1723125373998","js/Tabs.js?v=1723125373998","css/index20.css?v=1723125373998","js/index105.js?v=1723125373998","js/use-theme-vars.js?v=1723125373998","css/index12.css?v=1723125373998","js/index77.js?v=1723125373998","css/index11.css?v=1723125373998","js/index73.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang8.js?v=1723125373998","js/InputGroupLabel.js?v=1723125373998","js/InputGroup.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998","js/file2.js?v=1723125373998","js/Spin.js?v=1723125373998","js/Space.js?v=1723125373998","js/index145.js?v=1723125373998","css/index21.css?v=1723125373998","js/index142.js?v=1723125373998","js/index143.js?v=1723125373998","js/check.js?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as e,aw as t,e as a,h as l,k as i,n,B as o,c_ as s,ae as r,g as u,q as d,cs as p,cG as c,G as _,p as x,bt as y,v as m,ay as h,cQ as v,bg as f,L as w,cV as b,I as g,m as S,r as k}from"./index.js?v=1723125373998";import{_ as P}from"./index70.js?v=1723125373998";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import{_ as $}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import{_ as U}from"./index.vue_vue_type_script_setup_true_lang3.js?v=1723125373998";import{u as L,_ as R}from"./useTableData.js?v=1723125373998";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1723125373998";import{s as V}from"./pinia.js?v=1723125373998";import{o as j,l as D}from"./site2.js?v=1723125373998";import{u as z}from"./useLoading.js?v=1723125373998";import{B as E,b as N,c as O,g as B,a as q}from"./useTableColumns.js?v=1723125373998";import{f as I,h as H,i as W,j as A,k as K,l as M,m as F,n as G,o as Q,p as J,q as Z,r as X,t as Y,u as ee,v as te,w as ae,x as le,y as ie,z as ne,A as oe,B as se,C as re,D as ue,E as de,F as pe,G as ce,H as _e,I as xe,J as ye,K as me,L as he,M as ve,N as fe,O as we,P as be,Q as ge,R as Se,S as ke,T as Pe,U as Ce,V as $e}from"./site.js?v=1723125373998";import{_ as Ue}from"./index144.js?v=1723125373998";import{A as Le,a as Re,P as Te,l as Ve,ad as je,r as De,S as ze,Z as Ee,_ as Ne,V as Oe,a3 as Be,W as qe,b as Ie,q as He,f as We,t as Ae,af as Ke,F as Me,U as Fe,x as Ge,L as Qe,n as Je,a1 as Ze,s as Xe,w as Ye}from"./vue.js?v=1723125373998";import{_ as et}from"./index105.js?v=1723125373998";import{_ as tt}from"./index77.js?v=1723125373998";import{_ as at}from"./index73.js?v=1723125373998";import{_ as lt,a as it,b as nt}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{_ as ot}from"./Switch.js?v=1723125373998";import{_ as st}from"./Select.js?v=1723125373998";import{_ as rt}from"./index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998";import{_ as ut}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998";import{_ as dt}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1723125373998";import{_ as pt,a as ct}from"./Checkbox.js?v=1723125373998";import{_ as _t}from"./Space.js?v=1723125373998";import{_ as xt}from"./index145.js?v=1723125373998";import{_ as yt}from"./Spin.js?v=1723125373998";import{_ as mt}from"./Tag.js?v=1723125373998";const ht=Symbol("server-list");async function vt(t){const{message:a}=await I({site_name:t});if(e(a))return a}async function ft(t,a){const{message:l}=await H({site_name:t,proxy_path:a});if(e(l))return l}function wt(){return Re(ht)}const{t:bt}=t.global;function gt({delDomain:e}){return{key:"action",title:bt("Site.TableRow.OPT"),width:80,align:"right",render:t=>Te(E,{options:[{label:bt("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(bt("Site.Batch.DeleteDomain.Title")," [").concat(t.name,"]"),content:bt("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const St={class:"flex justify-between items-center mb-24px"},kt={class:"w-400px"},Pt={class:"pr-40px"},Ct=Ve({__name:"index",setup(t,{expose:l}){const{t:s}=je(),{data:r}=wt(),u=De(""),d=async()=>{""!==u.value.trim()?(await K({id:r.id,site_name:r.name,domains:u.value.trim().split("\n").join(",")}),u.value="",f()):n.error(s("Site.Proxy.index_59"))},p=async e=>{await W({id:r.id,site_name:r.name,domain:e.name,port:e.port}),f()},{keys:c,table:_,columns:x}=L([{type:"selection",width:40},{key:"name",title:bt("Site.TableRow.Domain"),render:e=>Te(a,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:bt("Site.TableRow.Port"),width:100},gt({delDomain:p})]),y=()=>{_.data.length>1?x.value[x.value.length-1]=gt({delDomain:p}):x.value[x.value.length-1]={key:"action",title:bt("Site.TableRow.OPT"),width:80,align:"right",render:()=>Te("span",{class:"text-default"},[bt("Site.TableOP.Inoperable")])}},m=[{key:"del",type:"confirm",label:s("Site.Batch.DeleteWeb.Label1"),confirm:{title:s("Site.Batch.DeleteWeb.Label2"),desc:s("Site.Batch.DeleteWeb.Content"),api:e=>W({id:r.id,site_name:r.name,domain:e.name,port:e.port},!1),done:()=>{f()},columns:[{key:"name",title:s("Site.TableRow.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:h,setLoading:v}=z(),f=async()=>{try{v(!0);const t={id:r.id,site_name:r.name},{message:a}=await A(t);e(a)&&(_.data=i(a.domain_list)?a.domain_list:[],y())}catch(t){n.error(s("Site.Proxy.index_60"))}finally{c.value=[],v(!1)}};return f(),l({init:f}),(e,t)=>{const a=et,l=o,i=R,n=U,s=C;return ze(),Ee("div",null,[Ne("div",St,[Ne("div",kt,[Te(a,{value:qe(u),"onUpdate:value":t[0]||(t[0]=e=>Ie(u)?u.value=e:null)},{default:Oe((()=>[Ne("p",null,Be(e.$t("Site.PHP.add_site_5")),1),Ne("p",null,Be(e.$t("Site.PHP.add_site_6")),1),Ne("p",null,Be(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])]),Ne("div",Pt,[Te(l,{type:"primary",onClick:d},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Add")),1)])),_:1})])]),Te(s,null,{table:Oe((()=>[Te(i,{"checked-row-keys":qe(c),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(c)?c.value=e:null),loading:qe(h),"max-height":400,data:qe(_).data,columns:qe(x)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(n,{"checked-row-keys":qe(c),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Ie(c)?c.value=e:null),data:qe(_).data,options:m},null,8,["checked-row-keys","data"])])),_:1})])}}}),$t={class:"p-20px"},Ut={class:"w-280px"},Lt=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i}=V(l),n=e,{getList:o}=n.data,u=De(null),d=We({name:""}),p={name:{required:!0,message:a("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=u.value)?void 0:t.validate()),await M({site_name:i.value,ip_type:"white",ips:d.name}),null==o||o(),e()}}),(e,t)=>{const a=r,l=lt,i=it,n=at;return ze(),Ee("div",$t,[Te(i,{ref_key:"formRef",ref:u,model:qe(d),rules:p},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:Oe((()=>[Ne("div",Ut,[Te(a,{type:"textarea",value:qe(d).name,"onUpdate:value":t[0]||(t[0]=e=>qe(d).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(n,{class:"mt-4px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Rt=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),{loading:n,setLoading:r}=z(),p=s(),{siteName:c}=V(p),_=async()=>{try{r(!0);const t=await vt(c.value);e(t)&&(y.data=t.ip_limit.ip_white.map((e=>({ip:e}))))}finally{x.value=[],r(!1)}};_(),a({init:_});const{keys:x,table:y,columns:m}=L([{type:"selection",width:40},{key:"ip",title:i("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:i("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(i("Site.TableOP.Delete")," [").concat(e.ip,"]"),content:i("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await G({site_name:c.value,ip_type:"white",ip:e.ip}),_(),t()}})}}]})]),h=[{key:"del",label:i("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{l({title:i("Site.Batch.DeleteWeb.Label2"),content:i("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await F({site_name:c.value,ip_type:"white",ips:e.map((e=>e.ip)).join("\n")}),_(),t()}})}}],v=()=>{f.title=i("Site.Proxy.index_22"),f.show=!0},f=u(i("Site.Proxy.index_22"),{getList:_});return(e,t)=>{const a=o,l=R,i=U,s=C,r=d;return ze(),Ee("div",null,[Te(s,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:v},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_22")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(x)?x.value=e:null),"row-key":"ip",loading:qe(n),"max-height":440,data:qe(y).data,columns:qe(m)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(i,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(x)?x.value=e:null),"row-key":"ip",data:qe(y).data,options:h},null,8,["checked-row-keys","data"])])),_:1}),Te(r,{show:qe(f).show,"onUpdate:show":t[2]||(t[2]=e=>qe(f).show=e),title:qe(f).title,data:qe(f).data,width:480,footer:!0,component:Lt},null,8,["show","title","data"])])}}}),Tt={class:"p-20px"},Vt={class:"w-280px"},jt=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i}=V(l),n=e,{getList:o}=n.data,u=De(null),d=We({name:""}),p={name:{required:!0,message:a("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=u.value)?void 0:t.validate()),await M({site_name:i.value,ip_type:"black",ips:d.name}),null==o||o(),e()}}),(e,t)=>{const a=r,l=lt,i=it,n=at;return ze(),Ee("div",Tt,[Te(i,{ref_key:"formRef",ref:u,model:qe(d),rules:p},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:Oe((()=>[Ne("div",Vt,[Te(a,{type:"textarea",value:qe(d).name,"onUpdate:value":t[0]||(t[0]=e=>qe(d).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(n,{class:"mt-4px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Dt=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),{loading:n,setLoading:r}=z(),p=s(),{siteName:c}=V(p),_=async()=>{try{r(!0);const t=await vt(c.value);e(t)&&(y.data=t.ip_limit.ip_black.map((e=>({ip:e}))))}finally{x.value=[],r(!1)}};_(),a({init:_});const{keys:x,table:y,columns:m}=L([{type:"selection",width:40},{key:"ip",title:i("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:i("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(i("Site.TableOP.Delete")," [").concat(e.ip,"]"),content:i("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await G({site_name:c.value,ip_type:"black",ip:e.ip}),_(),t()}})}}]})]),h=[{key:"del",label:i("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{l({title:i("Site.Batch.DeleteWeb.Label2"),content:i("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await F({site_name:c.value,ip_type:"black",ips:e.map((e=>e.ip)).join("\n")}),_(),t()}})}}],v=()=>{f.title=i("Site.Proxy.index_21"),f.show=!0},f=u(i("Site.Proxy.index_21"),{getList:_});return(e,t)=>{const a=o,l=R,i=U,s=C,r=d;return ze(),Ee("div",null,[Te(s,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:v},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_21")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(x)?x.value=e:null),"row-key":"ip",loading:qe(n),"max-height":440,data:qe(y).data,columns:qe(m)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(i,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(x)?x.value=e:null),"row-key":"ip",data:qe(y).data,options:h},null,8,["checked-row-keys","data"])])),_:1}),Te(r,{show:qe(f).show,"onUpdate:show":t[2]||(t[2]=e=>qe(f).show=e),title:qe(f).title,data:qe(f).data,width:480,footer:!0,component:jt},null,8,["show","title","data"])])}}}),zt={class:"p-20px"},Et={class:"w-280px"},Nt={class:"w-280px"},Ot={class:"w-280px"},Bt={class:"w-280px"},qt=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i}=V(l),n=e,{isEdit:o,row:u,getList:d}=n.data,c=De(null),_=We({name:p(5),auth_path:"",username:"",password:""}),x={name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},auth_path:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},username:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]},password:{required:!0,message:a("Site.Placeholder.Index_8"),trigger:["blur","input"]}};return o&&u&&(_.name=u.auth_name,_.auth_path=u.auth_path),t({onConfirm:async({hide:e})=>{var t;await(null==(t=c.value)?void 0:t.validate()),o?await Q({...Ae(_),site_name:i.value}):await J({...Ae(_),site_name:i.value}),null==d||d(),e()}}),(e,t)=>{const a=r,l=lt,i=it,n=at;return ze(),Ee("div",zt,[Te(i,{ref_key:"formRef",ref:c,model:qe(_),rules:x},{default:Oe((()=>[Te(l,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:Oe((()=>[Ne("div",Et,[Te(a,{value:qe(_).name,"onUpdate:value":t[0]||(t[0]=e=>qe(_).name=e),disabled:qe(o),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.TableRow.Path"),path:"auth_path"},{default:Oe((()=>[Ne("div",Nt,[Te(a,{value:qe(_).auth_path,"onUpdate:value":t[1]||(t[1]=e=>qe(_).auth_path=e),disabled:qe(o),placeholder:e.$t("Site.Proxy.index_42")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Public.tableRow.Username"),path:"username"},{default:Oe((()=>[Ne("div",Ot,[Te(a,{value:qe(_).username,"onUpdate:value":t[2]||(t[2]=e=>qe(_).username=e)},null,8,["value"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Public.tableRow.Password"),path:"password"},{default:Oe((()=>[Ne("div",Bt,[Te(a,{value:qe(_).password,"onUpdate:value":t[3]||(t[3]=e=>qe(_).password=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(n,{class:"mt-4px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_43")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_44")),1)])),_:1})])}}}),It=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),{loading:n,setLoading:r}=z(),p=s(),{siteName:c}=V(p),_=async()=>{try{r(!0);const t=await vt(c.value);e(t)&&(y.data=t.basic_auth)}finally{r(!1)}};_(),a({init:_});const{keys:x,table:y,columns:m}=L([{key:"auth_name",title:i("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"auth_path",title:i("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:i("Site.TableOP.Edit"),onClick:()=>{f(e)}},{label:i("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(i("Site.Proxy.index_48")," [").concat(e.auth_name,"]"),content:i("Site.Proxy.index_49"),onConfirm:async({hide:t})=>{await Z({site_name:c.value,auth_path:e.auth_path,name:e.auth_name}),_(),t()}})}}]})]),h=u(i("Site.Proxy.index_45"),{isEdit:!1,getList:_}),v=()=>{h.data.isEdit=!1,h.title=i("Site.Proxy.index_45"),h.show=!0},f=e=>{h.data.row=e,h.data.isEdit=!0,h.title=i("Site.Proxy.index_50"),h.show=!0};return(e,t)=>{const a=o,l=R,i=C,s=at,r=d;return ze(),Ee("div",null,[Te(i,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:v},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_45")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(x)?x.value=e:null),"row-key":"name",loading:qe(n),"max-height":440,data:qe(y).data,columns:qe(m)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),Te(s,{class:"mt-16px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_46")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_47")),1)])),_:1}),Te(r,{show:qe(h).show,"onUpdate:show":t[1]||(t[1]=e=>qe(h).show=e),title:qe(h).title,data:qe(h).data,width:480,footer:!0,component:qt},null,8,["show","title","data"])])}}}),Ht={class:"p-20px"},Wt={key:0},At=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),n=s(),{siteName:r}=V(n),u=De(null),d=We({switchValue:!1,inputValue:1,selectValue:"m"}),p=async()=>{const t=await vt(r.value);e(t)&&(d.switchValue=t.proxy_cache.cache_status,t.proxy_cache.expires.length>1&&(d.inputValue=Number(t.proxy_cache.expires.slice(0,-1)),d.selectValue=t.proxy_cache.expires.slice(-1)))};p(),a({init:p});const y={inputValue:{required:!0,validator(e,t){if(!t)return new Error(i("Site.Proxy.index_26"))},trigger:["input","blur"]}},m=[{label:i("Public.Unit.Minute"),value:"m"},{label:i("Public.Unit.Hour"),value:"h"},{label:i("Public.Unit.Day"),value:"d"}],h=async()=>{var e;await(null==(e=u.value)?void 0:e.validate());let t={site_name:r.value,cache_status:d.switchValue?1:0,expires:"".concat(d.inputValue).concat(d.selectValue)};await X(t),p()},v=()=>{const e="".concat(i("Site.Proxy.index_27")," [").concat(r.value,"]");l({title:e,content:i("Site.Proxy.index_28"),onConfirm:async()=>{await Y({site_name:r.value})}})};return(e,t)=>{const a=ot,l=lt,i=c,n=st,s=_,r=o,p=nt,f=x,w=at;return ze(),Ee(Me,null,[Ne("div",Ht,[Te(p,{ref_key:"formRef",ref:u,"label-width":100,model:qe(d),rules:y,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_24")},{default:Oe((()=>[Te(a,{value:qe(d).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>qe(d).switchValue=e),h]},null,8,["value"])])),_:1},8,["label"]),qe(d).switchValue?(ze(),Ee("div",Wt,[Te(s,null,{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_25"),path:"inputValue"},{default:Oe((()=>[Te(i,{"show-button":!1,value:qe(d).inputValue,"onUpdate:value":t[1]||(t[1]=e=>qe(d).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),Te(l,null,{default:Oe((()=>[Te(n,{class:"w-90px",value:qe(d).selectValue,"onUpdate:value":t[2]||(t[2]=e=>qe(d).selectValue=e),placeholder:e.$t("Site.Proxy.index_26"),options:m},null,8,["value","placeholder"])])),_:1})])),_:1}),Te(l,{label:" "},{default:Oe((()=>[Te(r,{type:"primary",onClick:h},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Ke("",!0)])),_:1},8,["model"]),Te(f),Te(r,{class:"mt-20px",onClick:v},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_27")),1)])),_:1})]),Te(w,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_28")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_29")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_30")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_31")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_32"))+" css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map ",1)])),_:1})],64)}}}),Kt={class:"p-20px"},Mt={key:0},Ft=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n}=V(i),u=async()=>{const t=await vt(n.value);if(e(t)){p.switchValue=t.gzip.gzip_status,p.inputType=t.gzip.gzip_types,p.selectLevel=Number(t.gzip.gzip_comp_level);let e="",a="m";t.gzip.gzip_min_length&&t.gzip.gzip_min_length.length>1&&(e=t.gzip.gzip_min_length.slice(0,-1),a=t.gzip.gzip_min_length.slice(-1)),p.inputValue=Number(e),p.selectLength=a}};u(),a({init:u});const d=De(null),p=We({switchValue:!0,inputType:"",selectLevel:1,selectLength:"m",inputValue:1}),x={inputType:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},inputValue:{required:!0,trigger:"blur",validator:(e,t)=>{if(!t)return new Error(l("Site.Proxy.index_41"))}}},y=[{label:"k",value:"k"},{label:"m",value:"m"}],m=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9}],h=async()=>{var e;await(null==(e=d.value)?void 0:e.validate());let t={site_name:n.value,gzip_status:p.switchValue?1:0,gzip_min_length:"".concat(p.inputValue).concat(p.selectLength),gzip_comp_level:p.selectLevel,gzip_types:p.inputType};await ee(t),u()};return(e,t)=>{const a=ot,l=lt,i=r,n=st,s=c,u=_,v=o,f=nt,w=at;return ze(),Ee("div",Kt,[Te(f,{ref_key:"formRef",ref:d,"label-width":150,model:qe(p),rules:x,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_34")},{default:Oe((()=>[Te(a,{value:qe(p).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>qe(p).switchValue=e),h]},null,8,["value"])])),_:1},8,["label"]),qe(p).switchValue?(ze(),Ee("div",Mt,[Te(l,{label:e.$t("Site.Proxy.index_35"),path:"inputType"},{default:Oe((()=>[Te(i,{value:qe(p).inputType,"onUpdate:value":t[1]||(t[1]=e=>qe(p).inputType=e),type:"textarea",placeholder:"Please input"},null,8,["value"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Proxy.index_36")},{default:Oe((()=>[Te(n,{value:qe(p).selectLevel,"onUpdate:value":t[2]||(t[2]=e=>qe(p).selectLevel=e),options:m},null,8,["value"])])),_:1},8,["label"]),Te(u,null,{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_37"),path:"inputValue"},{default:Oe((()=>[Te(s,{"show-button":!1,value:qe(p).inputValue,"onUpdate:value":t[3]||(t[3]=e=>qe(p).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),Te(l,null,{default:Oe((()=>[Te(n,{class:"w-90px",value:qe(p).selectLength,"onUpdate:value":t[4]||(t[4]=e=>qe(p).selectLength=e),options:y},null,8,["value"])])),_:1})])),_:1}),Te(l,{label:" "},{default:Oe((()=>[Te(v,{type:"primary",onClick:h},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Ke("",!0)])),_:1},8,["model"]),Te(w,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_38")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_39")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_40")),1)])),_:1})])}}}),Gt={class:"p-20px"},Qt=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n}=V(i),u=async()=>{const t=await vt(n.value);e(t)&&(p.selectValue=t.proxy_log.log_type,p.inputValue=t.proxy_log.rsyslog_host,p.unx=t.proxy_log.log_path)};u(),a({init:u});const d=De(null),p=We({inputValue:"",selectValue:"default",unx:""}),c={inputValue:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},unx:{required:!0,message:l("Site.Proxy.index_41"),trigger:["blur","input"]}},_=[{label:l("Site.Proxy.index_54"),value:"default"},{label:l("Site.Proxy.index_55"),value:"off"},{label:l("Site.Proxy.index_56"),value:"file"},{label:l("Site.Proxy.index_57"),value:"rsyslog"}],x=async()=>{var e;await(null==(e=d.value)?void 0:e.validate());let t={site_name:n.value,log_type:p.selectValue,log_path:"file"===p.selectValue?p.unx:"rsyslog"===p.selectValue?p.inputValue:""};await te(t),u()};return(e,t)=>{const a=st,l=lt,i=rt,n=r,s=o,u=nt;return ze(),Ee("div",Gt,[Te(u,{ref_key:"formRef",ref:d,"label-width":150,model:qe(p),rules:c,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_51")},{default:Oe((()=>[Te(a,{class:"w-300px",value:qe(p).selectValue,"onUpdate:value":t[0]||(t[0]=e=>qe(p).selectValue=e),options:_},null,8,["value"])])),_:1},8,["label"]),"file"==qe(p).selectValue?(ze(),Fe(l,{key:0,label:e.$t("Site.Proxy.index_52"),path:"unx"},{default:Oe((()=>[Te(i,{class:"w-400px","checked-type":["dir"],value:qe(p).unx,"onUpdate:value":t[1]||(t[1]=e=>qe(p).unx=e)},null,8,["value"])])),_:1},8,["label"])):Ke("",!0),"rsyslog"==qe(p).selectValue?(ze(),Fe(l,{key:1,label:e.$t("Site.Proxy.index_53"),path:"inputValue"},{default:Oe((()=>[Te(n,{class:"w-300px!",value:qe(p).inputValue,"onUpdate:value":t[2]||(t[2]=e=>qe(p).inputValue=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1},8,["label"])):Ke("",!0),Te(l,{label:" "},{default:Oe((()=>[Te(s,{type:"primary",onClick:x},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Jt={class:"p-20px"},Zt=Ve({__name:"index",setup(t,{expose:a}){const l=s(),{siteName:i}=V(l),n=async()=>{const t=await vt(i.value);e(t)&&(r.switchValue=t.websocket.websocket_status)};n(),a({init:n});const o=De(null),r=We({switchValue:!1}),u=async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),ae({site_name:i.value,websocket_status:r.switchValue?1:0})};return(e,t)=>{const a=ot,l=lt,i=nt;return ze(),Ee("div",Jt,[Te(i,{ref_key:"formRef",ref:o,"label-width":150,model:qe(r),"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_58")},{default:Oe((()=>[Te(a,{value:qe(r).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>qe(r).switchValue=e),u]},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),Xt=Ve({__name:"index",setup(e){const{t:t}=je(),a=De("cache"),l=[{key:"cache",label:t("Site.Lable.Cache"),component:At},{key:"compressed",label:t("Site.Proxy.index_61"),component:Ft},{key:"black",label:t("Site.Proxy.index_62"),component:Dt},{key:"white",label:t("Site.Proxy.index_63"),component:Rt},{key:"http",label:t("Site.Proxy.index_64"),component:It},{key:"log",label:t("Site.Proxy.index_51"),component:Qt},{key:"websocket",label:t("Site.Proxy.index_65"),component:Zt}];return(e,t)=>{const i=tt;return ze(),Fe(i,{value:qe(a),"onUpdate:value":t[0]||(t[0]=e=>Ie(a)?a.value=e:null),options:l},null,8,["value"])}}}),Yt={class:"mb-10px"},ea=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),{data:i}=wt(),s=De(""),r=De(""),u=De({readOnly:!0}),{toClipboard:d}=O();let p=De();const c=async()=>{(async()=>{const{message:t}=await le({site_name:i.name});e(t)&&(r.value=t.site_conf)})()};return Ge((()=>{c()})),a({init:c}),(e,t)=>{const a=o;return ze(),Ee(Me,null,[Ne("div",Yt,Be(e.$t("Site.Proxy.index_73")),1),Te(ut,{path:qe(s),"onUpdate:path":t[0]||(t[0]=e=>Ie(s)?s.value=e:null),value:qe(r),"onUpdate:value":t[1]||(t[1]=e=>Ie(r)?r.value=e:null),config:qe(u),height:530,readOnly:!0,"show-tips":!1},null,8,["path","value","config"]),Te(a,{class:"mt-10px",ref_key:"copyBtn",ref:p,onClick:t[2]||(t[2]=e=>(async e=>{try{await d(e,p.value.$el),n.success(l("Site.Cert.index_1"))}catch(t){console.error(t),n.success(l("Site.Cert.index_2"))}})(qe(r)))},{default:Oe((()=>[He(Be(e.$t("Public.Btn.Copy")),1)])),_:1},512)],64)}}}),ta={key:0},aa={href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#server",target:"_blank",class:"text-#20a53a"},la={key:1},ia={href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#http",target:"_blank",class:"text-#20a53a"},na=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),{data:i}=wt(),s=De(""),r=De(""),u=De("server_block"),d=[{value:"server_block",label:"server"},{value:"http_block",label:"http"}],p=async()=>{await ie({site_name:i.name,conf_type:u.value,body:r.value}),y()},{toClipboard:c}=O();let x=De();const y=async()=>{(async()=>{const{message:t}=await le({site_name:i.name});e(t)&&(r.value=t[u.value])})()};return Ge((()=>{y()})),a({init:y}),(e,t)=>{const a=st,i=_,m=o,h=at;return ze(),Ee(Me,null,[Te(i,{class:"items-center mb-10px"},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_68"))+" ",1),Te(a,{class:"w-200px",value:qe(u),"onUpdate:value":[t[0]||(t[0]=e=>Ie(u)?u.value=e:null),y],options:d},null,8,["value"])])),_:1}),Te(ut,{path:qe(s),"onUpdate:path":t[1]||(t[1]=e=>Ie(s)?s.value=e:null),value:qe(r),"onUpdate:value":t[2]||(t[2]=e=>Ie(r)?r.value=e:null),config:d,height:400,"show-tips":!1},null,8,["path","value"]),Te(i,{class:"mt-10px mb-10px"},{default:Oe((()=>[Te(m,{type:"primary",onClick:p},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1}),Te(m,{ref_key:"copyBtn",ref:x,onClick:t[3]||(t[3]=e=>(async e=>{try{await c(e,x.value.$el),n.success(l("Site.Cert.index_1"))}catch(t){console.error(t),n.success(l("Site.Cert.index_2"))}})(qe(r)))},{default:Oe((()=>[He(Be(e.$t("Public.Btn.Copy")),1)])),_:1},512)])),_:1}),Te(h,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_69")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_70")),1),"server_block"==qe(u)?(ze(),Ee("li",ta,[He(Be(e.$t("Site.Proxy.index_71"))+" ",1),Ne("a",aa,Be(e.$t("Site.Proxy.index_72")),1)])):(ze(),Ee("li",la,[He(Be(e.$t("Site.Proxy.index_71"))+" ",1),Ne("a",ia,Be(e.$t("Site.Proxy.index_72")),1)]))])),_:1})],64)}}}),oa=Ve({__name:"index",setup(e){const{t:t}=je(),a=De("main"),l=[{key:"main",label:t("Site.Proxy.index_66"),component:ea},{key:"customize",label:t("Site.Proxy.index_67"),component:na}];return(e,t)=>{const i=tt;return ze(),Fe(i,{value:qe(a),"onUpdate:value":t[0]||(t[0]=e=>Ie(a)?a.value=e:null),options:l},null,8,["value"])}}}),sa={class:"px-20px py-24px"},ra={class:"w-120px"},ua={class:"w-120px"},da={class:"w-200px"},pa={class:"w-200px"},ca={class:"w-200px"},_a=Ve({__name:"form",props:{data:{}},setup(t,{expose:a}){const{t:l}=je(),n=t,{isEdit:o,siteId:s,siteName:u,row:d,getList:p}=n.data,c=De(null),x=We({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),y={redirectdomain:{trigger:["change"],validator:()=>0!==x.redirectdomain.length||new Error(l("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==x.redirectpath.trim()||new Error(l("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==x.tourl.trim()||new Error("Site.RulesError.RedirectedUrl")}},m=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],h=[{label:"301",value:"301"},{label:"302",value:"302"}],v=De([]),f=()=>{x.redirectdomain=[],x.redirectpath=""},{loading:w,setLoading:b}=z();return o&&d&&(x.redirectname=d.redirectname,x.type=d.type,x.holdpath=d.holdpath,x.redirecttype=d.redirecttype,x.redirectpath=d.redirectpath,x.domainorpath=d.domainorpath,x.redirectdomain=d.redirectdomain,x.tourl=d.tourl),(async()=>{try{b(!0);const{message:t}=await A({site_name:u,id:s});e(t)&&(v.value=i(t.domain_list)?t.domain_list.map((e=>({label:e.name,value:e.name}))):[])}finally{b(!1)}})(),a({onConfirm:async({hide:e})=>{var t;await(null==(t=c.value)?void 0:t.validate());const a={...Ae(x),site_name:u};o?await oe(a):await ne(a),null==p||p(),e()}}),(e,t)=>{const a=ot,l=lt,i=_,n=st,o=r,s=it,u=at;return ze(),Ee("div",sa,[Te(s,{ref_key:"formRef",ref:c,model:qe(x),rules:y},{default:Oe((()=>[Te(i,{size:60},{default:Oe((()=>[Te(l,{label:e.$t("Site.Lable.Enable")},{default:Oe((()=>[Te(a,{value:qe(x).type,"onUpdate:value":t[0]||(t[0]=e=>qe(x).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:Oe((()=>[Te(a,{value:qe(x).holdpath,"onUpdate:value":t[1]||(t[1]=e=>qe(x).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Te(i,{size:30},{default:Oe((()=>[Te(l,{label:e.$t("Site.TableRow.Type")},{default:Oe((()=>[Ne("div",ra,[Te(n,{value:qe(x).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>qe(x).domainorpath=e),f],options:m},null,8,["value"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:Oe((()=>[Ne("div",ua,[Te(n,{value:qe(x).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>qe(x).redirecttype=e),options:h},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===qe(x).domainorpath?(ze(),Fe(l,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:Oe((()=>[Ne("div",da,[Te(n,{value:qe(x).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>qe(x).redirectdomain=e),multiple:!0,loading:qe(w),options:qe(v),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Ke("",!0),"path"===qe(x).domainorpath?(ze(),Fe(l,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:Oe((()=>[Ne("div",pa,[Te(o,{value:qe(x).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>qe(x).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Ke("",!0),Te(l,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:Oe((()=>[Ne("div",ca,[Te(o,{value:qe(x).tourl,"onUpdate:value":t[6]||(t[6]=e=>qe(x).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(u,{class:"mt-12px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.0")),1),Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.1")),1),Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.2")),1),Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.3")),1),Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.4")),1),Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),xa={class:"p-20px"},ya={class:"mt-12px"},ma=Ve({__name:"config",props:{data:{}},emits:["close"],setup(t,{emit:a}){const l=t,{row:i,getList:s}=l.data,r=a,u=De(""),d=De(""),p=async()=>{const{message:t}=await re({path:i.redirect_conf_file,data:u.value,encoding:d.value});e(t)&&n.success(t.msg),null==s||s(),r("close")};return(async()=>{const{message:t}=await se({path:i.redirect_conf_file});e(t)&&(u.value=t.data,d.value=t.encoding)})(),(e,t)=>{const a=o,l=at;return ze(),Ee("div",xa,[Te(ut,{value:qe(u),"onUpdate:value":t[0]||(t[0]=e=>Ie(u)?u.value=e:null),height:350,"show-tips":!0},null,8,["value"]),Ne("div",ya,[Te(a,{type:"primary",onClick:p},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})]),Te(l,{class:"mt-24px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),ha=Ve({__name:"index",setup(e,{expose:t}){const{t:a}=je(),{data:n}=wt(),s=e=>({site_name:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:r,table:p,columns:c}=L([{title:a("Site.TableRow.Redirected"),key:"name",ellipsis:{tooltip:{width:"trigger"}},render:e=>"domain"===e.domainorpath&&e.redirectdomain.length?e.redirectdomain.join("、"):e.redirectpath},{title:a("Site.TableRow.Type"),key:"name",width:90,render:e=>"domain"===e.domainorpath?"Domain":"Approach"},{key:"tourl",title:a("Site.TableRow.RedirectedTo"),width:140},{key:"type",title:a("Site.TableRow.Status"),width:100,render:e=>Te(B,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await oe({...s(e),type:t,holdpath:e.holdpath,errorpage:0}),e.type=t}},null)},N({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{w(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{v(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(a("Site.Batch.DeleteRedirection.Label")," [").concat(e.redirectname,"]"),content:a("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await ue({site_name:n.name,redirectname:e.redirectname}),y(),t()}})}}]})]),{loading:_,setLoading:x}=z(),y=async()=>{try{x(!0);const{message:e}=await de({sitename:n.name});p.data=i(e)?e:[]}finally{r.value=[],x(!1)}},m=u(a("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:n.id,siteName:n.name,isEdit:!1,getList:y}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.RedirectConfig.Create"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.redirectname,"]"),m.show=!0},f=u("",{row:void 0,siteName:n.name,getList:y}),w=e=>{f.data.row=e,f.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.redirectname,"]"),f.show=!0};return y(),t({init:y}),(e,t)=>{const a=o,l=R,i=C,n=at,s=d;return ze(),Ee("div",null,[Te(i,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:h},{default:Oe((()=>[He(Be(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(r)?r.value=e:null),"row-key":"redirectname",loading:qe(_),"max-height":440,data:qe(p).data,columns:qe(c)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),Te(n,{class:"mt-20px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Config.RedirectConfig.Tips.7")),1)])),_:1}),Te(s,{show:qe(m).show,"onUpdate:show":t[1]||(t[1]=e=>qe(m).show=e),title:qe(m).title,data:qe(m).data,width:660,footer:!0,component:_a},null,8,["show","title","data"]),Te(s,{show:qe(f).show,"onUpdate:show":t[2]||(t[2]=e=>qe(f).show=e),title:qe(f).title,data:qe(f).data,width:580,component:ma},null,8,["show","title","data"])])}}}),va={class:"m-15px"},fa={class:"list-none!"},wa={class:"list-none!"},ba={class:"list-none!"},ga=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=e,{getList:i,siteName:n}=l.data,o=()=>{"2"===p.proxy_type?p.proxy_host="$http_host":p.proxy_host=""},s=e=>{if("2"===p.proxy_type)return void(p.proxy_host="$http_host");let t=e.replace(/^http[s]?:\/\//,"");t=t.replace(/(:|\?|\/|\\)(.*)$/,""),p.proxy_host=t},u=De(null),d=[{label:a("Site.Proxy.index_11"),value:"1"},{label:a("Site.Proxy.index_12"),value:"2"}],p=We({proxy_path:"",proxy_type:"1",url:"http://",unx:"",proxy_host:"$http_host",remark:""}),c={proxy_path:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(""===t.trim())return new Error(a("Site.RulesError.Index_3"))}},url:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(!t.replace(/^http[s]?:\/\//,""))return new Error(a("Site.Proxy.index_14"));let l=t.replace(/^http[s]?:\/\//,"");return l=l.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(l)?p.proxy_host="$http_host":p.proxy_host=l,!0}},unx:{required:!0,message:a("Site.PHP.add_site_26"),trigger:["blur","change"]},proxy_host:{required:!0,message:a("Site.PHP.add_site_26"),trigger:["blur","change"]}};return Ge((()=>{})),t({onConfirm:async()=>{var e;await(null==(e=u.value)?void 0:e.validate());let t={site_name:n,remark:p.remark,proxy_type:"1"==p.proxy_type?"http":"unix",proxy_pass:"1"==p.proxy_type?p.url:p.unx,proxy_path:p.proxy_path,proxy_host:p.proxy_host};await pe(t),null==i||i()}}),(e,t)=>{const a=r,l=lt,i=st,n=rt,x=_,m=y,h=it,v=at;return ze(),Ee("div",va,[Te(h,{ref_key:"formRef",ref:u,model:qe(p),rules:c},{default:Oe((()=>[Te(l,{label:e.$t("Site.TableRow.ProxyPath"),path:"proxy_path",class:"w-570px"},{default:Oe((()=>[Te(a,{value:qe(p).proxy_path,"onUpdate:value":t[0]||(t[0]=e=>qe(p).proxy_path=e),placeholder:e.$t("Site.Placeholder.Index_9")},null,8,["value","placeholder"])])),_:1},8,["label"]),Te(x,null,{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_1")},{default:Oe((()=>[Te(i,{value:qe(p).proxy_type,"onUpdate:value":[t[1]||(t[1]=e=>qe(p).proxy_type=e),o],options:d,class:"w-120px"},null,8,["value"])])),_:1},8,["label"]),"1"==qe(p).proxy_type?(ze(),Fe(l,{key:0,path:"url",class:"w-310px"},{default:Oe((()=>[Te(a,{value:qe(p).url,"onUpdate:value":t[2]||(t[2]=e=>qe(p).url=e),onInput:s},null,8,["value"])])),_:1})):(ze(),Fe(l,{key:1,path:"unx",class:"w-310px"},{default:Oe((()=>[Te(n,{"checked-type":["dir","file"],value:qe(p).unx,"onUpdate:value":t[3]||(t[3]=e=>qe(p).unx=e),onChange:s},null,8,["value"])])),_:1}))])),_:1}),Te(l,{label:e.$t("Site.Proxy.index_2"),path:"proxy_host",class:"w-570px"},{default:Oe((()=>[Te(m,{trigger:"hover"},{trigger:Oe((()=>[Te(a,{value:qe(p).proxy_host,"onUpdate:value":t[4]||(t[4]=e=>qe(p).proxy_host=e)},null,8,["value"])])),default:Oe((()=>[He(" "+Be(e.$t("Site.Proxy.index_75")),1)])),_:1})])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Proxy.index_3"),class:"w-570px"},{default:Oe((()=>[Te(a,{value:qe(p).remark,"onUpdate:value":t[5]||(t[5]=e=>qe(p).remark=e),placeholder:e.$t("Site.Proxy.index_5")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),Te(v,{class:"mt-16px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_76")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_77")),1),Ne("li",fa,Be(e.$t("Site.Proxy.index_78")),1),Ne("li",wa,Be(e.$t("Site.Proxy.index_79")),1),Ne("li",ba,Be(e.$t("Site.Proxy.index_80")),1)])),_:1})])}}}),Sa={class:"p-20px"},ka={class:"w-280px"},Pa=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i,proxyPath:n}=V(l),o=e,{getList:u}=o.data,d=De(null),p=We({name:""}),c={name:{required:!0,message:a("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),await ce({site_name:i.value,proxy_path:n.value,ip_type:"white",ips:p.name}),null==u||u(),e()}}),(e,t)=>{const a=r,l=lt,i=it,n=at;return ze(),Ee("div",Sa,[Te(i,{ref_key:"formRef",ref:d,model:qe(p),rules:c},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:Oe((()=>[Ne("div",ka,[Te(a,{type:"textarea",value:qe(p).name,"onUpdate:value":t[0]||(t[0]=e=>qe(p).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(n,{class:"mt-4px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Ca=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),{loading:n,setLoading:r}=z(),p=s(),{siteName:c,proxyPath:_}=V(p),x=async()=>{try{r(!0);const t=await ft(c.value,_.value);e(t)&&(m.data=t.ip_limit.ip_white.map((e=>({ip:e}))))}finally{y.value=[],r(!1)}};x(),a({init:x});const{keys:y,table:m,columns:h}=L([{type:"selection",width:40},{key:"ip",title:i("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:i("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(i("Site.TableOP.Delete")," [").concat(e.ip,"]"),content:i("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await xe({site_name:c.value,proxy_path:_.value,ip_type:"white",ip:e.ip}),x(),t()}})}}]})]),v=[{key:"del",label:i("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{l({title:i("Site.Batch.DeleteWeb.Label2"),content:i("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await _e({site_name:c.value,proxy_path:_.value,ip_type:"white",ips:e.map((e=>e.ip)).join("\n")}),x(),t()}})}}],f=()=>{w.title=i("Site.Proxy.index_22"),w.show=!0},w=u(i("Site.Proxy.index_22"),{getList:x});return(e,t)=>{const a=o,l=R,i=U,s=C,r=d;return ze(),Ee("div",null,[Te(s,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:f},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_22")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(y)?y.value=e:null),"row-key":"ip",loading:qe(n),"max-height":440,data:qe(m).data,columns:qe(h)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(i,{"checked-row-keys":qe(y),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(y)?y.value=e:null),"row-key":"ip",data:qe(m).data,options:v},null,8,["checked-row-keys","data"])])),_:1}),Te(r,{show:qe(w).show,"onUpdate:show":t[2]||(t[2]=e=>qe(w).show=e),title:qe(w).title,data:qe(w).data,width:480,footer:!0,component:Pa},null,8,["show","title","data"])])}}}),$a={class:"p-20px"},Ua={class:"w-280px"},La=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i,proxyPath:n}=V(l),o=e,{getList:u}=o.data,d=De(null),p=We({name:""}),c={name:{required:!0,message:a("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),await ce({site_name:i.value,proxy_path:n.value,ip_type:"black",ips:p.name}),null==u||u(),e()}}),(e,t)=>{const a=r,l=lt,i=it,n=at;return ze(),Ee("div",$a,[Te(i,{ref_key:"formRef",ref:d,model:qe(p),rules:c},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:Oe((()=>[Ne("div",Ua,[Te(a,{type:"textarea",value:qe(p).name,"onUpdate:value":t[0]||(t[0]=e=>qe(p).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Te(n,{class:"mt-4px"},{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Ra=Ve({__name:"index",setup(t,{expose:a}){const{t:i}=je(),{loading:n,setLoading:r}=z(),p=s(),{siteName:c,proxyPath:_}=V(p),x=async()=>{try{r(!0);const t=await ft(c.value,_.value);e(t)&&(m.data=t.ip_limit.ip_black.map((e=>({ip:e}))))}finally{y.value=[],r(!1)}};x(),a({init:x});const{keys:y,table:m,columns:h}=L([{type:"selection",width:40},{key:"ip",title:i("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:i("Site.TableOP.Del"),onClick:()=>{l({title:"".concat(i("Site.TableOP.Delete")," [").concat(e.ip,"]"),content:i("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await xe({site_name:c.value,proxy_path:_.value,ip_type:"black",ip:e.ip}),x(),t()}})}}]})]),v=[{key:"del",label:i("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{l({title:i("Site.Batch.DeleteWeb.Label2"),content:i("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await _e({site_name:c.value,proxy_path:_.value,ip_type:"black",ips:e.map((e=>e.ip)).join("\n")}),x(),t()}})}}],f=()=>{w.title=i("Site.Proxy.index_21"),w.show=!0},w=u(i("Site.Proxy.index_21"),{getList:x});return(e,t)=>{const a=o,l=R,i=U,s=C,r=d;return ze(),Ee("div",null,[Te(s,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:f},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_21")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(y)?y.value=e:null),"row-key":"ip",loading:qe(n),"max-height":440,data:qe(m).data,columns:qe(h)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(i,{"checked-row-keys":qe(y),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(y)?y.value=e:null),"row-key":"ip",data:qe(m).data,options:v},null,8,["checked-row-keys","data"])])),_:1}),Te(r,{show:qe(w).show,"onUpdate:show":t[2]||(t[2]=e=>qe(w).show=e),title:qe(w).title,data:qe(w).data,width:480,footer:!0,component:La},null,8,["show","title","data"])])}}}),Ta={class:"p-20px"},Va={key:0},ja=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n,proxyPath:r}=V(i),u=De(null),d=We({switchValue:!1,inputValue:1,selectValue:"m"}),p=async()=>{const t=await ft(n.value,r.value);e(t)&&(d.switchValue=t.proxy_cache.cache_status,t.proxy_cache.expires.length>1&&(d.inputValue=Number(t.proxy_cache.expires.slice(0,-1)),d.selectValue=t.proxy_cache.expires.slice(-1)))};p(),a({init:p});const x={inputValue:{required:!0,validator(e,t){if(!t)return new Error(l("Site.Proxy.index_26"))},trigger:["input","blur"]}},y=[{label:l("Public.Unit.Minute"),value:"m"},{label:l("Public.Unit.Hour"),value:"h"},{label:l("Public.Unit.Day"),value:"d"}],m=async()=>{var e;await(null==(e=u.value)?void 0:e.validate());let t={site_name:n.value,proxy_path:r.value,cache_status:d.switchValue?1:0,expires:"".concat(d.inputValue).concat(d.selectValue)};await ye(t),p()};return(e,t)=>{const a=ot,l=lt,i=c,n=st,s=_,r=o,p=nt,h=at;return ze(),Ee(Me,null,[Ne("div",Ta,[Te(p,{ref_key:"formRef",ref:u,"label-width":100,model:qe(d),rules:x,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_24")},{default:Oe((()=>[Te(a,{value:qe(d).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>qe(d).switchValue=e),m]},null,8,["value"])])),_:1},8,["label"]),qe(d).switchValue?(ze(),Ee("div",Va,[Te(s,null,{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_25"),path:"inputValue"},{default:Oe((()=>[Te(i,{"show-button":!1,value:qe(d).inputValue,"onUpdate:value":t[1]||(t[1]=e=>qe(d).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),Te(l,null,{default:Oe((()=>[Te(n,{class:"w-90px",value:qe(d).selectValue,"onUpdate:value":t[2]||(t[2]=e=>qe(d).selectValue=e),options:y},null,8,["value"])])),_:1})])),_:1}),Te(l,{label:" "},{default:Oe((()=>[Te(r,{type:"primary",onClick:m},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Ke("",!0)])),_:1},8,["model"])]),Te(h,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_28")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_29")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_30")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_31")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_32"))+" css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map ",1)])),_:1})],64)}}}),Da={class:"p-20px"},za={key:0},Ea=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n,proxyPath:u}=V(i),d=async()=>{const t=await ft(n.value,u.value);if(e(t)){x.switchValue=t.gzip.gzip_status,x.inputType=t.gzip.gzip_types,x.selectLevel=Number(t.gzip.gzip_comp_level);let e="",a="m";t.gzip.gzip_min_length&&t.gzip.gzip_min_length.length>1&&(e=t.gzip.gzip_min_length.slice(0,-1),a=t.gzip.gzip_min_length.slice(-1)),x.inputValue=Number(e),x.selectLength=a}};d(),a({init:d});const p=De(null),x=We({switchValue:!0,inputType:"",selectLevel:1,selectLength:"m",inputValue:1}),y={inputType:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},inputValue:{required:!0,trigger:"blur",validator:(e,t)=>{if(!t)return new Error(l("Site.Proxy.index_41"))}}},m=[{label:"k",value:"k"},{label:"m",value:"m"}],h=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9}],v=async()=>{var e;await(null==(e=p.value)?void 0:e.validate());let t={site_name:n.value,proxy_path:u.value,gzip_status:x.switchValue?1:0,gzip_min_length:"".concat(x.inputValue).concat(x.selectLength),gzip_comp_level:x.selectLevel,gzip_types:x.inputType};await me(t),d()};return(e,t)=>{const a=ot,l=lt,i=r,n=st,s=c,u=_,d=o,f=nt,w=at;return ze(),Ee("div",Da,[Te(f,{ref_key:"formRef",ref:p,"label-width":150,model:qe(x),rules:y,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_34")},{default:Oe((()=>[Te(a,{value:qe(x).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>qe(x).switchValue=e),v]},null,8,["value"])])),_:1},8,["label"]),qe(x).switchValue?(ze(),Ee("div",za,[Te(l,{label:e.$t("Site.Proxy.index_35"),path:"inputType"},{default:Oe((()=>[Te(i,{value:qe(x).inputType,"onUpdate:value":t[1]||(t[1]=e=>qe(x).inputType=e),type:"textarea",placeholder:"Please input"},null,8,["value"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Proxy.index_36")},{default:Oe((()=>[Te(n,{value:qe(x).selectLevel,"onUpdate:value":t[2]||(t[2]=e=>qe(x).selectLevel=e),placeholder:"Select",options:h},null,8,["value"])])),_:1},8,["label"]),Te(u,null,{default:Oe((()=>[Te(l,{label:e.$t("Site.Proxy.index_37"),path:"inputValue"},{default:Oe((()=>[Te(s,{"show-button":!1,value:qe(x).inputValue,"onUpdate:value":t[3]||(t[3]=e=>qe(x).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),Te(l,null,{default:Oe((()=>[Te(n,{class:"w-90px",value:qe(x).selectLength,"onUpdate:value":t[4]||(t[4]=e=>qe(x).selectLength=e),options:m},null,8,["value"])])),_:1})])),_:1}),Te(l,{label:" "},{default:Oe((()=>[Te(d,{type:"primary",onClick:v},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Ke("",!0)])),_:1},8,["model"]),Te(w,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Proxy.index_38")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_39")),1),Ne("li",null,Be(e.$t("Site.Proxy.index_40")),1)])),_:1})])}}}),Na={class:"p-20px"},Oa=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n,proxyPath:u}=V(i),d=De(!1),p=async()=>{var t,a,l,i;const o=await ft(n.value,u.value);e(o)&&(_.proxy_type=o.proxy_type?"http":"unix",_.proxy_pass=o.proxy_pass,_.proxy_host=o.proxy_host,_.proxy_path=o.proxy_path,_.remark=o.remark,d.value=o.global_websocket,_.websocket=null==(t=o.websocket)?void 0:t.websocket_status,_.proxy_connect_timeout=null==(a=o.timeout)?void 0:a.proxy_connect_timeout,_.proxy_send_timeout=null==(l=o.timeout)?void 0:l.proxy_send_timeout,_.proxy_read_timeout=null==(i=o.timeout)?void 0:i.proxy_read_timeout)};p(),a({init:p});const c=De(null),_=We({proxy_path:"",proxy_pass:"",proxy_host:"",proxy_type:"http",remark:"",websocket:!1,proxy_connect_timeout:"",proxy_send_timeout:"",proxy_read_timeout:""}),x={proxy_path:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},proxy_pass:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},proxy_host:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},proxy_connect_timeout:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},proxy_send_timeout:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"},proxy_read_timeout:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"}},m=[{label:l("Site.Proxy.index_11"),value:"http"},{label:l("Site.Proxy.index_12"),value:"unix"}],h=async()=>{var e;await(null==(e=c.value)?void 0:e.validate());let t={site_name:n.value,proxy_path:_.proxy_path,proxy_pass:_.proxy_pass,proxy_host:_.proxy_host,proxy_type:_.proxy_type,remark:_.remark,websocket:_.websocket?1:0,proxy_connect_timeout:_.proxy_connect_timeout,proxy_send_timeout:_.proxy_send_timeout,proxy_read_timeout:_.proxy_read_timeout};await he(t),p()};return(e,t)=>{const a=r,l=lt,i=st,n=pt,s=y,u=dt,p=o,v=nt;return ze(),Ee("div",Na,[Te(v,{ref_key:"formRef",ref:c,"label-width":180,model:qe(_),rules:x,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.TableRow.Catalog"),path:"proxy_path"},{default:Oe((()=>[Te(a,{class:"w-400px!",value:qe(_).proxy_path,"onUpdate:value":t[0]||(t[0]=e=>qe(_).proxy_path=e),disabled:""},null,8,["value"])])),_:1},8,["label"]),Te(l,{label:"Target"},{default:Oe((()=>[Te(i,{class:"w-200px",value:qe(_).proxy_type,"onUpdate:value":t[1]||(t[1]=e=>qe(_).proxy_type=e),options:m},null,8,["value"])])),_:1}),Te(l,{label:" ",path:"proxy_pass"},{default:Oe((()=>[Te(a,{class:"w-400px!",value:qe(_).proxy_pass,"onUpdate:value":t[2]||(t[2]=e=>qe(_).proxy_pass=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1}),Te(l,{label:e.$t("Site.Proxy.index_2"),path:"proxy_host"},{default:Oe((()=>[Te(a,{class:"w-400px!",value:qe(_).proxy_host,"onUpdate:value":t[3]||(t[3]=e=>qe(_).proxy_host=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1},8,["label"]),Te(l,{label:"Remark"},{default:Oe((()=>[Te(a,{class:"w-400px!",value:qe(_).remark,"onUpdate:value":t[4]||(t[4]=e=>qe(_).remark=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1}),Te(l,{label:e.$t("Site.Proxy.index_58")},{default:Oe((()=>[Te(s,{trigger:"hover"},{trigger:Oe((()=>[Te(n,{checked:qe(_).websocket,"onUpdate:checked":t[5]||(t[5]=e=>qe(_).websocket=e),disabled:qe(d)},null,8,["checked","disabled"])])),default:Oe((()=>[He(" "+Be(e.$t("Site.Tips.index_16")),1)])),_:1})])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Connection"),path:"proxy_connect_timeout"},{default:Oe((()=>[Te(u,Qe(e.$attrs,{class:"w-400px!",value:qe(_).proxy_connect_timeout,"onUpdate:value":t[6]||(t[6]=e=>qe(_).proxy_connect_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Backend"),path:"proxy_send_timeout"},{default:Oe((()=>[Te(u,Qe(e.$attrs,{class:"w-400px!",value:qe(_).proxy_send_timeout,"onUpdate:value":t[7]||(t[7]=e=>qe(_).proxy_send_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Proxy"),path:"proxy_read_timeout"},{default:Oe((()=>[Te(u,Qe(e.$attrs,{class:"w-400px!",value:qe(_).proxy_read_timeout,"onUpdate:value":t[8]||(t[8]=e=>qe(_).proxy_read_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),Te(l,{label:" "},{default:Oe((()=>[Te(p,{type:"primary",onClick:h},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Ba={class:"p-20px"},qa=Ne("br",null,null,-1),Ia=Ne("br",null,null,-1),Ha=Ne("br",null,null,-1),Wa=Ne("br",null,null,-1),Aa=Ne("br",null,null,-1),Ka=Ne("br",null,null,-1),Ma=Ne("br",null,null,-1),Fa=Ne("br",null,null,-1),Ga=Ne("br",null,null,-1),Qa=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),i=s(),{siteName:n,proxyPath:u}=V(i),d=async()=>{const t=await ft(n.value,u.value);e(t)&&(c.configValue=t.custom_conf)};d(),a({init:d});const p=De(null),c=We({configValue:""}),_={configValue:{required:!0,message:l("Site.Proxy.index_41"),trigger:"blur"}},x=async()=>{var e;await(null==(e=p.value)?void 0:e.validate()),await ve({site_name:n.value,proxy_path:u.value,custom_conf:c.configValue}),d()};return(e,t)=>{const a=r,l=lt,i=o,n=nt,s=at;return ze(),Ee("div",Ba,[Te(n,{ref_key:"formRef",ref:p,"label-width":180,model:qe(c),rules:_,"label-placement":"left"},{default:Oe((()=>[Te(l,{label:e.$t("Site.TableRow.Catalog"),path:"configValue"},{default:Oe((()=>[Te(a,{class:"w-400px!",rows:6,type:"textarea",value:qe(c).configValue,"onUpdate:value":t[0]||(t[0]=e=>qe(c).configValue=e),placeholder:'Line by line configuration, please end with, for example：\nproxy_set_header Cookie "cookie_name=cookie_value";\nallow 192.168.1.0/24;\naccess_log /www/wwwlogs/xxx.log;'},null,8,["value"])])),_:1},8,["label"]),Te(l,{label:" "},{default:Oe((()=>[Te(i,{type:"primary",onClick:x},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),Te(s,null,{default:Oe((()=>[Ne("li",null,Be(e.$t("Site.Tips.index_1")),1),Ne("li",null,[He(Be(e.$t("Site.Tips.index_2")),1),qa,He(" "+Be(e.$t("Site.Tips.index_4")),1),Ia,He(" "+Be(e.$t("Site.Tips.index_5")),1),Ha,He(" "+Be(e.$t("Site.Tips.index_6")),1),Wa,He(" "+Be(e.$t("Site.Tips.index_7")),1),Aa,He(" "+Be(e.$t("Site.Tips.index_8"))+"{",1),Ka,He(" "+Be(e.$t("Site.Tips.index_9")),1),Ma,He(" "+Be(e.$t("Site.Tips.index_10")),1),Fa,He(" }"),Ga,He(" "+Be(e.$t("Site.Tips.index_11")),1)]),Ne("li",null,Be(e.$t("Site.Tips.index_3")),1)])),_:1})])}}}),Ja={class:"p-20px"},Za=Ve({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=je(),l=s(),{siteName:i,proxyPath:n}=V(l),o=e,{getList:u}=o.data,d=De(a("Site.Tips.index_15")),p=De(null),c=We({oldstr:"",newstr:"",sub_type:[]}),_=()=>{x(c.sub_type)},x=e=>{const t=e.includes("i")?"Case insensitive":"",a=e.includes("o")?"Only replace the first":"",l=e.includes("r")?"Regular expression":"";switch(e.length){case 0:d.value="Default effect:Replace all ".concat(c.oldstr," with ").concat(c.newstr);break;case 1:d.value="Effect: will ".concat(a?"all":""," ").concat(c.oldstr," with ").concat(c.newstr,"，Match ").concat(t||a||l);break;case 2:d.value="Effect: will ".concat(a?"all":""," ").concat(c.oldstr," with ").concat(c.newstr,"，Match ").concat(t||a||l," besides ").concat(l||a||t);break;case 3:d.value="Effect: will ".concat(c.oldstr," with ").concat(c.newstr," ，Match ").concat(t,"、").concat(a," beside s").concat(l)}},y={oldstr:{required:!0,message:a("Site.Proxy.index_41"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=p.value)?void 0:t.validate());let a={site_name:i.value,proxy_path:n.value,oldstr:c.oldstr,newstr:c.newstr,sub_type:c.sub_type?c.sub_type.join(""):"g"};await fe(a),null==u||u(),e()}}),(e,t)=>{const a=r,l=lt,i=pt,n=_t,o=ct,s=it;return ze(),Ee("div",Ja,[Te(s,{ref_key:"formRef",ref:p,model:qe(c),rules:y},{default:Oe((()=>[Te(l,{label:e.$t("Site.Lable.Original"),path:"oldstr"},{default:Oe((()=>[Te(a,{class:"w-280px",value:qe(c).oldstr,"onUpdate:value":t[0]||(t[0]=e=>qe(c).oldstr=e),placeholder:e.$t("Site.Placeholder.Index_10"),onInput:_},null,8,["value","placeholder"])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Alternative")},{default:Oe((()=>[Te(a,{class:"w-280px",value:qe(c).newstr,"onUpdate:value":t[1]||(t[1]=e=>qe(c).newstr=e),placeholder:e.$t("Site.Placeholder.Index_10"),onInput:_},null,8,["value","placeholder"])])),_:1},8,["label"]),Te(l,{label:" "},{default:Oe((()=>[Te(o,{value:qe(c).sub_type,"onUpdate:value":[t[2]||(t[2]=e=>qe(c).sub_type=e),x]},{default:Oe((()=>[Te(n,{"item-style":"display: flex;"},{default:Oe((()=>[Te(i,{value:"i",label:e.$t("Site.Tips.index_12")},null,8,["label"]),Te(i,{value:"o",label:e.$t("Site.Tips.index_13")},null,8,["label"]),Te(i,{value:"r",label:e.$t("Site.Tips.index_14")},null,8,["label"])])),_:1})])),_:1},8,["value"])])),_:1}),Te(l,{label:" "},{default:Oe((()=>[He(Be(qe(d)),1)])),_:1})])),_:1},8,["model"])])}}}),Xa=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),{loading:i,setLoading:n}=z(),r=s(),{siteName:p,proxyPath:c}=V(r),_=async()=>{try{n(!0);const t=await ft(p.value,c.value);e(t)&&(y.data=t.sub_filter.sub_filter_str)}finally{x.value=[],n(!1)}};_(),a({init:_});const{keys:x,table:y,columns:m}=L([{key:"oldstr",title:l("Site.Lable.Original"),width:200,ellipsis:{tooltip:{width:"trigger"}}},{key:"newstr",title:l("Site.Lable.Alternative"),width:250,ellipsis:{tooltip:{width:"trigger"}}},{key:"sub_type",title:l("Site.Lable.Rule"),ellipsis:{tooltip:{width:"trigger"}}},N({width:130,options:e=>[{label:l("Site.TableOP.Del"),onClick:async()=>{await we({site_name:p.value,proxy_path:c.value,newstr:e.newstr,oldstr:e.oldstr}),_()}}]})]),h=()=>{v.title="".concat(l("Site.Proxy.index_81")," [").concat(c.value,"]"),v.show=!0},v=u("".concat(l("Site.Proxy.index_81")," [").concat(c.value,"]"),{getList:_});return(e,t)=>{const a=o,l=R,n=C,s=d;return ze(),Ee("div",null,[Te(n,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:h},{default:Oe((()=>[He(Be(e.$t("Site.Proxy.index_81")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(x)?x.value=e:null),"row-key":"ip",loading:qe(i),"max-height":440,data:qe(y).data,columns:qe(m)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),Te(s,{show:qe(v).show,"onUpdate:show":t[1]||(t[1]=e=>qe(v).show=e),title:qe(v).title,data:qe(v).data,width:600,footer:!0,component:Za},null,8,["show","title","data"])])}}}),Ya=Ve({__name:"index",setup(e){const{t:t}=je(),a=De("reverse"),l=[{key:"reverse",label:t("Site.Config.Proxy"),component:Oa},{key:"config",label:t("Site.Config.Conf"),component:Qa},{key:"replace",label:t("Site.Config.Replacement"),component:Xa},{key:"cache",label:t("Site.Lable.Cache"),component:ja},{key:"compressed",label:t("Site.Proxy.index_61"),component:Ea},{key:"black",label:t("Site.Proxy.index_62"),component:Ra},{key:"white",label:t("Site.Proxy.index_63"),component:Ca}];return(e,t)=>{const i=tt;return ze(),Fe(i,{class:"p-20px",value:qe(a),"onUpdate:value":t[0]||(t[0]=e=>Ie(a)?a.value=e:null),options:l},null,8,["value"])}}}),el=Ve({__name:"index",setup(e,{expose:t}){const{t:a}=je(),r=s(),{proxyPath:p}=V(r),{data:c}=wt(),{keys:_,table:x,columns:y}=L([{key:"proxy_path",title:a("Site.TableRow.ProxyPath"),width:100,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxy_pass",title:a("Site.Proxy.index_1"),width:100,ellipsis:{tooltip:{width:"trigger"}}},q({key:"remark",title:a("Site.Proxy.index_3"),width:"8%",onBlur:async(e,t)=>{await be({site_name:c.name,proxy_path:t.proxy_path,remark:e})}}),N({width:120,options:e=>[{label:a("Site.TableOP.Set"),onClick:()=>{g(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{"/"!==e.proxy_path?l({title:"".concat(a("Site.Batch.DeleteProxy.Label")," [").concat(e.proxy_path,"]"),content:"".concat(a("Site.Batch.DeleteProxy.Content1")," [").concat(e.proxy_path,"]?"),onConfirm:async({hide:t})=>{await ge({site_name:c.name,proxy_path:e.proxy_path}),v(),t()}}):n.error(a("Site.Proxy.index_74"))}}]})]),{loading:m,setLoading:h}=z(),v=async()=>{try{h(!0);const{message:e}=await H({site_name:c.name});x.data=i(e)?e:[]}finally{_.value=[],h(!1)}},f=u(a("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:c.name,getList:v}),w=()=>{f.data.row=void 0,f.title=a("Site.Config.ProxyConfig.index_1"),f.show=!0},b=u("",{row:void 0,siteName:c.name,getList:v}),g=e=>{p.value=e.proxy_path,b.title="".concat(a("Site.Config.ProxyConfig.index_2")," [").concat(e.proxy_path,"]"),b.show=!0};return v(),t({init:v}),(e,t)=>{const a=o,l=R,i=C,n=d;return ze(),Ee("div",null,[Te(i,null,{toolsLeft:Oe((()=>[Te(a,{type:"primary",onClick:w},{default:Oe((()=>[He(Be(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:Oe((()=>[Te(l,{"checked-row-keys":qe(_),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(_)?_.value=e:null),"row-key":"proxyname",loading:qe(m),"max-height":440,data:qe(x).data,columns:qe(y)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),Te(n,{show:qe(f).show,"onUpdate:show":t[1]||(t[1]=e=>qe(f).show=e),title:qe(f).title,data:qe(f).data,width:660,footer:!0,component:ga},null,8,["show","title","data"]),Te(n,{show:qe(b).show,"onUpdate:show":t[2]||(t[2]=e=>qe(b).show=e),title:qe(b).title,width:800,"min-height":650,component:Ya},null,8,["show","title"])])}}}),tl={class:"pt-8px"},al={class:"w-300px"},ll={class:"w-300px"},il={class:"w-300px"},nl={class:"flex flex-col"},ol=Ne("br",null,null,-1),sl=Ve({__name:"index",setup(t,{expose:a}){const{t:l}=je(),{data:i}=wt(),n=De(null),s=De(!1),u=We({fix:"",domains:"",return_rule:"",status:!1,none:!1}),d={fix:{trigger:["blur","change"],validator:()=>""!==u.fix.trim()||new Error(l("Site.RulesError.Suffix"))},return_rule:{trigger:["blur","change"],validator:()=>""!==u.return_rule.trim()||new Error(l("Site.RulesError.AntiTheft"))}},p=e=>{e?s.value=!1:(s.value=!0,u.none=!1)},c=async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await Se({id:i.id,name:i.name,fix:u.fix,domains:u.domains.trim().split("\n").join(","),return_rule:u.return_rule,status:u.status,http_status:!!u.none}),_()},_=async()=>{const{message:t}=await ke({id:i.id,name:i.name});e(t)&&(u.fix=t.fix,u.domains=t.domains.split(",").join("\n"),u.return_rule=t.return_rule,u.status=t.status,u.none=t.http_status)};return _(),a({init:_}),(e,t)=>{const a=r,l=lt,i=pt,_=o,x=it,y=at;return ze(),Ee("div",tl,[Te(x,{ref_key:"formRef",ref:n,class:"px-8px",model:qe(u),rules:d},{default:Oe((()=>[Te(l,{label:e.$t("Site.Lable.Suffix"),path:"fix"},{default:Oe((()=>[Ne("div",al,[Te(a,{value:qe(u).fix,"onUpdate:value":t[0]||(t[0]=e=>qe(u).fix=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Access")},{default:Oe((()=>[Ne("div",ll,[Te(a,{value:qe(u).domains,"onUpdate:value":t[1]||(t[1]=e=>qe(u).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Te(l,{label:e.$t("Site.Lable.Response"),path:"return_rule"},{default:Oe((()=>[Ne("div",il,[Te(a,{value:qe(u).return_rule,"onUpdate:value":t[2]||(t[2]=e=>qe(u).return_rule=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Te(l,{label:" "},{default:Oe((()=>[Ne("div",nl,[Te(i,{checked:qe(u).status,"onUpdate:checked":[t[3]||(t[3]=e=>qe(u).status=e),p]},{default:Oe((()=>[He(Be(e.$t("Site.Config.HotlinkConfig.Protection")),1)])),_:1},8,["checked"]),Te(i,{checked:qe(u).none,"onUpdate:checked":t[4]||(t[4]=e=>qe(u).none=e),class:"mt-16px",disabled:qe(s)},{default:Oe((()=>[He(Be(e.$t("Site.Config.HotlinkConfig.HTTP")),1)])),_:1},8,["checked","disabled"])])])),_:1}),Te(l,{label:" ","show-feedback":!1},{default:Oe((()=>[Te(_,{type:"primary",onClick:c},{default:Oe((()=>[He(Be(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),Te(y,{class:"mt-20px"},{default:Oe((()=>[Ne("li",null,[He(Be(e.$t("Site.Config.HotlinkConfig.Tips.0")),1),ol,He(" "+Be(e.$t("Site.Config.HotlinkConfig.Tips.1")),1)]),Ne("li",null,Be(e.$t("Site.Config.HotlinkConfig.Tips.2")),1),Ne("li",null,Be(e.$t("Site.Config.HotlinkConfig.Tips.3")),1)])),_:1})])}}}),rl={class:"mb-10px"},ul=Ve({__name:"index",setup(t,{expose:a}){const{data:l}=wt(),i=De("None"),n=De(0),{loading:o,setLoading:s}=z(),r=async()=>{try{s(!0);const{message:t}=await Pe({site_name:l.name,type:"access"});e(t)&&(i.value=t.msg?t.msg:"None",n.value=t.size)}finally{s(!1)}};return r(),a({init:r}),(e,t)=>{const a=xt,l=yt;return ze(),Fe(l,{class:"h-560px",show:qe(o)},{default:Oe((()=>[Ne("div",rl,Be(e.$t("Site.Cert.index_3"))+": "+Be(qe(n)),1),Te(a,{log:qe(i)},null,8,["log"])])),_:1},8,["show"])}}}),dl={class:"mb-10px"},pl=Ve({__name:"index",setup(t,{expose:a}){const{data:l}=wt(),i=De("None"),n=De(0),{loading:o,setLoading:s}=z(),r=async()=>{try{s(!0);const{message:t}=await Pe({site_name:l.name,type:"error"});e(t)&&(i.value=t.msg?t.msg:"None",n.value=t.size)}finally{s(!1)}};return r(),a({init:r}),(e,t)=>{const a=xt,l=yt;return ze(),Fe(l,{class:"h-560px",show:qe(o)},{default:Oe((()=>[Ne("div",dl,Be(e.$t("Site.Cert.index_3"))+": "+Be(qe(n)),1),Te(a,{log:qe(i)},null,8,["log"])])),_:1},8,["show"])}}}),cl=Ve({__name:"index",setup(e,{expose:t}){const{t:a}=je(),{config:l}=wt(),i=De("access"),n=De(),o=[{key:"access",label:a("Site.Config.LogsConfig.Access"),component:ul},{key:"error",label:a("Site.Config.LogsConfig.Error"),component:pl}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Je((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=tt;return ze(),Fe(a,{value:qe(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:o},null,8,["value"])}}}),_l=Ve({__name:"index",props:{siteInfo:{},config:{}},setup(e){const t=s(),{siteName:a}=V(t),{t:l}=je(),i=Ze((()=>m((()=>import("./old2.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49])))),n=e,{siteInfo:o,config:r}=n;a.value=n.siteInfo.name;const u=De();o&&Le(ht,{data:o,config:r});const d=De("domain"),p=[{key:"domain",label:l("Site.Config.Manager"),component:Ct},{key:"proxy_pass",label:l("Site.Config.ProxyURL"),component:el},{key:"config",label:l("Site.Config.Conf"),component:Xt},{key:"file",label:l("Site.Config.File"),component:oa},{key:"ssl",label:()=>Te(Me,null,[l("Site.Config.SSL"),Te(mt,{type:"primary",size:"small",bordered:!1,class:"ml-10px"},{default:()=>[He("lowest price $2.9")]})]),component:i},{key:"redirect",label:l("Site.Config.Redirect"),component:ha},{key:"hotlink",label:l("Site.Config.Hotlink"),component:sl},{key:"logs",label:l("Site.Config.Response"),component:cl}];return d.value=r.menu||"domain",r.menu="",Ge((()=>{window.siteConfigInit=u.value.init})),(e,t)=>{const a=Ue;return ze(),Fe(a,{value:qe(d),"onUpdate:value":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),ref_key:"tabsRef",ref:u,data:p},null,8,["value"])}}});const{t:xl}=t.global;function yl({onClick:e}){return{key:"name",title:xl("Site.Lable.Domain"),width:"12%",minWidth:120,render:t=>Te(a,{onClick:()=>{e(t)}},{default:()=>[t.name]})}}function ml({onClick:e}){return{key:"proxy_pass",title:xl("Site.TableRow.ProxyAddress"),minWidth:70,render:t=>Te(a,{onClick:()=>{e(t)}},{default:()=>[t.proxy_pass]})}}function hl({onClick:t}){return{key:"ssl",title:"SSL",width:"9%",minWidth:100,render:l=>{let i;const{ssl:n}=l;return e(n)?Te(a,{type:n.endtime<0?"error":"primary",onClick:()=>{t(l)}},{default:()=>[n.endtime<0?xl("Site.PHP.index_28"):xl("Site.PHP.index_29",[n.endtime])]}):Te(a,{type:"warning",onClick:()=>{t(l)}},"function"==typeof(o=i=xl("Site.PHP.index_30"))||"[object Object]"===Object.prototype.toString.call(o)&&!Xe(o)?i:{default:()=>[i]});var o}}}function vl({onClick:e}){return{key:"action",title:xl("Site.TableRow.Operation"),width:150,align:"right",render:t=>Te(E,{options:[{label:xl("Site.PHP.index_14"),onClick:async()=>{await h({source:142}),await v("monitor"),f({name:"monitor",title:"Website statistics-v2",admin:!0})}},{label:xl("Site.TableRow.WAF"),onClick:()=>{j(t.name)}},{label:xl("Site.TableOP.Conf"),onClick:()=>{e(t)}},{label:xl("Site.TableOP.Del"),onClick:()=>{var e;e=[t],w({title:"".concat(xl("Site.Tips.index_17")," - [").concat(e[0].name,"]"),width:500,minHeight:72,footer:!0,data:{rows:e},component:Ze((()=>m((()=>import("./index142.js?v=1723125373998")),__vite__mapDeps([50,2,3,4,5,29,13]))))})}}]},null)}}const fl={class:"w-860px h-700px"},wl=Ve({__name:"index",setup(t){const{t:l}=je(),n=Ze((()=>m((()=>import("./index143.js?v=1723125373998")),__vite__mapDeps([51,38,2,3,4,5,39,40,41,42,43,33,34,35,52,29,15,16,17])))),r=b(),p=s(),{web:c}=V(r),_=De(!1),x=u(l("Site.Proxy.index_82")),y=()=>{x.show=!0},h=()=>{W()},v=We({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),f=(e,t={})=>{v.title="".concat(l("Site.Cert.Modification")," [").concat(e.name,"] -- ").concat(l("Site.Cert.Added")," [").concat(e.addtime,"]"),v.siteInfo=e,v.config=Object.assign({menu:"",subMenu:""},t),v.show=!0},{keys:j,table:E,columns:N}=L([{type:"selection",width:40},yl({onClick:e=>{f(e)}}),ml({onClick:e=>{f(e,{menu:"proxy_pass"})}}),hl({onClick:e=>{f(e,{menu:"ssl"})}}),q({width:"8%",onBlur:async(e,t)=>{await Ce({id:t.id,ps:e})}}),vl({onClick:e=>{f(e)}})]),O=[{key:"Project",label:l("Site.Cert.index_6"),onBatch:e=>{w({title:l("Site.Cert.index_7"),content:l("Site.Cert.index_8"),width:500,minHeight:72,footer:!0,data:{rows:e},component:Ze((()=>m((()=>import("./index142.js?v=1723125373998")),__vite__mapDeps([50,2,3,4,5,29,13]))))})}}],B=We({p:1,limit:10,search:""}),{loading:I,setLoading:H}=z(!0),W=async()=>{try{H(!0);const{message:t}=await $e(B);e(t)?e(t.data)&&(E.data=i(t.data.data)?t.data.data:[],E.total=S(t.data.page)):(E.data=[],E.total=0)}finally{j.value=[],H(!1)}};Ye((()=>p.isRefresh),(e=>{e&&(r.setRefresh(!1),W())}));return(async()=>{try{await r.getConfig(),r.web.setup?(_.value=!0,W()):(_.value=!1,H(!1),D())}catch(e){H(!1)}})(),(e,t)=>{const l=a,i=o,s=T,r=R,u=U,p=$,_=C,m=d,f=P,w=k;return ze(),Fe(w,null,{default:Oe((()=>[Te(f,{install:qe(c).setup&&"nginx"==qe(c).type},{desc:Oe((()=>[Ne("span",null,Be(e.$t("Site.Cert.index_4")),1),Te(l,{class:"ml-4px",onClick:t[0]||(t[0]=e=>qe(g)("nginx"))},{default:Oe((()=>[He(Be(e.$t("Site.PHP.index_2")),1)])),_:1})])),default:Oe((()=>[Te(_,{class:"p-16px",feedback:!0},{toolsLeft:Oe((()=>[Te(i,{type:"primary",onClick:y},{default:Oe((()=>[He(Be(e.$t("Site.Cert.index_5")),1)])),_:1})])),toolsRight:Oe((()=>[Te(s,{value:qe(B).search,"onUpdate:value":t[1]||(t[1]=e=>qe(B).search=e),placeholder:e.$t("Site.Placeholder.Index_11"),onSearch:W},null,8,["value","placeholder"])])),table:Oe((()=>[Te(r,{"checked-row-keys":qe(j),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Ie(j)?j.value=e:null),loading:qe(I),data:qe(E).data,columns:qe(N)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Oe((()=>[Te(u,{"checked-row-keys":qe(j),"onUpdate:checkedRowKeys":t[3]||(t[3]=e=>Ie(j)?j.value=e:null),data:qe(E).data,options:O},null,8,["checked-row-keys","data"])])),pageRight:Oe((()=>[Te(p,{page:qe(B).p,"onUpdate:page":t[4]||(t[4]=e=>qe(B).p=e),"page-size":qe(B).limit,"onUpdate:pageSize":t[5]||(t[5]=e=>qe(B).limit=e),"item-count":qe(E).total,"store-key":"site-php-page",onRefresh:W},null,8,["page","page-size","item-count"])])),_:1}),Te(m,{show:qe(x).show,"onUpdate:show":t[6]||(t[6]=e=>qe(x).show=e),title:qe(x).title,width:640,"min-height":400,footer:!0,data:{onRefresh:h},component:qe(n)},null,8,["show","title","data","component"]),Te(m,{show:qe(v).show,"onUpdate:show":t[7]||(t[7]=e=>qe(v).show=e),title:qe(v).title},{default:Oe((()=>[Ne("div",fl,[Te(_l,{"site-info":qe(v).siteInfo,config:qe(v).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])])),_:1})}}}),bl=Object.freeze(Object.defineProperty({__proto__:null,default:wl},Symbol.toStringTag,{value:"Module"}));export{bl as i,wt as u};
