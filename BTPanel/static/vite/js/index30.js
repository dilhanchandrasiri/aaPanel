import{O as t,j as e,r as a,a as i}from"./index.js?v=1723125373998";import{g as l}from"./mail.js?v=1723125373998";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1723125373998";import{l as o,ad as d,r,k as v,an as c,S as p,Z as n,P as y,V as m,_ as u,a3 as x,W as _,F as b,U as h}from"./vue.js?v=1723125373998";import"./pinia.js?v=1723125373998";const w={class:"p-24px"},g={class:"total-list"},O={class:"total-item"},M={class:"total-label"},f={class:"total-value text-primary text-22px"},j={class:"total-item"},S={class:"total-label"},H={class:"total-value text-17px"},$={class:"total-item"},A={class:"total-label"},L={class:"total-value text-17px"},k={class:"h-200px"},C={class:"p-24px"},G={class:"total-list"},B={class:"total-item"},F={class:"total-label"},P={class:"total-value text-primary text-22px"},W={class:"total-item"},D={class:"total-label"},E={class:"total-value text-17px"},I={class:"total-item"},U={class:"total-label"},V={class:"total-value text-17px"},Z={class:"h-200px"},q=i(o({__name:"today",setup(i){const{t:o}=d(),h=r({delivered:0,bounced:0,received:0,rejected:0}),q=v((()=>h.value.delivered||0)),z=v((()=>h.value.bounced||0)),J=v((()=>{const t=z.value+q.value;return 0===t?0:(q.value/t*100).toFixed(1)})),K=c({tooltip:{trigger:"axis",order:"seriesDesc",axisPointer:{type:"shadow"}},legend:{top:0,itemGap:16,icon:"circle",itemWidth:10,itemHeight:10,data:[o("Mail.Overview.today_2"),o("Mail.Overview.today_3")],textStyle:{lineHeight:12,padding:[0,0,-2,0],rich:{a:{verticalAlign:"middle"}}}},grid:{top:"16%",left:"2%",right:"2%",bottom:"4%",containLabel:!0},xAxis:{type:"category",axisLabel:{formatter:e=>t(e,"HH:mm")}},yAxis:{type:"value",boundaryGap:[0,"6%"],splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"bar",name:o("Mail.Overview.today_3"),data:[]},{type:"bar",name:o("Mail.Overview.today_2"),data:[]}]}),N=v((()=>h.value.received||0)),Q=v((()=>h.value.rejected||0)),R=v((()=>{const t=Q.value+N.value;return 0===t?0:(N.value/t*100).toFixed(1)})),T=c({tooltip:{trigger:"axis",order:"seriesDesc",axisPointer:{type:"shadow"}},legend:{top:0,itemGap:16,icon:"circle",itemWidth:10,itemHeight:10,data:[o("Mail.Overview.today_4"),o("Mail.Overview.today_5")],textStyle:{lineHeight:12,padding:[0,0,-2,0],rich:{a:{verticalAlign:"middle"}}}},grid:{top:"16%",left:"2%",right:"2%",bottom:"4%",containLabel:!0},xAxis:{type:"category",axisLabel:{formatter:e=>t(e,"HH:mm")}},yAxis:{type:"value",boundaryGap:[0,"6%"],splitLine:{show:!0,lineStyle:{type:"dashed",width:1,color:"#ebeef5"}}},series:[{type:"bar",name:o("Mail.Overview.today_5"),data:[]},{type:"bar",name:o("Mail.Overview.today_4"),data:[]}]});return(async()=>{const{message:a}=await l();e(a)&&(h.value=a.stats_dict,(e=>{const a=[],i=[],l=[],s=[];e.forEach((e=>{a.push([t(e.time),e.bounced]),i.push([t(e.time),e.delivered]),l.push([t(e.time),e.received]),s.push([t(e.time),e.rejected])})),K.series=[{type:"bar",name:o("Mail.Overview.today_3"),data:a,stack:"total",itemStyle:{color:"#1A519B"}},{type:"bar",name:o("Mail.Overview.today_2"),data:i,stack:"total",itemStyle:{color:"#91CC75"}}],T.series=[{type:"bar",name:o("Mail.Overview.today_5"),data:s,stack:"total",itemStyle:{color:"#7CB5EC"}},{type:"bar",name:o("Mail.Overview.today_4"),data:l,stack:"total",itemStyle:{color:"#7895CB"}}]})(a.hourly_stats))})(),(t,e)=>{const i=a;return p(),n(b,null,[y(i,{class:"mb-16px",title:t.$t("Mail.Overview.today_7")},{default:m((()=>[u("div",w,[u("div",g,[u("div",O,[u("div",M,x(t.$t("Mail.Overview.today_1")),1),u("div",f,x(_(J))+"%",1)]),u("div",j,[u("div",S,x(t.$t("Mail.Overview.today_2")),1),u("div",H,x(_(q)),1)]),u("div",$,[u("div",A,x(t.$t("Mail.Overview.today_3")),1),u("div",L,x(_(z)),1)])]),u("div",k,[y(s,{type:"bar",height:"200",option:_(K)},null,8,["option"])])])])),_:1},8,["title"]),y(i,{title:t.$t("Mail.Overview.today_8")},{default:m((()=>[u("div",C,[u("div",G,[u("div",B,[u("div",F,x(t.$t("Mail.Overview.today_6")),1),u("div",P,x(_(R))+"%",1)]),u("div",W,[u("div",D,x(t.$t("Mail.Overview.today_4")),1),u("div",E,x(_(N)),1)]),u("div",I,[u("div",U,x(t.$t("Mail.Overview.today_5")),1),u("div",V,x(_(Q)),1)])]),u("div",Z,[y(s,{type:"bar",height:"200",option:_(T)},null,8,["option"])])])])),_:1},8,["title"])],64)}}}),[["__scopeId","data-v-a2c8d69d"]]),z=o({__name:"index",setup:t=>(t,e)=>(p(),h(q))});export{z as default};
