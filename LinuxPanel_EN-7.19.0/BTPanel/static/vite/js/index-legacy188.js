System.register(["./index-legacy96.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./public-legacy.js?v=1732601582185","./site-legacy3.js?v=1732601582185","./useModal-legacy2.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185"],(function(e,t){"use strict";var a,n,i,l,o,s,g,c,f,p,_,r,u,d,b,m,y,S,W,x,v,k,h,j,N,C,w,P,M,R,T,U,$,q,z,B,F,H;return{setters:[e=>{a=e._},e=>{n=e._},e=>{i=e.i,l=e.f,o=e.o,s=e.b2},e=>{g=e.d,c=e.q,f=e.a,p=e.f},e=>{_=e.s,r=e.e},e=>{u=e.d,d=e.e,b=e.f,m=e.g,y=e.h,S=e.i,W=e.j,x=e.k,v=e.c,k=e.l,h=e.b,j=e.a},e=>{N=e.d,C=e.t,w=e.W,P=e.r,M=e.M,R=e.a9,T=e.F,U=e.O,$=e.P,q=e.Q,z=e.Z,B=e.R,F=e.Y},e=>{H=e.bo},null,null],execute:function(){const t=[{name:i.global.t("Waf.Setting.config_1"),type:"cc",ps:i.global.t("Waf.Setting.config_2")},{name:i.global.t("Waf.Setting.config_3"),type:"cc_tolerate",ps:i.global.t("Waf.Setting.config_4")},{name:i.global.t("Waf.Setting.config_5"),type:"xss_injection",ps:i.global.t("Waf.Setting.config_6")},{name:i.global.t("Waf.Setting.config_7"),type:"post",ps:i.global.t("Waf.Setting.config_8")},{name:i.global.t("Waf.Setting.config_9"),type:"rce_injection",ps:i.global.t("Waf.Setting.config_10")},{name:i.global.t("Waf.Setting.config_11"),type:"file_upload",ps:i.global.t("Waf.Setting.config_12"),status:"",open:""},{name:i.global.t("Waf.Setting.config_13"),type:"get",ps:i.global.t("Waf.Setting.config_14")},{name:i.global.t("Waf.Setting.config_15"),type:"user-agent",ps:i.global.t("Waf.Setting.config_16")},{name:i.global.t("Waf.Setting.config_17"),type:"cookie",ps:i.global.t("Waf.Setting.config_207")},{name:i.global.t("Waf.Setting.config_18"),type:"scan",ps:i.global.t("Waf.Setting.config_208")},{name:i.global.t("Waf.Setting.config_19"),type:"spider_status",ps:i.global.t("Waf.Setting.config_20")},{name:i.global.t("Waf.Setting.config_21"),type:"cdn",ps:i.global.t("Waf.Setting.config_22")},{name:i.global.t("Waf.Setting.config_23"),type:"cdn_baidu",ps:i.global.t("Waf.Setting.config_24")},{name:i.global.t("Waf.Setting.config_25"),type:"disable_php_path",ps:i.global.t("Waf.Setting.config_26")},{name:i.global.t("Waf.Setting.config_27"),type:"disable_path",ps:i.global.t("Waf.Setting.config_28")},{name:i.global.t("Waf.Setting.config_29"),type:"disable_ext",ps:i.global.t("Waf.Setting.config_30")},{name:i.global.t("Waf.Setting.config_31"),type:"disable_upload_ext",ps:i.global.t("Waf.Setting.config_32")},{name:i.global.t("Waf.Setting.config_33"),type:"url_tell",ps:i.global.t("Waf.Setting.config_34")},{name:i.global.t("Waf.Setting.config_35"),type:"url_rule",ps:i.global.t("Waf.Setting.config_36")}],L=new Map([["xss_injection","args"],["get","url"],["user-agent","user_agent"],["cookie","cookie"]]),O={class:"p-20px"},Q={class:"flex mb-16px"},V={class:"mr-10px text-16px"};e("default",N({__name:"index",props:{siteName:{default:""}},emits:["refresh"],setup(e,{emit:i}){const N=i,Y=C(e,"siteName"),{t:Z}=w(),A=P(!1),D=P(null),{table:E,columns:G,setLoading:I}=g([{key:"name",title:Z("Waf.Site.Config.index_3"),width:130},{key:"ps",title:Z("Waf.Site.Config.index_4"),render:e=>{const{data:t,ps:a}=e;return"cc"===e.type&&l(t)?M(R,{tag:"div",keypath:"Waf.Site.Config.index_8",scope:"global"},{index_1:()=>M("span",{class:"text-error"},[t.cycle]),index_2:()=>M("span",{class:"text-error"},[t.limit]),index_3:()=>M("span",{class:"text-error"},[t.endtime])}):a}},{key:"open",title:Z("Waf.Site.Config.index_5"),width:60,render:e=>o(e.open)?"--":M(H,{size:"small",value:e.open,onUpdateValue:t=>{"spider_status"!==e.type||t?"readonly"===e.type&&t?f({title:Z("Public.Confirm.Title"),content:Z("Waf.Site.Config.index_6"),onConfirm:async()=>{await J(e.type)}}):J(e.type):c({title:Z("Public.Confirm.Title"),content:()=>M(T,null,[M("div",{class:"mb-4px text-#111 text-14px font-bold"},[Z("Waf.Site.Config.index_9")]),M("div",{class:"text-error text-12px"},[Z("Waf.Site.Config.index_10")])]),onConfirm:async()=>{await J(e.type)}})}},null)},p({width:60,options:e=>[{label:"get"===e.type||"post"===e.type||"user-agent"===e.type?Z("Waf.Site.Config.index_7"):Z("Public.Btn.Set"),show:!("cdn_baidu"==e.type||"file_upload"==e.type||"rce_injection"==e.type||"readonly"==e.type),onClick:()=>{if(D.value)switch(e.type){case"cc":j({siteName:Y.value,config:D.value,onRefresh:X});break;case"cc_tolerate":h({siteName:Y.value,config:D.value,onRefresh:X});break;case"xss_injection":case"post":case"get":case"user-agent":case"cookie":k({name:e.name,rule:L.get(e.type)||e.type,siteName:Y.value});break;case"scan":v();break;case"spider_status":x({name:e.name,spider:D.value.spider,siteName:Y.value});break;case"cdn":W({siteName:Y.value});break;case"disable_php_path":S({siteName:Y.value});break;case"disable_path":y({siteName:Y.value});break;case"disable_ext":m({siteName:Y.value});break;case"disable_upload_ext":b({siteName:Y.value});break;case"url_tell":d({siteName:Y.value});break;case"url_rule":u({siteName:Y.value})}}}]})]),J=async e=>{await _({siteName:Y.value,obj:e}),X(),N("refresh")},K=async e=>{await _({siteName:Y.value,obj:"open"}),A.value=e,X(),N("refresh")},X=async()=>{try{I(!0);const{message:e}=await r({siteName:Y.value});l(e)&&(A.value=e.open,D.value=e,ee(e))}finally{I(!1)}},ee=e=>{E.data=t.map((t=>{const a=e[t.type],n=e.top[t.type];return{...t,data:a,ps:t.ps?t.ps:l(n)?n.ps:"",open:s(a)?a:l(a)?a.open:""}}))};return X(),(e,t)=>{const i=n,l=a;return U(),$("div",O,[q("div",Q,[q("span",V,z(e.$t("Waf.Site.Config.index_1")),1),M(B(H),{value:B(A),loading:B(E).loading,"onUpdate:value":K},null,8,["value","loading"])]),M(i,{loading:B(E).loading,data:B(E).data,"max-height":410,columns:B(G)},null,8,["loading","data","columns"]),M(l,{class:"mt-10px"},{default:F((()=>[q("li",null,z(e.$t("Waf.Site.Config.index_2")),1)])),_:1})])}}}))}}}));
