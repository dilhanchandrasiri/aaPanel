const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index183.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","css/index69.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{S as a,f as e,I as t,a4 as s,c as i}from"./page_layout.js?v=1732601582185";import{_ as l}from"./index.js?v=1732601582185";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{d as p,f as m,h as u}from"./public.js?v=1732601582185";import{E as _,B as d,F as c}from"./mail.js?v=1732601582185";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang16.js?v=1732601582185";import{d as h,W as g,r as x,j,M as w,c as y,f as v,O as b,X as E,Y as k,Z as M,R,a6 as C}from"./vue.js?v=1732601582185";import{bJ as L,bM as W,bN as U}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";const B=h({__name:"index",setup(h){const B=C((()=>i((()=>import("./index183.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),{t:D}=g(),I=x(),O=j({p:1,username:null}),{table:P,columns:A,setLoading:F}=p([{key:"from",title:D("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:D("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const e=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return w("span",{class:"cursor-pointer",onClick:()=>{J(a)}},[w("a",{class:"bt-link"},[a.subject]),w("span",{class:"text-desc"},[y(" - "),e||a.body])])}},{key:"time",title:D("Mail.Email.index_4"),width:"12%",minWidth:140,render:e=>a(e.time)},m({width:150,options:a=>[{label:D("Mail.Email.index_5"),onClick:()=>{J(a)}},{label:D("Mail.Email.index_10"),onClick:()=>{N(a)}},{label:D("Public.Btn.Del"),onClick:()=>{S(a)}}]})]),H=u(),J=a=>{H.data.row=a,H.title=D("Mail.Email.index_7",[a.subject]),H.show=!0},N=async a=>{await _({path:a.path,username:O.username||""}),T()},S=async a=>{await d({path:a.path}),T()},T=async()=>{try{F(!0);const{message:a}=await c({p:O.p,username:O.username||""});e(a)&&(P.data=t(a.data)?a.data:[],P.total=s(a.page))}finally{F(!1)}},V=()=>{O.p=1,T()};return F(!0),v((async()=>{await I.value.getList()})),(a,e)=>{const t=W,s=U,i=r,p=o,m=n,u=l,_=L;return b(),E(_,{class:"p-16px"},{default:k((()=>[w(m,null,{toolsLeft:k((()=>[w(s,{class:"w-460px"},{default:k((()=>[w(t,null,{default:k((()=>[y(M(a.$t("Mail.Email.index_1")),1)])),_:1}),w(f,{ref_key:"senderRef",ref:I,value:R(O).username,"onUpdate:value":[e[0]||(e[0]=a=>R(O).username=a),V]},null,8,["value"])])),_:1})])),table:k((()=>[w(i,{loading:R(P).loading,data:R(P).data,columns:R(A)},null,8,["loading","data","columns"])])),pageRight:k((()=>[w(p,{page:R(O).p,"onUpdate:page":e[1]||(e[1]=a=>R(O).p=a),"item-count":R(P).total,onRefresh:T},null,8,["page","item-count"])])),_:1}),w(u,{show:R(H).show,"onUpdate:show":e[2]||(e[2]=a=>R(H).show=a),title:R(H).title,data:R(H).data,width:850,height:680,component:R(B)},null,8,["show","title","data","component"])])),_:1})}}});export{B as default};
