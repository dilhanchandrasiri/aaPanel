System.register(["./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1723125373998","./index-legacy105.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./index-legacy.js?v=1723125373998","./mail-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1723125373998","./upload-legacy.js?v=1723125373998","./DataTable-legacy.js?v=1723125373998","./Switch-legacy.js?v=1723125373998","./use-theme-vars-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./Ellipsis-legacy.js?v=1723125373998","./omit-legacy.js?v=1723125373998"],(function(e,t){"use strict";var a,l,n,c,s,u,i,r,o,d,p,_,m,v,f,b,h,y,j,x,w,g,k,S,U,M,N,E,T,P,C,D,F;return{setters:[e=>{a=e._,l=e.a},e=>{n=e._},e=>{c=e.l,s=e.ah,u=e.ai,i=e.S,r=e.Z,o=e._,d=e.P,p=e.V,_=e.q,m=e.aj,v=e.a3,f=e.D,b=e.r,h=e.U,y=e.W,j=e.f,x=e.B,w=e.M},e=>{g=e.B,k=e.j,S=e.ae},e=>{U=e.a3,M=e.a4,N=e.a5},e=>{E=e._},e=>{T=e.o},e=>{P=e.N,C=e.a,D=e.b},e=>{F=e._},null,null,null,null,null,null,null,null],execute:function(){const t={class:"flex items-center mb-8px"},I={class:"ml-40px"},O=c({__name:"import",props:s({path:{default:""},accept:{default:()=>[]}},{value:{},valueModifiers:{}}),emits:["update:value"],setup(e){const a=e,{path:l,accept:n}=a,c=u(e,"value"),s=()=>{T({path:l,size:5,uploadData:{accept:n.map((e=>`.${e}`)).join(","),multiple:!1},onUploadSuccess:e=>{c.value=e[0].name}})};return(e,a)=>{const l=g;return i(),r("div",null,[o("div",t,[d(l,{onClick:s},{default:p((()=>[_("Import")])),_:1}),o("div",I,[_(" File name: "),o("span",{class:m(c.value?"text-primary":"text-error")},v(c.value||"No file selected"),3)])]),f(e.$slots,"default")])}}}),B=c({__name:"table",props:{data:{default:()=>[]}},setup(e){const t=b([{key:"domain",title:"Domain",ellipsis:!0},{key:"count",title:"Number",width:120},{key:"etc",title:"Projected completion time",width:240}]);return(e,a)=>{const l=P;return i(),h(l,{"max-height":240,data:e.data,columns:y(t)},null,8,["data","columns"])}}}),R={class:"p-20px"},$={class:"w-320px"},q={class:"w-320px"},z=o("div",null,[o("span",{class:"text-error"},"*"),_(" Import format: File type txt/json One mailbox per line Not more than 5M ")],-1),L={class:"w-320px"},V=o("div",null,[o("span",{class:"text-error"},"*"),_(" Import format: File type txt/html Not more than 5M ")],-1),W={class:"w-320px"},Z={class:"w-530px"};e("default",c({__name:"index",emits:["refresh"],setup(e,{expose:t,emit:c}){const s=c,u=b(null),m=j({task_name:"",addresser:null,file_recipient:"",subject:"",forward_user:"",up_content:1,file_content:"",content:"",is_record:0}),v={task_name:{trigger:["blur","input"],validator:()=>""!==m.task_name.trim()||new Error("Task Name cannot be empty!")},file_recipient:{validator:()=>""!==m.file_recipient||new Error("Recipient cannot be empty!")},subject:{validator:()=>""!==m.file_recipient||new Error("Mail Subject cannot be empty!")},file_content:{validator:()=>1!==m.up_content||""!==m.file_content||new Error("Send content cannot be empty!")},content:{validator:()=>0!==m.up_content||""!==m.content.trim()||new Error("Send content cannot be empty!")}},f=b([]),h=async e=>{if(!e)return;await U({file:e});const{message:t}=await M({file:e});k(t)&&(f.value=Object.entries(t).map((([e,{count:t,etc:a}])=>({domain:e,count:t,etc:a}))))};return t({onConfirm:async()=>{await(u.value?.validate()),await N({task_name:m.task_name,addresser:m.addresser||"",file_recipient:m.file_recipient,subject:m.subject,up_content:m.up_content,file_content:m.file_content,content:m.content,is_record:m.is_record}),s("refresh")}}),(e,t)=>{const c=S,s=a,b=C,j=D,g=n,k=F,U=l;return i(),r("div",R,[d(U,{ref_key:"formRef",ref:u,model:y(m),rules:v},{default:p((()=>[d(s,{label:"Task Name",path:"task_name"},{default:p((()=>[o("div",$,[d(c,{value:y(m).task_name,"onUpdate:value":t[0]||(t[0]=e=>y(m).task_name=e),placeholder:"Please enter the Task Name"},null,8,["value"])])])),_:1}),d(s,{label:"Sender",path:"addresser"},{default:p((()=>[o("div",q,[d(E,{value:y(m).addresser,"onUpdate:value":t[1]||(t[1]=e=>y(m).addresser=e),"is-init":!0},null,8,["value"])])])),_:1}),d(s,{label:"To",path:"file_recipient"},{default:p((()=>[d(O,{value:y(m).file_recipient,"onUpdate:value":[t[2]||(t[2]=e=>y(m).file_recipient=e),h],path:"/www/server/panel/data/mail/in_bulk/recipient",accept:["txt","json"]},{default:p((()=>[z])),_:1},8,["value"])])),_:1}),d(s,{label:"Mail Subject",path:"subject"},{default:p((()=>[o("div",L,[d(c,{value:y(m).subject,"onUpdate:value":t[3]||(t[3]=e=>y(m).subject=e),placeholder:"Please enter the Mail Subject"},null,8,["value"])])])),_:1}),d(s,{class:"mb-12px",label:"Send Content","show-feedback":!1},{default:p((()=>[d(j,{value:y(m).up_content,"onUpdate:value":t[4]||(t[4]=e=>y(m).up_content=e)},{default:p((()=>[d(b,{value:1},{default:p((()=>[_("Upload html file")])),_:1}),d(b,{value:0},{default:p((()=>[_("Manual Fill")])),_:1})])),_:1},8,["value"])])),_:1}),x(d(s,{label:" ",path:"file_content"},{default:p((()=>[d(O,{value:y(m).file_content,"onUpdate:value":t[5]||(t[5]=e=>y(m).file_content=e),path:"/www/server/panel/data/mail/in_bulk/content",accept:["txt","html"]},{default:p((()=>[V])),_:1},8,["value"])])),_:1},512),[[w,1===y(m).up_content]]),x(d(s,{label:" ",path:"content"},{default:p((()=>[o("div",W,[d(g,{value:y(m).content,"onUpdate:value":t[6]||(t[6]=e=>y(m).content=e),rows:4,placeholder:"Please enter send content"},null,8,["value"])])])),_:1},512),[[w,0===y(m).up_content]]),d(s,{label:"Save in Outbox"},{default:p((()=>[d(k,{value:y(m).is_record,"onUpdate:value":t[7]||(t[7]=e=>y(m).is_record=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),d(s,{label:"Send Limit","show-feedback":!1},{default:p((()=>[o("div",Z,[d(B,{data:y(f)},null,8,["data"])])])),_:1})])),_:1},8,["model"])])}}}))}}}));
