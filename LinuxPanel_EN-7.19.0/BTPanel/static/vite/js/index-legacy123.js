System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./index-legacy120.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185","./public-legacy.js?v=1732601582185","./index-legacy97.js?v=1732601582185","./index-legacy121.js?v=1732601582185"],(function(e,a){"use strict";var l,s,t,r,n,d,u,i,o,_,c,p,b,v,g,m,x,f,y,h,j,w,D,$,k,U,q;return{setters:[e=>{l=e._},e=>{s=e.aa,t=e.cM,r=e.j,n=e.m},e=>{d=e._},e=>{u=e.d,i=e.W,o=e.V,_=e.r,c=e.j,p=e.e,b=e.O,v=e.X,g=e.Y,m=e.M,x=e.Q,f=e.R,y=e.k,h=e.v,j=e.c,w=e.Z,D=e.ak},e=>{$=e.g},e=>{k=e.ad,U=e.bG,q=e.bL},null,null,null,null,null],execute:function(){const a={class:"w-240px"},R={class:"w-240px"},C={class:"w-240px"},E={class:"w-240px"},L={class:"ml-8px"};e("default",u({__name:"index",props:{data:{}},setup(e,{expose:u}){const{t:M}=i(),G=e,{status:H}=G.data,O=s(),{remoteList:Q}=o(O),S=_(null),V=c({sid:Q.value.length>0?Q.value[0].id:null,name:"",db_user:"",password:"",active:!1,ssl:""}),W=p((()=>Q.value.map((e=>({label:`${e.ps} (${e.db_host})`,value:e.id}))))),X={name:{required:!0,message:M("Database.form.index_15"),trigger:["blur","change"]},db_user:{required:!0,message:M("Database.form.index_16"),trigger:["blur","change"]},password:{required:!0,message:M("Database.form.index_17"),trigger:["blur","change"]},sid:{trigger:"change",validator:(e,a)=>null!==a||new Error(M("Database.tools.index_64"))}},Y=e=>{V.db_user=e},Z=()=>{$()};return u({onConfirm:async({hide:e})=>{try{await(S.value?.validate());const a=(()=>{const{sid:e}=V;if(null===e)throw n.error(M("Database.tools.index_64")),new Error(M("Database.tools.index_64"));return{...D(V),sid:e,ps:V.name}})();await t(O.type,a),O.setRefresh(!0),e()}catch(a){console.error(a)}}}),(e,s)=>{const t=k,n=U,u=d,i=q,o=r,_=l;return b(),v(_,{ref_key:"formRef",ref:S,model:f(V),rules:X,class:"p-20px"},{default:g((()=>[m(n,{label:e.$t("Database.index_12"),path:"name"},{default:g((()=>[x("div",a,[m(t,{value:f(V).name,"onUpdate:value":[s[0]||(s[0]=e=>f(V).name=e),Y],placeholder:e.$t("Database.form.index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),y(m(n,{label:e.$t("Database.index_13"),path:"db_user"},{default:g((()=>[x("div",R,[m(t,{value:f(V).db_user,"onUpdate:value":s[1]||(s[1]=e=>f(V).db_user=e),placeholder:e.$t("Database.form.index_4")},null,8,["value","placeholder"])])])),_:1},8,["label"]),[[h,f(H)]]),y(m(n,{label:e.$t("Database.index_14"),path:"password"},{default:g((()=>[x("div",C,[m(u,{value:f(V).password,"onUpdate:value":s[2]||(s[2]=e=>f(V).password=e)},null,8,["value"])])])),_:1},8,["label"]),[[h,f(H)]]),m(n,{label:e.$t("Database.form.index_9"),path:"sid"},{default:g((()=>[x("div",E,[m(i,{value:f(V).sid,"onUpdate:value":s[3]||(s[3]=e=>f(V).sid=e),options:f(W)},null,8,["value","options"])]),x("div",L,[m(o,{onClick:Z},{default:g((()=>[j(w(e.$t("Database.form.index_10")),1)])),_:1})])])),_:1},8,["label"])])),_:1},8,["model"])}}}))}}}));
