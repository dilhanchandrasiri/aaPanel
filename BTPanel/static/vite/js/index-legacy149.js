System.register(["./index-legacy77.js?v=1723125373998","./index-legacy70.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1723125373998","./index-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./index-legacy59.js?v=1723125373998","./site-legacy.js?v=1723125373998","./useLoading-legacy.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1723125373998","./file-legacy2.js?v=1723125373998","./Upload-legacy2.js?v=1723125373998","./RadioButton-legacy.js?v=1723125373998","./DataTable-legacy.js?v=1723125373998","./InputGroupLabel-legacy.js?v=1723125373998","./InputGroup-legacy.js?v=1723125373998","./Tabs-legacy.js?v=1723125373998","./omit-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy3.js?v=1723125373998","./useTableData-legacy.js?v=1723125373998","./data-legacy.js?v=1723125373998","./Skeleton-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1723125373998","./site-legacy2.js?v=1723125373998","./useTableColumns-legacy.js?v=1723125373998","./Progress-legacy.js?v=1723125373998","./Switch-legacy.js?v=1723125373998","./Ellipsis-legacy.js?v=1723125373998","./index-legacy144.js?v=1723125373998","./index-legacy105.js?v=1723125373998","./use-theme-vars-legacy.js?v=1723125373998","./index-legacy73.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1723125373998","./Spin-legacy.js?v=1723125373998","./refersh-legacy.js?v=1723125373998","./php-legacy.js?v=1723125373998","./Space-legacy.js?v=1723125373998","./Alert-legacy.js?v=1723125373998","./index-legacy145.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Image-legacy.js?v=1723125373998","./_createCompounder-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1723125373998"],(function(e,l){"use strict";var a,t,r,n,i,u,s,o,p,d,_,c,v,g,m,h,b,f,w,y,x,P,j,S,k,$,E,L,U,R,W,V,q,A,C,D,H,T,z,N,I,F,G,M,B,Q,Z,J,K,O,X,Y,ee,le;return{setters:[e=>{a=e._},e=>{t=e._},e=>{r=e._,n=e.a},e=>{i=e.d0,u=e.k,s=e.eF,o=e.cz,p=e.I,d=e.j,_=e.e,c=e.ae,v=e._,g=e.bt,m=e.G,h=e.n,b=e.B},e=>{f=e.s},e=>{w=e.g,y=e._,x=e.a,P=e.c,j=e.b},e=>{S=e.ao},e=>{k=e.u},e=>{$=e.l,E=e.ai,L=e.r,U=e.S,R=e.U,W=e.W,V=e.n,q=e.w,A=e.k,C=e.ad,D=e.f,H=e.V,T=e._,z=e.a3,N=e.q,I=e.af,F=e.Z,G=e.P,M=e.b,B=e.D},e=>{Q=e._},e=>{Z=e._},e=>{J=e._},e=>{K=e.u},e=>{O=e._},e=>{X=e._},e=>{Y=e.b},e=>{ee=e._},e=>{le=e._},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=$({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const l=i(),{phpVersion:a}=f(l),t=E(e,"value"),{loading:r,setLoading:n}=k(),s=L([]),o=e=>{a.value=e};return(async()=>{try{n(!0);const{message:e}=await S(),l=u(e)?e:[];s.value=l.reverse().filter((e=>"00"!==e.version)).map((e=>({label:e.name,value:e.version}))),await V(),l.length>0&&(t.value="00"==l[0].version?"":l[0].version,a.value="00"==l[0].version?"":l[0].version)}finally{n(!1)}})(),(e,l)=>{const a=Q;return U(),R(a,{value:t.value,"onUpdate:value":[l[0]||(l[0]=e=>t.value=e),o],loading:W(r),options:W(s)},null,8,["value","loading","options"])}}}),ae=$({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const l=i();q((()=>l.phpVersion),(e=>{o(e)}));const a=A((()=>l.phpVersion?"Not supported by current PHP":"Please select PHP version")),t=E(e,"value"),{loading:r,setLoading:n}=k(),s=L([]),o=async e=>{try{n(!0),t.value="";const{message:l}=await w({php_version_short:e});u(l)&&(s.value=l.map((e=>({label:e.version,value:e.version}))),await V(),l.length>0&&(t.value=l[0].version))}finally{n(!1)}};return l.phpVersion&&o(l.phpVersion),(e,l)=>{const n=Q;return U(),R(n,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:W(r),options:W(s),placeholder:W(a)},null,8,["value","loading","options","placeholder"])}}}),te={key:1},re=T("span",{class:"mx-4px"},"|",-1),ne={class:"w-400px"},ie={class:"w-400px"},ue={class:"w-230px"},se={class:"w-230px"},oe={class:"w-400px"},pe={class:"w-230px mr-16px"},de={class:"w-400px"},_e={class:"w-400px"},ce=$({__name:"index",setup(e,{expose:a}){const{t:u}=C(),b=i(),{web:w,mysql:P,php:j}=f(b),S=L(null),k=D({domain:"",weblog_title:"",language:"en",php_version:null,wp_version:null,user_name:s(6),admin_password:o(16,"wp"),pw_weak:!1,admin_email:"",Login_url:"wp-admin",redirection_url:"404",prefix:"wp_"+s(6)+"_",enable_cache:!1,wps:!1}),$={domain:{required:!0,trigger:["blur","input"],validator:()=>""!==k.domain.trim()||new Error(u("Site.RulesError.Domain"))},weblog_title:{required:!0,trigger:["blur","input"],validator:()=>""!==k.weblog_title.trim()||new Error(u("Site.RulesError.WebTitle"))},language:{trigger:"change",validator:()=>null!==k.language||new Error(u("Site.RulesError.Language"))},php_version:{trigger:"change",validator:()=>null!==k.php_version||new Error(u("Site.RulesError.PHPVersion"))},wp_version:{trigger:"change",validator:()=>null!==k.php_version||new Error(u("Site.RulesError.WPVersion"))},user_name:{required:!0,trigger:["blur","input"],validator:()=>""!==k.user_name.trim()||new Error(u("Site.RulesError.UserName"))},admin_password:{required:!0,trigger:["blur","input"],validator:()=>""!==k.admin_password.trim()||new Error(u("Site.RulesError.Password"))},admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==k.admin_email.trim()||new Error(u("Site.RulesError.Email"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==k.redirection_url.trim()||new Error(u("Site.RulesError.Redirection"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==k.Login_url.trim()||new Error(u("Site.RulesError.Login"))},prefix:{required:!0,trigger:["blur","input"],validator:()=>""!==k.prefix.trim()||new Error(u("Site.RulesError.Prefix"))}},E=()=>{const{domain:e,php_version:l}=k,a=e.replace(new RegExp(/([-.])/g),"_");if(null===l)throw h.error(u("Site.RulesError.PHPVersion")),new Error(u("Site.RulesError.PHPVersion"));return{webname:{domain:e,domainlist:[],count:0},type:"PHP",port:80,type_id:0,ftp:!1,sql:"MySQL",codeing:"utf8",set_ssl:0,force_ssl:0,project_type:"WP",path:b.sitePath+"/"+e,ps:a,version:l,datauser:"sql_"+a,datapassword:s(16),password:k.admin_password,pw_weak:k.pw_weak?"on":"off",email:k.admin_email,weblog_title:k.weblog_title,language:k.language,user_name:k.user_name,prefix:k.prefix,enable_cache:k.enable_cache?1:0,enable_whl:0,whl_page:k.Login_url?k.Login_url:null,whl_redirect_admin:k.redirection_url?k.redirection_url:null,package_version:k.wp_version}};return a({onConfirm:async()=>{await(S.value?.validate());const{message:e}=await x(E());d(e)&&b.setRefresh(!0)}}),(e,a)=>{const i=_,u=c,s=r,o=v,d=g,h=m,b=Z,f=n,x=t;return U(),R(x,{install:W(P).setup&&W(j).setup},{desc:H((()=>[T("span",null,z(e.$t("WP.index_6")),1),W(j).setup?I("",!0):(U(),R(i,{key:0,class:"ml-4px",onClick:a[0]||(a[0]=e=>W(p)("php-8.0"))},{default:H((()=>[N(z(e.$t("WP.index_7")),1)])),_:1})),W(P).setup?I("",!0):(U(),F("span",te,[re,G(i,{onClick:a[1]||(a[1]=e=>W(p)("mysql"))},{default:H((()=>[N(z(e.$t("WP.index_8")),1)])),_:1})]))])),default:H((()=>[G(f,{ref_key:"formRef",ref:S,modelValue:W(k),"onUpdate:modelValue":a[13]||(a[13]=e=>M(k)?k.value=e:null),rules:$},{default:H((()=>[G(s,{label:e.$t("Site.Lable.Domain"),path:"domain"},{default:H((()=>[T("div",ne,[G(u,{value:W(k).domain,"onUpdate:value":a[2]||(a[2]=e=>W(k).domain=e),placeholder:e.$t("Site.Placeholder.Domain")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.WebTitle"),path:"weblog_title"},{default:H((()=>[T("div",ie,[G(u,{value:W(k).weblog_title,"onUpdate:value":a[3]||(a[3]=e=>W(k).weblog_title=e),placeholder:e.$t("Site.Placeholder.WebTitle")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.Language"),path:"language"},{default:H((()=>[T("div",ue,[G(y,{value:W(k).language,"onUpdate:value":a[4]||(a[4]=e=>W(k).language=e)},null,8,["value"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.PHPVersion"),path:"php_version"},{default:H((()=>[T("div",se,[G(l,{value:W(k).php_version,"onUpdate:value":a[5]||(a[5]=e=>W(k).php_version=e)},null,8,["value"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.WPVersion"),path:"wp_version"},{default:H((()=>[G(h,{class:"items-center",size:8},{default:H((()=>[G(ae,{value:W(k).wp_version,"onUpdate:value":a[6]||(a[6]=e=>W(k).wp_version=e),class:"w-230px"},null,8,["value"]),G(d,{trigger:"hover"},{trigger:H((()=>[G(o,{name:"common-ask",size:"18",color:"#999"})])),default:H((()=>[N(" "+z(e.$t("WP.Add.Tips")),1)])),_:1})])),_:1})])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.UserName"),path:"user_name"},{default:H((()=>[T("div",oe,[G(u,{value:W(k).user_name,"onUpdate:value":a[7]||(a[7]=e=>W(k).user_name=e),placeholder:e.$t("Site.Placeholder.UserName")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.Password"),path:"admin_password"},{default:H((()=>[T("div",pe,[G(u,{value:W(k).admin_password,"onUpdate:value":a[8]||(a[8]=e=>W(k).admin_password=e),placeholder:e.$t("Site.Placeholder.Password")},null,8,["value","placeholder"])]),G(b,{checked:W(k).pw_weak,"onUpdate:checked":a[9]||(a[9]=e=>W(k).pw_weak=e)},{default:H((()=>[T("span",null,z(e.$t("WP.Add.Awp")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.Email"),path:"admin_email"},{default:H((()=>[T("div",de,[G(u,{value:W(k).admin_email,"onUpdate:value":a[10]||(a[10]=e=>W(k).admin_email=e),placeholder:e.$t("Site.Placeholder.Email")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.Prefix"),path:"prefix"},{default:H((()=>[T("div",_e,[G(u,{value:W(k).prefix,"onUpdate:value":a[11]||(a[11]=e=>W(k).prefix=e),placeholder:e.$t("Site.Placeholder.Prefix")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(s,{label:e.$t("Site.Lable.Cache"),"show-feedback":!1},{default:H((()=>[G(b,{checked:W(k).enable_cache,"onUpdate:checked":a[12]||(a[12]=e=>W(k).enable_cache=e),disabled:"nginx"!==W(w).type},{default:H((()=>[T("span",null,z(e.$t("WP.Add.CacheNginx")),1)])),_:1},8,["checked","disabled"])])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1},8,["install"])}}}),ve=$({__name:"upload",props:{path:{default:"/"}},emits:["finish"],setup(e,{emit:l}){const a=e,t=l,r=L([]),n=async({file:e})=>{try{const l=new FormData;l.append("f_path",a.path),l.append("f_name",e.name),l.append("f_start","0"),e.file&&(l.append("blob",e.file),l.append("f_size",e.file.size.toString())),await K(l),t("finish",`${a.path}/${e.name}`)}finally{r.value=[]}};return(e,l)=>{const a=b,t=O;return U(),R(t,{ref:"upload",class:"w-auto",action:"","file-list":W(r),"onUpdate:fileList":l[0]||(l[0]=e=>M(r)?r.value=e:null),"show-file-list":!1,multiple:!1,"custom-request":n},{default:H((()=>[G(a,null,{default:H((()=>[B(e.$slots,"default")])),_:3})])),_:3},8,["file-list"])}}}),ge={class:"w-302px ml-12px"},me={class:"w-400px"},he={class:"w-230px"},be=$({__name:"index",setup(e,{expose:a}){const{t:t}=C(),u=i(),{web:s}=f(u),o=L(null),p=D({method:1,bak_file:"",domain:"",sub_path:"",php_version:null,enable_cache:!1}),d={bak_file:{trigger:["blur","input"],validator:()=>""!==p.bak_file.trim()||new Error(t("WP.Add.import_6"))},domain:{trigger:["blur","input"],validator:()=>""!==p.domain.trim()||new Error(t("Site.RulesError.Domain"))},php_version:{trigger:"change",validator:()=>null!==p.php_version||new Error(t("Site.RulesError.PHPVersion"))}},_=A((()=>p.domain?`/${p.domain}/`:"/")),v=e=>{p.bak_file=e};return a({onConfirm:async()=>{await(o.value?.validate());const e={bak_file:p.bak_file,domain:p.domain,sub_path:p.sub_path,php_ver_short:p.php_version||"",enable_cache:p.enable_cache?1:0};1===p.method?await P(e):await j(e),u.setRefresh(!0)}}),(e,a)=>{const t=X,i=Y,g=r,m=J,h=c,b=ee,f=le,w=Z,y=n;return U(),R(y,{ref_key:"formRef",ref:o,modelValue:W(p),"onUpdate:modelValue":a[6]||(a[6]=e=>M(p)?p.value=e:null),rules:d},{default:H((()=>[G(g,{label:e.$t("WP.Add.import_1")},{default:H((()=>[G(i,{value:W(p).method,"onUpdate:value":a[0]||(a[0]=e=>W(p).method=e)},{default:H((()=>[G(t,{label:e.$t("WP.Add.import_2"),value:1},null,8,["label"]),G(t,{label:e.$t("WP.Add.import_3"),value:2},null,8,["label"])])),_:1},8,["value"])])),_:1},8,["label"]),G(g,{label:e.$t("WP.Add.import_4"),path:"bak_file"},{default:H((()=>[G(ve,{path:"/www/server/panel/temp",onFinish:v},{default:H((()=>[N(" Upload file ")])),_:1}),T("div",ge,[G(m,{value:W(p).bak_file,"onUpdate:value":a[1]||(a[1]=e=>W(p).bak_file=e),"default-path":"/www/backup/wordpress","checked-type":["file"]},null,8,["value"])])])),_:1},8,["label"]),G(g,{label:e.$t("Site.Lable.Domain"),path:"domain"},{default:H((()=>[T("div",me,[G(h,{value:W(p).domain,"onUpdate:value":a[2]||(a[2]=e=>W(p).domain=e),placeholder:e.$t("Site.Placeholder.Domain")},null,8,["value","placeholder"])])])),_:1},8,["label"]),G(g,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:H((()=>[G(f,{class:"w-400px"},{default:H((()=>[G(b,null,{default:H((()=>[N(z(W(u).sitePath)+z(W(_)),1)])),_:1}),G(h,{value:W(p).sub_path,"onUpdate:value":a[3]||(a[3]=e=>W(p).sub_path=e),placeholder:e.$t("WP.Add.import_5")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["label"]),G(g,{label:e.$t("Site.Lable.PHPVersion"),path:"php_version"},{default:H((()=>[T("div",he,[G(l,{value:W(p).php_version,"onUpdate:value":a[4]||(a[4]=e=>W(p).php_version=e)},null,8,["value"])])])),_:1},8,["label"]),G(g,{label:e.$t("Site.Lable.Cache"),"show-feedback":!1},{default:H((()=>[G(w,{checked:W(p).enable_cache,"onUpdate:checked":a[5]||(a[5]=e=>W(p).enable_cache=e),disabled:"nginx"!==W(s).type},{default:H((()=>[N(z(e.$t("WP.Add.CacheNginx")),1)])),_:1},8,["checked","disabled"])])),_:1},8,["label"])])),_:1},8,["modelValue"])}}}),fe={class:"p-20px h-full"};e("default",$({__name:"index",setup(e,{expose:l}){const{t:t}=C(),r=L("single"),n=L(),i=[{key:"single",label:t("WP.Add.index_1"),isLazy:!0,component:ce},{key:"import",label:t("WP.Add.index_2"),isLazy:!0,component:be}];return l({onConfirm:async()=>{await(n.value?.onConfirm())}}),(e,l)=>{const t=a;return U(),F("div",fe,[G(t,{ref_key:"tabsRef",ref:n,value:W(r),"onUpdate:value":l[0]||(l[0]=e=>M(r)?r.value=e:null),options:i},null,8,["value"])])}}}))}}}));
