import{j as a,h as s,bg as t,_ as e,B as o,e as n,p as r,G as i,bb as l,a as c}from"./index.js?v=1723125373998";import{c as u}from"./data.js?v=1723125373998";import{g as m,s as p}from"./php.js?v=1723125373998";import{u as f}from"./useLoading.js?v=1723125373998";import{l as d,r as _,k as v,S as g,U as y,V as S,W as b,P as h,_ as j,a3 as k,aj as x,q as C}from"./vue.js?v=1723125373998";import{_ as P}from"./Skeleton.js?v=1723125373998";const w={class:"m-2px"},N=c(d({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(c){const d=c,N=_({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),$=v((()=>u(N.value.name)+" "+N.value.version)),{loading:z,setLoading:L}=f(),R=async()=>{try{L(!0);const{message:s}=await m({name:d.softName});a(s)&&(N.value=s)}finally{L(!1)}},q=a=>{const t="".concat(u(a)," ").concat($.value),e="Are you sure you have to ".concat(a," the ").concat(u(N.value.name)," service and continue?");s({title:t,content:e,onConfirm:async()=>{await p({name:N.value.s_version,type:a}),R()}})},A=()=>{t({name:d.openSoft?d.openSoft:d.softName,title:$.value,admin:!1})};return R(),(a,s)=>{const t=P,c=e,u=o,m=n,p=r,f=i,d=l;return g(),y(d,{trigger:"hover"},{trigger:S((()=>[b(z)?(g(),y(t,{key:0,width:120,height:32,sharp:!1})):(g(),y(u,{key:1,class:"min-w-120px soft-btn",type:b(N).s_status?"default":"error",onClick:A},{default:S((()=>[h(c,{name:"soft-".concat(a.softName),size:"20"},null,8,["name"]),j("span",w,k(b($)),1),j("span",{class:x(["iconfont","icon-".concat(b(N).s_status?"start":"stop")])},null,2)])),_:1},8,["type"]))])),default:S((()=>[h(f,{class:"items-center",size:8},{default:S((()=>[h(m,{onClick:s[0]||(s[0]=a=>q(b(N).s_status?"stop":"start"))},{default:S((()=>[C(k(b(N).s_status?a.$t("Public.Status.Stop"):a.$t("Public.Status.Start")),1)])),_:1}),h(p,{class:"mx-0!",vertical:""}),h(m,{onClick:s[1]||(s[1]=a=>q("restart"))},{default:S((()=>[C(k(a.$t("Public.Status.Restart")),1)])),_:1}),h(p,{class:"mx-0!",vertical:""}),h(m,{onClick:s[2]||(s[2]=a=>q("reload"))},{default:S((()=>[C(k(a.$t("Public.Status.Reload")),1)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-66b7cdc4"]]);export{N as _};
