import{_ as a}from"./index73.js?v=1723125373998";import{_ as s,a as e}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{aw as t,ax as o,ao as u,N as l,ae as i,cG as n}from"./index.js?v=1723125373998";import{l as p,f as d,r,S as _,Z as c,P as m,V as f,_ as x,W as b,q,a3 as z,af as v}from"./vue.js?v=1723125373998";import{_ as g}from"./InputGroupLabel.js?v=1723125373998";import{_ as h}from"./InputGroup.js?v=1723125373998";import"./pinia.js?v=1723125373998";const{t:y}=t.global,j={class:"px-20px py-24px"},w={class:"w-160px"},P={class:"w-160px"},C={class:"text-error"},M={key:0},$=p({__name:"quota-config",props:{data:{}},setup(t,{expose:p}){const $=t,{type:O,info:G,callback:N}=$.data,S=d({used:"0",size:0}),W=r("MB");return(()=>{const a=u(G,"quota.used",0);if(a>0){const s=l(a).split(" ");S.used=s[0],W.value=s[1]}S.size=u(G,"quota.size",0)})(),p({onConfirm:async({hide:a})=>{var s;"site"!==O&&"ftp"!==O||await(s={size:S.size,quota_type:O,path:u(G,"path","")},o.post("/project/quota/modify_path_quota",{data:JSON.stringify({path:s.path,quota_type:s.quota_type,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:s.size}})},{requestOptions:{loading:y("WP.api.tamper_8"),successMessage:!0,errorMessage:{close:!0}}})),"database"===O&&await(a=>o.post("/project/quota/modify_database_quota",{data:JSON.stringify({db_name:a.db_name,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:a.size}})},{requestOptions:{loading:y("WP.api.tamper_8"),successMessage:!0,errorMessage:{close:!0}}}))({size:S.size,db_name:u(G,"name","")}),null==N||N(),a()}}),(t,o)=>{const u=i,l=g,p=h,d=s,r=n,y=e,$=a;return _(),c("div",j,[m(y,{"label-width":"180"},{default:f((()=>[m(d,{label:t.$t("Public.Components.index_13")},{default:f((()=>[x("div",w,[m(p,null,{default:f((()=>[m(u,{value:b(S).used,"onUpdate:value":o[0]||(o[0]=a=>b(S).used=a),disabled:!0},null,8,["value"]),m(l,{class:"w-44px text-center"},{default:f((()=>[q(z(b(W)),1)])),_:1})])),_:1})])])),_:1},8,["label"]),m(d,{label:t.$t("Public.Components.index_15")},{default:f((()=>[x("div",P,[m(p,null,{default:f((()=>[m(r,{value:b(S).size,"onUpdate:value":o[1]||(o[1]=a=>b(S).size=a),min:0,"show-button":!1},null,8,["value"]),m(l,{class:"w-44px text-center"},{default:f((()=>[q("MB")])),_:1})])),_:1})])])),_:1},8,["label"])])),_:1}),m($,{class:"mt-8px"},{default:f((()=>[x("li",C,z(t.$t("Public.Components.index_16")),1),x("li",null,z(t.$t("Public.Components.index_17")),1),"database"!==b(O)?(_(),c("li",M,z(t.$t("Public.Components.index_18")),1)):v("",!0),x("li",null,z(t.$t("Public.Components.index_19")),1)])),_:1})])}}});export{$ as default};
