const __vite__fileDeps=["js/index146.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","js/site.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang14.js?v=1723125373998","js/Progress.js?v=1723125373998","js/DataTable.js?v=1723125373998","js/Checkbox.js?v=1723125373998","js/Ellipsis.js?v=1723125373998","js/Select.js?v=1723125373998","js/Tag.js?v=1723125373998","js/Empty.js?v=1723125373998","js/omit.js?v=1723125373998","js/file2.js?v=1723125373998","js/use-theme-vars.js?v=1723125373998","css/index41.css?v=1723125373998","js/index147.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998","css/index9.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang3.js?v=1723125373998","js/useTableData.js?v=1723125373998","js/data.js?v=1723125373998","js/Skeleton.js?v=1723125373998","js/useLoading.js?v=1723125373998","js/useTableColumns.js?v=1723125373998","js/Switch.js?v=1723125373998","css/useTableColumns.css?v=1723125373998","js/index70.js?v=1723125373998","css/index10.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang4.js?v=1723125373998","js/site2.js?v=1723125373998","js/index144.js?v=1723125373998","js/Tabs.js?v=1723125373998","css/index20.css?v=1723125373998","js/index105.js?v=1723125373998","css/index12.css?v=1723125373998","js/index77.js?v=1723125373998","css/index11.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang8.js?v=1723125373998","js/InputGroupLabel.js?v=1723125373998","js/InputGroup.js?v=1723125373998","js/index73.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998","js/Spin.js?v=1723125373998","js/refersh.js?v=1723125373998","js/php.js?v=1723125373998","js/Space.js?v=1723125373998","js/Alert.js?v=1723125373998","js/index145.js?v=1723125373998","css/index21.css?v=1723125373998","js/Image.js?v=1723125373998","js/_createCompounder.js?v=1723125373998","js/index148.js?v=1723125373998","js/uniq.js?v=1723125373998","js/_baseUniq.js?v=1723125373998","js/_baseFindIndex.js?v=1723125373998","js/old3.js?v=1723125373998","js/index149.js?v=1723125373998","js/Upload2.js?v=1723125373998","js/RadioButton.js?v=1723125373998","js/index150.js?v=1723125373998","js/index151.js?v=1723125373998","js/index152.js?v=1723125373998","js/form.vue_vue_type_script_setup_true_lang2.js?v=1723125373998","css/index39.css?v=1723125373998","js/index153.js?v=1723125373998","js/index154.js?v=1723125373998","css/index40.css?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{aK as e,aE as t,aC as a,aH as l,aG as i,aW as n,aM as s,aN as o,bN as r,aX as d,aP as u,aT as c,aU as p,b5 as m,aZ as h,aw as _,ax as f,L as v,j as g,e as w,v as b,h as y,k as x,n as k,B as S,G as C,p as P,ae as T,ao as R,d0 as L,g as $,q as W,cG as U,bh as E,a as D,au as O,b8 as M,d1 as q,cz as j,_ as A,bt as I,z as B,m as H,I as z,r as N}from"./index.js?v=1723125373998";import{_ as V}from"./index70.js?v=1723125373998";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import{_ as F}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang3.js?v=1723125373998";import{u as G,_ as Z}from"./useTableData.js?v=1723125373998";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1723125373998";import{s as Q}from"./pinia.js?v=1723125373998";import{l as Y}from"./site2.js?v=1723125373998";import{u as ee}from"./useLoading.js?v=1723125373998";import{B as te,g as ae,b as le,h as ie,d as ne,e as se}from"./useTableColumns.js?v=1723125373998";import{W as oe,X as re,Y as de,Z as ue,_ as ce,$ as pe,a0 as me,a1 as he,a2 as _e,a3 as fe,a4 as ve,a5 as ge,a6 as we,a7 as be,a8 as ye,a9 as xe,aa as ke,ab as Se,ac as Ce,ad as Pe,ae as Te,af as Re,ag as Le,ah as $e,ai as We,aj as Ue,ak as Ee,al as De,am as Oe,an as Me,ao as qe,ap as je,aq as Ae,ar as Ie,as as Be,at as He,au as ze,av as Ne,aw as Ve,ax as Ke,ay as Fe,az as Xe,aA as Ge,aB as Ze,aC as Je,S as Qe,aD as Ye,aE as et,aF as tt,aG as at,aH as lt,aI as it,b as nt}from"./site.js?v=1723125373998";import{p as st,l as ot,d as rt,r as dt,k as ut,ag as ct,a1 as pt,P as mt,s as ht,ad as _t,A as ft,a as vt,S as gt,Z as wt,_ as bt,V as yt,a3 as xt,W as kt,b as St,q as Ct,f as Pt,F as Tt,af as Rt,x as Lt,U as $t,t as Wt,n as Ut,al as Et,a5 as Dt,a6 as Ot,ai as Mt,w as qt}from"./vue.js?v=1723125373998";import{_ as jt}from"./index144.js?v=1723125373998";import{_ as At}from"./index105.js?v=1723125373998";import{_ as It}from"./index77.js?v=1723125373998";import{_ as Bt,a as Ht}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{_ as zt}from"./index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998";import{_ as Nt}from"./Select.js?v=1723125373998";import{_ as Vt}from"./Switch.js?v=1723125373998";import{_ as Kt}from"./index73.js?v=1723125373998";import{_ as Ft}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998";import{_ as Xt}from"./InputGroupLabel.js?v=1723125373998";import{_ as Gt}from"./InputGroup.js?v=1723125373998";import{_ as Zt,a as Jt}from"./Checkbox.js?v=1723125373998";import{_ as Qt,a as Yt,b as ea}from"./refersh.js?v=1723125373998";import{a as ta,b as aa}from"./php.js?v=1723125373998";import{_ as la}from"./Space.js?v=1723125373998";import{_ as ia}from"./Alert.js?v=1723125373998";import{_ as na}from"./index145.js?v=1723125373998";import{_ as sa}from"./Spin.js?v=1723125373998";import{_ as oa}from"./Progress.js?v=1723125373998";import{_ as ra}from"./Tag.js?v=1723125373998";import{_ as da}from"./Image.js?v=1723125373998";const ua={name:"Rate",common:e,self:e=>{const{railColor:t}=e;return{itemColor:t,itemColorActive:"#FFCC33",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},ca=st("svg",{viewBox:"0 0 512 512"},st("path",{d:"M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"})),pa=t("rate",{display:"inline-flex",flexWrap:"nowrap"},[a("&:hover",[l("item","\n transition:\n transform .1s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),l("item","\n position: relative;\n display: flex;\n transition:\n transform .1s var(--n-bezier),\n color .3s var(--n-bezier);\n transform: scale(1);\n font-size: var(--n-item-size);\n color: var(--n-item-color);\n ",[a("&:not(:first-child)","\n margin-left: 6px;\n "),i("active","\n color: var(--n-item-color-active);\n ")]),n("readonly","\n cursor: pointer;\n ",[l("item",[a("&:hover","\n transform: scale(1.05);\n "),a("&:active","\n transform: scale(0.96);\n ")])]),l("half","\n display: flex;\n transition: inherit;\n position: absolute;\n top: 0;\n left: 0;\n bottom: 0;\n width: 50%;\n overflow: hidden;\n color: rgba(255, 255, 255, 0);\n ",[i("active","\n color: var(--n-item-color-active);\n ")])]),ma=ot({name:"Rate",props:Object.assign(Object.assign({},o.props),{allowHalf:Boolean,count:{type:Number,default:5},value:Number,defaultValue:{type:Number,default:null},readonly:Boolean,size:{type:[String,Number],default:"medium"},clearable:Boolean,color:String,onClear:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:a}=s(e),l=o("Rate","-rate",pa,ua,e,t),i=rt(e,"value"),n=dt(e.defaultValue),m=dt(null),_=r(e),f=d(i,n);function v(t){const{"onUpdate:value":a,onUpdateValue:l}=e,{nTriggerFormChange:i,nTriggerFormInput:s}=_;a&&h(a,t),l&&h(l,t),n.value=t,i(),s()}function g(t,a){return e.allowHalf?a.offsetX>=Math.floor(a.currentTarget.offsetWidth/2)?t+1:t+.5:t+1}let w=!1;const b=ut((()=>{const{size:t}=e,{self:a}=l.value;return"number"==typeof t?"".concat(t,"px"):a[c("size",t)]})),y=ut((()=>{const{common:{cubicBezierEaseInOut:t},self:a}=l.value,{itemColor:i,itemColorActive:n}=a,{color:s}=e;return{"--n-bezier":t,"--n-item-color":i,"--n-item-color-active":s||n,"--n-item-size":b.value}})),x=a?u("rate",ut((()=>{const t=b.value,{color:a}=e;let l="";return t&&(l+=t[0]),a&&(l+=p(a)),l})),y,e):void 0;return{mergedClsPrefix:t,mergedValue:f,hoverIndex:m,handleMouseMove:function(e,t){w||(m.value=g(e,t))},handleClick:function(t,a){var l;const{clearable:i}=e,n=g(t,a);i&&n===f.value?(w=!0,null===(l=e.onClear)||void 0===l||l.call(e),m.value=null,v(null)):v(n)},handleMouseLeave:function(){m.value=null},handleMouseEnterSomeStar:function(){w=!1},cssVars:a?void 0:y,themeClass:null==x?void 0:x.themeClass,onRender:null==x?void 0:x.onRender}},render(){const{readonly:e,hoverIndex:t,mergedValue:a,mergedClsPrefix:l,onRender:i,$slots:{default:n}}=this;return null==i||i(),st("div",{class:["".concat(l,"-rate"),{["".concat(l,"-rate--readonly")]:e},this.themeClass],style:this.cssVars,onMouseleave:this.handleMouseLeave},ct(this.count,((i,s)=>{const o=n?n({index:s}):st(m,{clsPrefix:l},{default:()=>ca}),r=null!==t?s+1<=t:s+1<=(a||0);return st("div",{key:s,class:["".concat(l,"-rate__item"),r&&"".concat(l,"-rate__item--active")],onClick:e?void 0:e=>{this.handleClick(s,e)},onMouseenter:this.handleMouseEnterSomeStar,onMousemove:e?void 0:e=>{this.handleMouseMove(s,e)}},o,this.allowHalf?st("div",{class:["".concat(l,"-rate__half"),{["".concat(l,"-rate__half--active")]:r||null===t?s+.5<=(a||0):s+.5<=t}]},o):null)})))}}),{t:ha}=_.global,_a=e=>f.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:ha("WP.api.tamper_7")}}),fa=e=>f.post("/site?action=get_wp_versions",e),va=e=>f.post("/site?action=wp_backup_list",e),ga=(e,t=!0)=>f.post("/site?action=wp_backup",e,{requestOptions:{loading:t?ha("WP.api.tamper_9"):"",successMessage:t}}),wa=(e,t=!0)=>f.post("/site?action=wp_restore",e,{requestOptions:{loading:t?ha("WP.api.tamper_10"):"",successMessage:!0}}),ba=(e,t=!0)=>f.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?ha("WP.api.tamper_8"):"",successMessage:t}}),ya=()=>f.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),xa=()=>f.post("/site?action=wp_migrate_from_website_to_wptoolkit",{},{requestOptions:{loading:ha("WP.api.tamper_11"),successMessage:!0}}),ka=e=>f.post("/site?action=get_wp_security_info",e),Sa=e=>f.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}),Ca=e=>f.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}),Pa=e=>f.post("/site?action=get_wp_file_info",e),Ta=e=>f.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}),Ra=e=>f.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}),La=e=>f.post("/site?action=wp_clone",e,{requestOptions:{loading:ha("WP.api.index_1"),successMessage:!0}}),$a=e=>f.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:ha("WP.api.index_2"),successMessage:!0}}),Wa=e=>f.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:ha("WP.api.index_2"),successMessage:!0}}),Ua=e=>f.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}),Ea=e=>f.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}}),Da=e=>f.post("/site?action=wp_installed_plugins",e),Oa=e=>f.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:ha("WP.api.tamper_14"),successMessage:!0}}),Ma=(e,t=!1)=>f.post("/site?action=wp_theme_list",e,{requestOptions:{loading:t?ha("WP.api.tamper_17"):"",successMessage:!1}}),qa=(e,t=!1)=>f.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:t?ha("WP.api.tamper_17"):"",successMessage:!1}});const{t:ja}=_.global;function Aa(e){v({title:1===e.length?"".concat(ja("Site.Cert.DelSite")," [").concat(e[0].name,"]"):"".concat(ja("Site.Cert.BathDelSite")),width:480,minHeight:248,footer:!0,data:{rows:e},component:pt((()=>b((()=>import("./index146.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))))})}function Ia({onClick:e}){return{key:"ssl",title:ja("Site.TableRow.SSL"),width:"9%",minWidth:100,render:t=>{let a;const{ssl:l}=t;return g(l)?mt(w,{type:l.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[l.endtime<0?"Expired":"Exp in ".concat(l.endtime," days")]}):mt(w,{type:"warning",onClick:()=>{e(t)}},"function"==typeof(i=a=ja("WP.index_13"))||"[object Object]"===Object.prototype.toString.call(i)&&!ht(i)?a:{default:()=>[a]});var i}}}function Ba({onClick:e}){return{key:"action",title:ja("Site.TableRow.Operation"),width:130,align:"right",render:t=>mt(te,{options:[{label:ja("Site.TableOP.Login"),disabled:"0"==t.status,onClick:()=>{window.open(t.login_url,"_blank")}},{label:ja("Site.TableOP.Conf"),onClick:()=>{e(t)}},{label:ja("Site.TableOP.Del"),onClick:()=>{Aa([t])}}]},null)}}const Ha=e=>{const{row:t}=e;return mt("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;"},[t.name])},za=e=>{const{row:t}=e,{t:a}=_t();return mt(w,{type:t.backup_count>0?"primary":"warning",onClick:()=>{v({title:"".concat(a("Site.Config.Back.Title")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:pt((()=>b((()=>import("./index147.js?v=1723125373998")),__vite__mapDeps([18,19,20,1,2,3,4,21,22,8,9,10,11,12,13,14,23,24,25,26,27,28,7,29,30,31,32,33,34,5,35,36,37,38,16,39,40,41,42,43,44,45,46,47,48,15,49,50,51,52,53,54,55,56,57]))))})}},{default:()=>[t.backup_count>0?"Exists(".concat(t.backup_count,")"):"Not exist"]})},Na=e=>{const{row:t}=e;return mt(w,null,{default:()=>[t.php_version]})},Va=Symbol("server-list");function Ka(){return vt(Va)}const{t:Fa}=_.global;function Xa({delDomain:e}){return{key:"action",title:Fa("Site.TableRow.OPT"),width:80,align:"right",render:t=>mt(te,{options:[{label:Fa("Site.TableOP.Del"),onClick:()=>{y({title:"".concat(Fa("Site.Batch.DeleteDomain.Title"),"[").concat(t.name,"]"),content:Fa("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const Ga={class:"flex justify-between items-center mb-24px"},Za={class:"w-400px"},Ja={class:"pr-40px"},Qa=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=dt(""),n=async()=>{""!==i.value.trim()?(await de({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",h()):k.error(a("Site.RulesError.Domain"))},s=async e=>{await oe({id:l.id,webname:l.name,domain:e.name,port:e.port}),h()},{keys:o,table:r,columns:d}=G([{type:"selection",width:40},{key:"name",title:Fa("Site.TableRow.Domain"),render:e=>mt(w,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:Fa("Site.TableRow.Port"),width:100},Xa({delDomain:s})]),u=()=>{r.data.length>1?d.value[d.value.length-1]=Xa({delDomain:s}):d.value[d.value.length-1]={key:"action",title:Fa("Site.TableRow.OPT"),width:80,align:"right",render:()=>mt("span",{class:"text-default"},[Fa("Site.TableOP.Inoperable")])}},c=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>oe({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{h()},columns:[{key:"name",title:a("Site.Cert.HolderTable.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:p,setLoading:m}=ee(),h=async()=>{try{m(!0);const e={id:l.id},{message:t}=await re(e);r.data=x(t)?t:[],u()}finally{o.value=[],m(!1)}};return h(),t({init:h}),(e,t)=>{const a=At,l=S,s=Z,u=X,m=K;return gt(),wt("div",null,[bt("div",Ga,[bt("div",Za,[mt(a,{value:kt(i),"onUpdate:value":t[0]||(t[0]=e=>St(i)?i.value=e:null)},{default:yt((()=>[bt("p",null,xt(e.$t("Site.Config.Domain.TopTips.0")),1),bt("p",null,xt(e.$t("Site.Config.Domain.TopTips.1")),1),bt("p",null,xt(e.$t("Site.Config.Domain.TopTips.2")),1)])),_:1},8,["value"])]),bt("div",Ja,[mt(l,{type:"primary",onClick:n},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Add")),1)])),_:1})])]),mt(m,null,{table:yt((()=>[mt(s,{"checked-row-keys":kt(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>St(o)?o.value=e:null),loading:kt(p),"max-height":400,data:kt(r).data,columns:kt(d)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(u,{"checked-row-keys":kt(o),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>St(o)?o.value=e:null),data:kt(r).data,options:c},null,8,["checked-row-keys","data"])])),_:1})])}}}),Ya={class:"pt-16px"},el={class:"flex-1"},tl={class:"w-240px"},al={class:"mt-8px text-desc"},ll={class:"flex-1"},il={class:"w-240px"},nl={class:"mt-12px text-desc"},sl={class:"my-16px"},ol={class:"text-desc"},rl=bt("div",{class:"text-desc"},null,-1),dl={class:"my-20px"},ul=bt("div",{class:"text-desc"},null,-1),cl={class:"w-240px"},pl={class:"w-240px"},ml={class:"w-240px"},hl=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=dt("");let n="";const s=async()=>{""!==i.value.trim()?i.value!==n?(await ue({id:l.id,name:l.name,path:i.value}),w()):k.success(a("Site.RulesError.OriginalPath")):k.error(a("Site.RulesError.Directory"))},o=dt(null),r=dt([]),d=async()=>{null!==o.value?(await ce({id:l.id,runPath:o.value}),w()):k.error(a("Site.RulesError.RuntimeDirectory"))},u=dt(!1),c=async()=>{await pe({id:l.id,path:l.path}),w()},p=dt(!1),m=async()=>{await me({id:l.id}),w()},h=dt(!1),_=Pt({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await he({id:l.id}),w())},v=async()=>{""!==_.username_get.trim()?""!==_.password_get_1.trim()?""!==_.password_get_2.trim()?_.username_get.trim().length<3||_.password_get_1.trim().length<3?k.error(a("Site.RulesError.UserName2")):_.password_get_1.trim()===_.password_get_2.trim()?(await _e({id:l.id,username:_.username_get,password:_.password_get_1}),_.username_get="",_.password_get_1="",_.password_get_2="",w()):k.error(a("Site.RulesError.Password3")):k.error(a("Site.RulesError.Password2")):k.error(a("Site.RulesError.Password1")):k.error(a("Site.RulesError.UserName1"))},w=()=>{(async()=>{const{message:e}=await fe({id:l.id});g(e)&&(i.value=e.result||"/www",n=i.value)})(),(async()=>{const{message:e}=await ve({id:l.id,path:l.path});if(g(e)){o.value=R(e,"runPath.runPath",null),u.value=R(e,"userini",!1),p.value=R(e,"logs.result",!1),h.value=R(e,"pass.result",!1);const t=R(e,"runPath.dirs",[]);r.value=t.map((e=>({label:e,value:e})))}})()};return w(),t({init:w}),(e,t)=>{const a=zt,l=S,n=C,g=Bt,w=Nt,b=P,y=Vt,x=T,k=Ht;return gt(),wt("div",Ya,[mt(k,{"label-width":"140"},{default:yt((()=>[mt(g,{label:e.$t("Site.Lable.SiteDirectory"),"show-feedback":!1},{default:yt((()=>[bt("div",el,[mt(n,null,{default:yt((()=>[bt("div",tl,[mt(a,{value:kt(i),"onUpdate:value":t[0]||(t[0]=e=>St(i)?i.value=e:null)},null,8,["value"])]),mt(l,{type:"primary",onClick:s},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),bt("div",al,xt(e.$t("Site.Config.SiteDirectory.Content")),1)])])),_:1},8,["label"]),mt(g,{class:"mt-16px",label:e.$t("Site.Lable.RunningDirectory"),"show-feedback":!1},{default:yt((()=>[bt("div",ll,[mt(n,null,{default:yt((()=>[bt("div",il,[mt(w,{value:kt(o),"onUpdate:value":t[1]||(t[1]=e=>St(o)?o.value=e:null),options:kt(r)},null,8,["value","options"])]),mt(l,{type:"primary",onClick:d},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),bt("div",nl,xt(e.$t("Site.Config.SiteDirectory.Content1")),1)])])),_:1},8,["label"]),bt("div",sl,[mt(b,{dashed:""})]),mt(g,{label:e.$t("Site.Lable.AntiXSS"),"show-feedback":!1},{default:yt((()=>[mt(n,{class:"items-center"},{default:yt((()=>[mt(y,{value:kt(u),"onUpdate:value":[t[2]||(t[2]=e=>St(u)?u.value=e:null),c]},null,8,["value"]),bt("div",ol,xt(e.$t("Site.Config.SiteDirectory.Content2")),1)])),_:1})])),_:1},8,["label"]),mt(g,{class:"mt-16px",label:e.$t("Site.Lable.WriteAL"),"show-feedback":!1},{default:yt((()=>[mt(n,{class:"items-center"},{default:yt((()=>[mt(y,{value:kt(p),"onUpdate:value":[t[3]||(t[3]=e=>St(p)?p.value=e:null),m]},null,8,["value"]),rl])),_:1})])),_:1},8,["label"]),bt("div",dl,[mt(b,{dashed:""})]),mt(g,{label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:yt((()=>[mt(n,{class:"items-center"},{default:yt((()=>[mt(y,{value:kt(h),"onUpdate:value":[t[4]||(t[4]=e=>St(h)?h.value=e:null),f]},null,8,["value"]),ul])),_:1})])),_:1},8,["label"]),kt(h)?(gt(),wt(Tt,{key:0},[mt(g,{class:"mt-16px",label:e.$t("Site.Lable.Authorized"),"show-feedback":!1},{default:yt((()=>[bt("div",cl,[mt(x,{value:kt(_).username_get,"onUpdate:value":t[5]||(t[5]=e=>kt(_).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),mt(g,{class:"mt-16px",label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:yt((()=>[bt("div",pl,[mt(x,{value:kt(_).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>kt(_).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),mt(g,{class:"mt-16px",label:e.$t("Site.Lable.RepeatPassword"),"show-feedback":!1},{default:yt((()=>[bt("div",ml,[mt(x,{value:kt(_).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>kt(_).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),mt(g,{class:"mt-16px",label:" ","show-feedback":!1},{default:yt((()=>[mt(l,{type:"primary",onClick:v},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})],64)):Rt("",!0)])),_:1})])}}}),_l={class:"mt-8px"},fl=ot({__name:"index",setup(e,{expose:t}){const{data:a}=Ka(),l=L(),i=dt(null),n=dt((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(a.name,".conf")})()),s=async()=>{var e;null==(e=i.value)||e.getContent()},o=()=>{var e;null==(e=i.value)||e.saveFile()};return Lt((()=>{s()})),t({init:s}),(e,t)=>{const a=S,l=Kt;return gt(),wt("div",null,[mt(Ft,{ref_key:"configRef",ref:i,path:kt(n),"onUpdate:path":t[0]||(t[0]=e=>St(n)?n.value=e:null),height:"500"},null,8,["path"]),bt("div",_l,[mt(a,{type:"primary",onClick:o},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})]),mt(l,{class:"mt-16px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.ConfConfig.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.ConfConfig.Tips.1")),1)])),_:1})])}}}),vl={class:"px-20px py-24px"},gl={class:"w-120px"},wl={class:"w-120px"},bl={class:"w-200px"},yl={class:"w-200px"},xl={class:"w-200px"},kl=ot({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=_t(),l=e,{isEdit:i,siteId:n,siteName:s,row:o,getList:r}=l.data,d=dt(null),u=Pt({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),c={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.RedirectedUrl"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=dt([]),_=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:f,setLoading:v}=ee();return i&&o&&(u.redirectname=o.redirectname,u.type=o.type,u.holdpath=o.holdpath,u.redirecttype=o.redirecttype,u.redirectpath=o.redirectpath,u.domainorpath=o.domainorpath,u.redirectdomain=o.redirectdomain,u.tourl=o.tourl),(async()=>{try{v(!0);const{message:e}=await re({id:n});h.value=x(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{v(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate());const a={...Wt(u),sitename:s};i?await we(a):await ge(a),null==r||r(),e()}}),(e,t)=>{const a=Vt,l=Bt,i=C,n=Nt,s=T,o=Ht,r=Kt;return gt(),wt("div",vl,[mt(o,{ref_key:"formRef",ref:d,model:kt(u),rules:c},{default:yt((()=>[mt(i,{size:60},{default:yt((()=>[mt(l,{label:e.$t("Site.Lable.Enable")},{default:yt((()=>[mt(a,{value:kt(u).type,"onUpdate:value":t[0]||(t[0]=e=>kt(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:yt((()=>[mt(a,{value:kt(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>kt(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),mt(i,{size:30},{default:yt((()=>[mt(l,{label:e.$t("Site.TableRow.Type")},{default:yt((()=>[bt("div",gl,[mt(n,{value:kt(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>kt(u).domainorpath=e),_],options:p},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:yt((()=>[bt("div",wl,[mt(n,{value:kt(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>kt(u).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===kt(u).domainorpath?(gt(),$t(l,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:yt((()=>[bt("div",bl,[mt(n,{value:kt(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>kt(u).redirectdomain=e),multiple:!0,loading:kt(f),options:kt(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Rt("",!0),"path"===kt(u).domainorpath?(gt(),$t(l,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:yt((()=>[bt("div",yl,[mt(s,{value:kt(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>kt(u).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Rt("",!0),mt(l,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:yt((()=>[bt("div",xl,[mt(s,{value:kt(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>kt(u).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),mt(r,{class:"mt-12px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.1")),1),bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.2")),1),bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.3")),1),bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.4")),1),bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),Sl={class:"p-20px"},Cl={class:"mt-12px"},Pl=ot({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,s=t,o=L(),r=dt(""),d=dt(""),u=dt(""),c=async()=>{const{message:e}=await ye({path:u.value,data:r.value,encoding:d.value});g(e)&&k.success(e.msg),null==n||n(),s("close")};return(async()=>{const{message:e}=await be({sitename:i,redirectname:l.redirectname,webserver:o.webserver});g(e)&&(u.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=S,l=Kt;return gt(),wt("div",Sl,[mt(Ft,{value:kt(r),"onUpdate:value":t[0]||(t[0]=e=>St(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),bt("div",Cl,[mt(a,{type:"primary",onClick:c},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})]),mt(l,{class:"mt-24px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),Tl=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:s,columns:o}=G([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.Type"),ellipsis:{tooltip:{width:"trigger"}}},{key:"redirecttype",title:a("Site.TableRow.Mode"),width:90},{key:"holdpath",title:a("Site.TableRow.KeepUP"),width:140,render:e=>mt(w,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await xe({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>mt(ae,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await xe({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},le({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{y({title:"".concat(a("Site.Batch.DeleteRedirection.Label")," [").concat(e.redirectname,"]"),content:a("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await ke({sitename:l.name,redirectname:e.redirectname}),c(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>ke({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{c()}}}],{loading:d,setLoading:u}=ee(),c=async()=>{try{u(!0);const{message:e}=await Se({sitename:l.name});s.data=x(e)?e:[]}finally{n.value=[],u(!1)}},p=$(a("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:c}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.RedirectConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.redirectname,"]"),p.show=!0},_=$("",{row:void 0,siteName:l.name,getList:c}),f=e=>{_.data.row=e,_.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.redirectname,"]"),_.show=!0};return c(),t({init:c}),(e,t)=>{const a=S,l=Z,i=X,u=K,c=W;return gt(),wt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:m},{default:yt((()=>[Ct(xt(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(n)?n.value=e:null),"row-key":"redirectname",loading:kt(d),"max-height":440,data:kt(s).data,columns:kt(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(i,{"checked-row-keys":kt(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>St(n)?n.value=e:null),"row-key":"redirectname",data:kt(s).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),mt(c,{show:kt(p).show,"onUpdate:show":t[2]||(t[2]=e=>kt(p).show=e),title:kt(p).title,data:kt(p).data,width:660,footer:!0,component:kl},null,8,["show","title","data"]),mt(c,{show:kt(_).show,"onUpdate:show":t[3]||(t[3]=e=>kt(_).show=e),title:kt(_).title,data:kt(_).data,width:580,component:Pl},null,8,["show","title","data"])])}}}),Rl={class:"px-20px py-24px"},Ll={class:"w-220px"},$l={class:"w-220px"},Wl={class:"w-220px"},Ul={class:"w-220px"},El={class:"w-220px"},Dl={class:"w-220px"},Ol={class:"w-220px"},Ml=ot({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=_t(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,r=dt(null),d=Pt({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:n}),u={proxyname:{trigger:["blur","input"],validator:()=>""!==d.proxyname.trim()||new Error(a("Site.RulesError.ProxyName"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===d.cache&&!d.cachetime)||new Error(a("Site.RulesError.CacheTime"))},proxydir:{trigger:["blur","input"],validator:()=>1!==d.advanced||""!==d.proxydir.trim()||new Error(a("Site.RulesError.ProxyDir"))},proxysite:{trigger:["blur","input"],validator:()=>""!==d.proxysite.trim()||new Error(a("Site.RulesError.RedirectedUrl"))},todomain:{trigger:["blur","input"],validator:()=>""!==d.todomain.trim()||new Error(a("Site.RulesError.Sent"))}},c=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?d.todomain="$host":d.todomain=e},p=dt([]),m=()=>{p.value.length>=3||p.value.push({sub1:"",sub2:""})};m();return(()=>{if(i&&s){d.type=s.type,d.cache=s.cache,d.advanced=s.advanced,d.proxyname=s.proxyname,d.cachetime=s.cachetime,d.proxydir=s.proxydir,d.proxysite=s.proxysite,d.todomain=s.todomain,d.sitename=s.sitename;const e=s.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(p.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{p.value.length-1<t||(e.sub1=p.value[t].sub1,e.sub2=p.value[t].sub2)})),{...Wt(d),subfilter:e}})();i?await Pe(a):await Ce(a),null==o||o(),e()}}),(e,t)=>{const a=Vt,l=Bt,n=C,s=T,o=U,h=Xt,_=Gt,f=w,v=S,g=Ht,b=Kt;return gt(),wt("div",Rl,[mt(g,{ref_key:"formRef",ref:r,model:kt(d),rules:u},{default:yt((()=>[mt(n,{size:32},{default:yt((()=>[mt(l,{label:e.$t("Site.Lable.EnableProxy")},{default:yt((()=>[mt(a,{value:kt(d).type,"onUpdate:value":t[0]||(t[0]=e=>kt(d).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.EnableCache"),"label-width":"100"},{default:yt((()=>[mt(a,{value:kt(d).cache,"onUpdate:value":t[1]||(t[1]=e=>kt(d).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Advanced"),"label-width":"126"},{default:yt((()=>[mt(a,{value:kt(d).advanced,"onUpdate:value":t[2]||(t[2]=e=>kt(d).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),mt(l,{label:e.$t("Site.Lable.ProxyName"),path:"proxyname"},{default:yt((()=>[bt("div",Ll,[mt(s,{value:kt(d).proxyname,"onUpdate:value":t[3]||(t[3]=e=>kt(d).proxyname=e),disabled:kt(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),1===kt(d).cache?(gt(),$t(l,{key:0,label:e.$t("Site.Lable.CacheTime"),path:"cachetime"},{default:yt((()=>[bt("div",$l,[mt(_,null,{default:yt((()=>[mt(o,{value:kt(d).cachetime,"onUpdate:value":t[4]||(t[4]=e=>kt(d).cachetime=e),min:1,"show-button":!1,placeholder:""},null,8,["value"]),mt(h,{class:"w-70px text-center"},{default:yt((()=>[Ct(xt(kt(d).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):Rt("",!0),1===kt(d).advanced?(gt(),$t(l,{key:1,label:e.$t("Site.TableRow.ProxyDir"),path:"proxydir"},{default:yt((()=>[bt("div",Wl,[mt(s,{value:kt(d).proxydir,"onUpdate:value":t[5]||(t[5]=e=>kt(d).proxydir=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Rt("",!0),mt(l,{label:e.$t("Site.Lable.Target")},{default:yt((()=>[bt("div",Ul,[mt(s,{value:kt(d).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>kt(d).proxysite=e),c],placeholder:""},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Sent")},{default:yt((()=>[bt("div",El,[mt(s,{value:kt(d).todomain,"onUpdate:value":t[7]||(t[7]=e=>kt(d).todomain=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.ContentReplace")},{default:yt((()=>[mt(n,{class:"flex-1",vertical:""},{default:yt((()=>[(gt(!0),wt(Tt,null,ct(kt(p),((t,a)=>(gt(),$t(n,{key:"".concat(a+1),class:"items-center"},{default:yt((()=>[bt("div",Dl,[mt(s,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.Source")},null,8,["value","onUpdate:value","placeholder"])]),bt("div",Ol,[mt(s,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.Replace")},null,8,["value","onUpdate:value","placeholder"])]),bt("div",null,[mt(f,{type:"error",disabled:0===a&&1===kt(p).length,onClick:e=>(e=>{p.value.length<=1||p.value.splice(e,1)})(a)},{default:yt((()=>[Ct(xt(e.$t("Site.TableOP.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),bt("div",null,[mt(v,{type:"primary",disabled:kt(p).length>=3,onClick:m},{default:yt((()=>[bt("span",null,xt(e.$t("Site.Config.ProxyConfig.Replacement")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),mt(b,{class:"mt-12px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.ProxyConfig.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.ProxyConfig.Tips.1")),1),bt("li",null,xt(e.$t("Site.Config.ProxyConfig.Tips.2")),1),bt("li",null,xt(e.$t("Site.Config.ProxyConfig.Tips.3")),1)])),_:1})])}}}),ql={class:"p-20px"},jl={class:"mt-12px"},Al=ot({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,s=t,o=L(),r=dt(""),d=dt(""),u=dt(""),c=async()=>{const{message:e}=await Re({path:u.value,data:r.value,encoding:d.value});g(e)&&k.success(e.msg),null==n||n(),s("close")};return(async()=>{const{message:e}=await Te({sitename:i,proxyname:l.proxyname,webserver:o.webserver});g(e)&&(u.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=S,l=Kt;return gt(),wt("div",ql,[mt(Ft,{value:kt(r),"onUpdate:value":t[0]||(t[0]=e=>St(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),bt("div",jl,[mt(a,{type:"primary",onClick:c},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})]),mt(l,{class:"mt-24px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),Il=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:n,table:s,columns:o}=G([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.Name"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.ProxyDir"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.Target"),ellipsis:{tooltip:{width:"trigger"}},render:e=>mt("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.Cache"),width:90,render:e=>mt(w,{type:1===e.cache?"primary":"error",onClick:async()=>{await Pe({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.Status"),width:90,render:e=>mt(ae,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Pe({...i(e),type:t,cache:e.cache}),e.type=t}},null)},le({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{y({title:"".concat(a("Site.Batch.DeleteProxy.Label")," [").concat(e.proxyname,"]"),content:a("Site.Batch.DeleteProxy.Content"),onConfirm:async({hide:t})=>{await Le({sitename:l.name,proxyname:e.proxyname}),c(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>Le({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{c()},columns:[{key:"proxyname",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:d,setLoading:u}=ee(),c=async()=>{try{u(!0);const{message:e}=await $e({sitename:l.name});s.data=x(e)?e:[]}finally{n.value=[],u(!1)}},p=$(a("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.ProxyConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.proxyname,"]"),p.show=!0},_=$("",{row:void 0,siteName:l.name,getList:c}),f=e=>{_.data.row=e,_.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.proxyname,"]"),_.show=!0};return c(),t({init:c}),(e,t)=>{const a=S,l=Z,i=X,u=K,c=W;return gt(),wt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:m},{default:yt((()=>[Ct(xt(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(n)?n.value=e:null),"row-key":"proxyname",loading:kt(d),"max-height":440,data:kt(s).data,columns:kt(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(i,{"checked-row-keys":kt(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>St(n)?n.value=e:null),"row-key":"proxyname",data:kt(s).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),mt(c,{show:kt(p).show,"onUpdate:show":t[2]||(t[2]=e=>kt(p).show=e),title:kt(p).title,data:kt(p).data,width:660,footer:!0,component:Ml},null,8,["show","title","data"]),mt(c,{show:kt(_).show,"onUpdate:show":t[3]||(t[3]=e=>kt(_).show=e),title:kt(_).title,data:kt(_).data,width:580,component:Al},null,8,["show","title","data"])])}}}),Bl={class:"pt-8px"},Hl={class:"w-200px"},zl={class:"flex flex-col"},Nl={class:"w-200px"},Vl={class:"mt-8px text-desc"},Kl={class:"flex flex-col"},Fl={class:"w-200px"},Xl={class:"mt-8px text-desc"},Gl={class:"flex flex-col"},Zl={class:"w-200px"},Jl={class:"mt-8px text-desc"},Ql=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=dt(null),n=Pt({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),s={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.Concurrency"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.SingleIP"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.Traffic"))}},o=dt([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?c():(await We({id:l.id}),p())},d=(e,t)=>{const{items:a}=t;g(a)&&u(a)},u=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},c=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await Ue({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),p()},p=async()=>{const{message:e}=await Ee({id:l.id});g(e)&&(n.status=0!=e.perserver,u(o.value[0].items),E(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),E(e.perip)&&0!=e.perip&&(n.perip=e.perip),E(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return p(),t({init:p}),(e,t)=>{const a=Zt,l=Bt,u=Nt,p=U,m=S,h=Ht;return gt(),wt("div",Bl,[mt(h,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:kt(n),rules:s},{default:yt((()=>[mt(l,{label:" "},{default:yt((()=>[mt(a,{checked:kt(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>kt(n).status=e),r]},{default:yt((()=>[Ct(xt(e.$t("Site.Config.TrafficCofig.Tips.0")),1)])),_:1},8,["checked"])])),_:1}),mt(l,{label:e.$t("Site.Lable.Limit"),path:"type"},{default:yt((()=>[bt("div",Hl,[mt(u,{value:kt(n).type,"onUpdate:value":[t[1]||(t[1]=e=>kt(n).type=e),d],options:kt(o)},null,8,["value","options"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Concurrency"),path:"perserver"},{default:yt((()=>[bt("div",zl,[bt("div",Nl,[mt(p,{value:kt(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>kt(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),bt("div",Vl,xt(e.$t("Site.Config.TrafficCofig.Tips.1")),1)])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.BlockIP"),path:"perip"},{default:yt((()=>[bt("div",Kl,[bt("div",Fl,[mt(p,{value:kt(n).perip,"onUpdate:value":t[3]||(t[3]=e=>kt(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),bt("div",Xl,xt(e.$t("Site.Config.TrafficCofig.Tips.2")),1)])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Config.Traffic"),path:"limit_rate"},{default:yt((()=>[bt("div",Gl,[bt("div",Zl,[mt(p,{value:kt(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>kt(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),bt("div",Jl,xt(e.$t("Site.Config.TrafficCofig.Tips.3")),1)])])),_:1},8,["label"]),mt(l,{label:" "},{default:yt((()=>[mt(m,{type:"primary",onClick:c},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Yl=ot({__name:"index",setup(e,{expose:t}){const a=pt((()=>b((()=>import("./index148.js?v=1723125373998")),__vite__mapDeps([58,1,2,3,4,42,47,5,48,27,15,11,12,13,49,59,60,61,31,32,19,20,21,22,8,9,10,14,23,24,25,26,33,34,28,7,29,30,35,36,37,38,16,39,40,41,43,44,45,46,50,51,52,53,54,55,56,57])))),{t:l}=_t(),{config:i}=Ka(),n=dt("access"),s=dt(),o=[{key:"directory",label:l("Site.Config.Directory"),component:hl},{key:"file",label:l("Site.Config.File"),component:fl},{key:"rewrite",label:l("Site.Config.URL"),component:a},{key:"redirect",label:l("Site.Config.Redirect"),component:Tl},{key:"proxy",label:l("Site.Config.Proxy"),component:Il},{key:"traffic",label:l("Site.Config.Traffic"),component:Ql}];return n.value=i.subMenu||"directory",i.subMenu="",t({init:()=>{n.value="directory",Ut((()=>{var e;null==(e=s.value)||e.init()}))}}),(e,t)=>{const a=It;return gt(),$t(a,{value:kt(n),"onUpdate:value":t[0]||(t[0]=e=>St(n)?n.value=e:null),ref_key:"tabsRef",ref:s,options:o},null,8,["value"])}}}),ei={class:"p-8"},ti=bt("li",null,"Directory temporarily only supports reading alarm operation",-1),ai=ot({__name:"form",setup(e,{expose:t}){const a=dt(null),l=dt(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=Pt({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const o=zt,r=Bt,d=Zt,u=la,c=Jt,p=Ht,m=C,h=Kt;return gt(),wt("div",ei,[mt(m,null,{default:yt((()=>[mt(p,{ref_key:"formRef",ref:a,model:kt(n),rules:i},{default:yt((()=>[mt(r,{label:"Detection path",path:"path"},{default:yt((()=>[mt(o,{disabled:"",value:kt(n).path,"onUpdate:value":t[0]||(t[0]=e=>kt(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),mt(r,{label:"Alert operation",path:"operation"},{default:yt((()=>[mt(c,{value:kt(n).operation,"onUpdate:value":t[1]||(t[1]=e=>kt(n).operation=e)},{default:yt((()=>[mt(u,null,{default:yt((()=>[mt(d,{value:0},{default:yt((()=>[Ct(" Read ")])),_:1}),mt(d,{value:1,disabled:kt(l)},{default:yt((()=>[Ct(" delete ")])),_:1},8,["disabled"]),mt(d,{value:2,disabled:kt(l)},{default:yt((()=>[Ct(" Modify/increase ")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),mt(h,{class:"mt-16px"},{default:yt((()=>[ti])),_:1})])}}}),li={class:"p-5"},ii=bt("img",{src:Qt,class:"w-5"},null,-1),ni={class:"mt-16px"},si=bt("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1),oi=bt("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1),ri=ot({__name:"monitor",setup(e){const t=dt(!1),a=dt(!1),l=dt([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=dt([]);return(e,n)=>{const s=S,o=C,r=Z,d=Kt,u=W;return gt(),wt("div",li,[bt("div",null,[mt(o,{justify:"space-between"},{default:yt((()=>[mt(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:yt((()=>[Ct(" Add monitor ")])),_:1}),mt(s,null,{icon:yt((()=>[ii])),_:1})])),_:1})]),bt("div",ni,[mt(r,{loading:kt(a),"loading-num":6,data:kt(i),columns:kt(l)},null,8,["loading","data","columns"])]),bt("div",null,[mt(d,{class:"mt-16px"},{default:yt((()=>[si,oi,bt("li",null,[mt(s,{text:"",class:"color-#20a53a"},{default:yt((()=>[Ct("Tutorial")])),_:1})])])),_:1})]),mt(u,{show:kt(t),"onUpdate:show":n[1]||(n[1]=e=>St(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:ai},null,8,["show"])])}}});const di=D({},[["render",function(e,t){return gt(),wt("div",null,"555")}]]),ui=e=>(Dt("data-v-43bec92c"),e=e(),Ot(),e),ci={class:"box mt-16px"},pi=ui((()=>bt("div",null,"Site protection",-1))),mi=ui((()=>bt("div",null,"today: 0",-1))),hi=ui((()=>bt("div",null,"Total alarm: 0",-1))),_i={key:0,class:"items-center warning"},fi=ui((()=>bt("img",{src:Yt,class:"h-8"},null,-1))),vi={class:"warning"},gi={class:"color-#f23836"},wi=ui((()=>bt("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1))),bi=ui((()=>bt("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1))),yi=ui((()=>bt("img",{src:ea,class:"h-10"},null,-1))),xi=ui((()=>bt("img",{src:ea,class:"h-10"},null,-1))),ki=D(ot({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=L(),a=dt(!1),l=dt(!1),i=dt(!1),n=e,s=O(),o=()=>{M({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";y({title:e,content:t,onConfirm:async()=>{const e=ta(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,d)=>{const u=Vt,c=C,p=S,m=Kt,h=w,_=V,f=W;return gt(),wt(Tt,null,[bt("div",ci,[mt(_,{install:kt(s).isPro,class:"install"},Et({default:yt((()=>[mt(c,{class:"items-center color-#666"},{default:yt((()=>[pi,bt("div",null,[mt(u,{value:kt(a),"onUpdate:value":[d[0]||(d[0]=e=>St(a)?a.value=e:null),r]},null,8,["value"])]),mi,hi,kt(a)?Rt("",!0):(gt(),wt("div",_i,[fi,bt("span",vi,[Ct(" Please open "),bt("span",gi,"PHP-"+xt(n.phpVersion),1),Ct(" protection first ")])]))])),_:1}),mt(c,{class:"mt-16px"},{default:yt((()=>[mt(p,{onClick:d[1]||(d[1]=e=>l.value=!0)},{default:yt((()=>[Ct("Monitor")])),_:1}),mt(p,{onClick:d[2]||(d[2]=e=>i.value=!0)},{default:yt((()=>[Ct("Trigger log")])),_:1})])),_:1}),mt(m,{class:"mt-16px"},{default:yt((()=>[wi,bi])),_:1})])),_:2},[n.isInstall?{name:"desc",fn:yt((()=>[mt(c,{class:"items-center"},{default:yt((()=>[yi,bt("span",null,[Ct("If you need to use the [PHP website security alarm] function, please buy first "),mt(h,{onClick:o},{default:yt((()=>[Ct("click to buy")])),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:yt((()=>[mt(c,{class:"items-center"},{default:yt((()=>[xi,bt("span",null,[Ct("Currently not installed [PHP website security alarm], "),mt(h,null,{default:yt((()=>[Ct("Click to install")])),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),mt(f,{show:kt(l),"onUpdate:show":d[3]||(d[3]=e=>St(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:ri},null,8,["show"]),mt(f,{show:kt(i),"onUpdate:show":d[4]||(d[4]=e=>St(i)?i.value=e:null),title:"[".concat(kt(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:di},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-43bec92c"]]),Si={class:"w-140px"},Ci={class:"my-16px"},Pi={key:0,class:"my-16px"},Ti=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=L(),n=dt(null),s=dt(!1),o=dt(!1);let r="";const d=dt([]),u=async()=>{null!==n.value?(await De({siteName:l.name,version:n.value,other:r}),i.setRefresh(!0),m()):k.error(a("Site.RulesError.PHP"))},c=async()=>{const{message:e}=await je({id:l.id});g(e)&&(s.value=e.result)},p=async e=>{await Oe({id:l.id,act:e?1:0}),c()},m=()=>{(async()=>{const{message:e}=await aa();g(e)&&(o.value=e.php_status)})(),c(),(async()=>{const{message:e}=await qe();x(e)&&(d.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await Me({siteName:l.name});g(e)&&(n.value=e.phpversion,r=e.php_other||"")})()};return m(),t({init:m}),(e,t)=>{const a=Nt,l=S,i=C,r=Kt,c=P,m=Vt;return gt(),wt("div",null,[mt(i,{class:"items-center"},{default:yt((()=>[bt("div",null,xt(e.$t("Site.Lable.PHPVersion")),1),bt("div",Si,[mt(a,{value:kt(n),"onUpdate:value":t[0]||(t[0]=e=>St(n)?n.value=e:null),options:kt(d)},null,8,["value","options"])]),bt("div",null,[mt(l,{type:"primary",onClick:u},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Switch")),1)])),_:1})])])),_:1}),mt(r,{class:"mt-16px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.PHP.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.1")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.2")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.3")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.4")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.5")),1)])),_:1}),bt("div",Ci,[mt(c,{dashed:""})]),mt(i,{class:"items-center"},{default:yt((()=>[bt("div",null,xt(e.$t("Site.Config.PHP.SessionI")),1),bt("div",null,[mt(m,{value:kt(s),"onUpdate:value":[t[1]||(t[1]=e=>St(s)?s.value=e:null),p]},null,8,["value"])])])),_:1}),mt(r,{class:"mt-16px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.PHP.Tips.6")),1),bt("li",null,xt(e.$t("Site.Config.PHP.Tips.7")),1)])),_:1}),kt(q)?(gt(),wt("div",Pi,[mt(c,{dashed:""}),mt(ki,{isInstall:kt(o),phpVersion:kt(n)},null,8,["isInstall","phpVersion"])])):Rt("",!0)])}}}),Ri=ot({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=Mt(e,"value"),{loading:a,setLoading:l}=ee(),i=dt([]);return(async()=>{try{l(!0);const{message:e}=await Ae();g(e)&&(i.value=Object.entries(e).map((([e,t])=>({label:t,value:e}))))}finally{l(!1)}})(),(e,l)=>{const n=Nt;return gt(),$t(n,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:kt(a),filterable:"",options:kt(i)},null,8,["value","loading","options"])}}}),Li={class:"w-200px"},$i={class:"w-200px mr-8px"},Wi={class:"flex flex-col"},Ui={class:"mt-8px text-desc"},Ei={class:"flex flex-col"},Di={class:"mt-8px text-desc"},Oi=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),l=L(),i=dt(null),{data:n}=Ka(),s=Pt({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:""}),o=dt(!1),r=dt("--"),d=dt("--"),u=ut((()=>o.value?"".concat(a("WP.RulesError.NewVersion")," (").concat(d.value,") ").concat(a("WP.RulesError.NewVersionLast")):"".concat(a("WP.TableRow.WP")," ").concat(r.value," ").concat(a("WP.RulesError.LastVersion")))),c=dt(!1),p=dt(null),m=dt("en"),h=dt(""),_=dt("--"),v=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await(e=>f.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,language:m.value,admin_password:h.value?h.value:null,admin_email:s.admin_email,whl_enabled:s.wps?1:0,whl_page:s.Login_url,whl_redirect_admin:s.redirection_url}),$()},b={admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==s.admin_email.trim()||new Error(a("WP.RulesError.Email"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==s.redirection_url.trim()||new Error(a("WP.RulesError.Redirection"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==s.Login_url.trim()||new Error(a("WP.RulesError.Login"))}},y=async()=>{o.value?(await Ie({s_id:n.id,version:d.value}),$()):k.error(a("WP.RulesError.LastVersion"))},x=async e=>{await Be({version:n.php_version,sitename:n.name,act:e}),l.setRefresh(!0)},P=async()=>{await He({s_id:n.id})},R=async()=>{h.value=j(16,"wp")},$=async()=>{const{message:e}=await(e=>f.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:ha("WP.api.tamper_8")}}))({s_id:n.id});g(e)&&(c.value=e.cache_enabled,r.value=e.local_version,d.value=e.latest_version,o.value=e.can_upgrade,_.value=e.login_url,p.value=e.admin_user,m.value=e.language,s.admin_email=e.admin_email,s.Login_url=e.whl_page,s.home_url=e.home_url,s.redirection_url=e.whl_redirect_admin,s.wps=e.whl_enabled)};return $(),t({init:$}),(e,t)=>{const a=w,l=Bt,n=ia,r=S,d=Vt,f=T,g=Zt,k=C,L=Ht;return gt(),wt("div",null,[mt(L,{"label-width":"160px",modelValue:kt(s),"onUpdate:modelValue":t[8]||(t[8]=e=>St(s)?s.value=e:null),ref_key:"formRef",ref:i,rules:b},{default:yt((()=>[mt(l,{label:e.$t("WP.Config.LoginUrl")},{default:yt((()=>[mt(a,{href:kt(_),target:"_blank"},{default:yt((()=>[Ct(xt(kt(_)),1)])),_:1},8,["href"])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.Status")},{default:yt((()=>[mt(n,{type:kt(o)?"warning":"default","show-icon":!1},{default:yt((()=>[Ct(xt(kt(u)),1)])),_:1},8,["type"]),mt(r,{class:"ml-8px",type:"primary",onClick:y},{default:yt((()=>[Ct(xt(e.$t("WP.Config.Upgrade")),1)])),_:1})])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Cache")},{default:yt((()=>[mt(d,{value:kt(c),"onUpdate:value":[t[0]||(t[0]=e=>St(c)?c.value=e:null),x],class:"mr-20px"},null,8,["value"]),mt(r,{onClick:P},{default:yt((()=>[Ct(xt(e.$t("WP.Config.Clear")),1)])),_:1})])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.UserName")},{default:yt((()=>[bt("div",Li,[mt(f,{value:kt(p),"onUpdate:value":t[1]||(t[1]=e=>St(p)?p.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("WP.Label.RePassword")},{default:yt((()=>[bt("div",$i,[mt(f,{value:kt(h),"onUpdate:value":t[2]||(t[2]=e=>St(h)?h.value=e:null),placeholder:e.$t("WP.Placeholder.Password")},null,8,["value","placeholder"])]),mt(r,{type:"primary",onClick:R},{default:yt((()=>[Ct(xt(e.$t("WP.Config.Generate")),1)])),_:1})])),_:1},8,["label"]),mt(l,{label:e.$t("WP.Label.EmailAddress"),path:"admin_email"},{default:yt((()=>[mt(f,{class:"w-410px!",value:kt(s).admin_email,"onUpdate:value":t[3]||(t[3]=e=>kt(s).admin_email=e),placeholder:e.$t("Site.Placeholder.Email")},null,8,["value","placeholder"])])),_:1},8,["label"]),mt(l,{label:e.$t("WP.Label.Language")},{default:yt((()=>[mt(Ri,{class:"w-410px",value:kt(m),"onUpdate:value":t[4]||(t[4]=e=>St(m)?m.value=e:null)},null,8,["value"])])),_:1},8,["label"]),mt(l,{label:e.$t("WP.Label.WPS")},{default:yt((()=>[mt(g,{checked:kt(s).wps,"onUpdate:checked":t[5]||(t[5]=e=>kt(s).wps=e)},{default:yt((()=>[bt("span",null,xt(e.$t("WP.Add.EnableWPS")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),kt(s).wps?(gt(),wt(Tt,{key:0},[mt(l,{label:e.$t("WP.Add.Login"),path:"Login_url"},{default:yt((()=>[bt("div",Wi,[bt("div",null,[mt(k,{class:"items-center"},{default:yt((()=>[bt("div",null,xt(kt(s).home_url)+"/",1),mt(f,{class:"w-200px!",value:kt(s).Login_url,"onUpdate:value":t[6]||(t[6]=e=>kt(s).Login_url=e),placeholder:e.$t("Site.Placeholder.Login")},null,8,["value","placeholder"])])),_:1})]),bt("div",Ui,xt(e.$t("WP.Config.RedirectionTips.0")),1)])])),_:1},8,["label"]),mt(l,{label:e.$t("WP.Add.Redirection"),path:"redirection_url"},{default:yt((()=>[bt("div",Ei,[bt("div",null,[mt(k,{class:"items-center"},{default:yt((()=>[bt("div",null,xt(kt(s).home_url)+"/",1),mt(f,{class:"w-200px!",value:kt(s).redirection_url,"onUpdate:value":t[7]||(t[7]=e=>kt(s).redirection_url=e),placeholder:e.$t("Site.Placeholder.Redirection")},null,8,["value","placeholder"])])),_:1})]),bt("div",Di,xt(e.$t("WP.Config.RedirectionTips.1")),1)])])),_:1},8,["label"])],64)):Rt("",!0),mt(l,{label:" "},{default:yt((()=>[mt(r,{type:"primary",onClick:v},{default:yt((()=>[Ct(xt(e.$t("WP.Config.Save")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}}),Mi={class:"p-10px"},qi=ot({__name:"install",props:{data:{}},setup(e){const{t:t}=_t(),{data:a}=Ka(),l=e,{getList:i}=l.data,n=Pt({s_id:a.id,p:1,p_size:10,keyword:""}),s=()=>{n.p=1,p()},{loading:o,setLoading:r}=ee(),{keys:d,table:u,columns:c}=G([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.Name"),render:e=>mt("span",null,[mt("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),mt("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>mt("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>mt(ma,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},le({width:60,options:e=>[{label:e.installed?t("WP.TableRow.Installed"):t("WP.TableRow.Install"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},f.post("/site?action=wp_install_plugin",l,{requestOptions:{loading:ha("WP.api.tamper_16"),successMessage:!1}})),k.success(t("WP.index_20")),p(),null==i||i()}catch(n){console.error(n)}var l}}]}),{key:"",title:"",width:"30px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?mt(I,{trigger:"hover"},{trigger:()=>mt(A,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),p=async()=>{try{r(!0);const{message:e}=await qa(Wt(n));g(e)&&(u.total=e.total,x(e.list)?u.data=e.list.map((e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')}))):(u.data=[],u.total=0))}finally{d.value=[],r(!1)}};return p(),(e,t)=>{const a=J,l=Z,i=F,r=K;return gt(),wt("div",Mi,[mt(r,{feedback:!1},{toolsLeft:yt((()=>[])),toolsRight:yt((()=>[mt(a,{value:kt(n).keyword,"onUpdate:value":t[0]||(t[0]=e=>kt(n).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:s},null,8,["value","placeholder"])])),table:yt((()=>[mt(l,{loading:kt(o),data:kt(u).data,columns:kt(c),"max-height":500},null,8,["loading","data","columns"])])),pageRight:yt((()=>[mt(i,{page:kt(n).p,"onUpdate:page":t[1]||(t[1]=e=>kt(n).p=e),"page-size":kt(n).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>kt(n).p_size=e),"item-count":kt(u).total,onRefresh:p},null,8,["page","page-size","item-count"])])),_:1})])}}}),ji=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=()=>{window.open(l.login_url,"_blank")},n=()=>{p.show=!0},{keys:s,table:o,columns:r}=G([{key:"title",title:a("Site.TableRow.Name"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},ie({key:"is_plugin_activate",title:a("WP.TableRow.Active"),minWidth:60,onClick:async(e,t)=>{await(e=>f.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,activate:e?1:0})}}),ie({key:"auto_update",title:a("WP.TableRow.Autoupdate"),minWidth:60,onClick:async(e,t)=>{await(e=>f.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,enable:e?1:0})}}),le({width:130,options:e=>[{label:a("WP.TableRow.Update"),show:e.can_update,onClick:()=>{y({title:"".concat(a("WP.TableRow.Update")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>f.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:ha("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),c(),t()}})}},{label:a("WP.TableRow.Uninstall"),onClick:()=>{y({title:"".concat(a("WP.TableRow.Uninstall")," [").concat(e.name,"]"),content:a("WP.index_10"),onConfirm:async({hide:t})=>{await Oa({s_id:l.id,plugin_file:e.plugin_file}),c(),t()}})}}]})]),{loading:d,setLoading:u}=ee(),c=async()=>{try{u(!0);const{message:e}=await Da({s_id:l.id});x(e)&&(o.data=e)}finally{s.value=[],u(!1)}},p=$(a("WP.index_15"),{getList:c});return c(),t({init:c}),(e,t)=>{const a=S,l=Z,u=K,c=W;return gt(),wt(Tt,null,[bt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:i},{default:yt((()=>[Ct(xt(e.$t("WP.index_3")),1)])),_:1}),mt(a,{onClick:n},{default:yt((()=>[Ct(xt(e.$t("WP.TableRow.Install")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(s),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(s)?s.value=e:null),"row-key":"title",loading:kt(d),data:kt(o).data,columns:kt(r)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})]),mt(c,{show:kt(p).show,"onUpdate:show":t[1]||(t[1]=e=>kt(p).show=e),title:kt(p).title,data:kt(p).data,width:750,"min-height":400,footer:!1,component:qi},null,8,["show","title","data"])],64)}}}),Ai={class:"p-10px"},Ii=ot({__name:"install",props:{data:{}},setup(e){const{t:t}=_t(),{data:a}=Ka(),l=e,{getList:i}=l.data,n=Pt({s_id:a.id,p:1,p_size:10,keyword:""}),s=()=>{n.p=1,p()},{loading:o,setLoading:r}=ee(),{keys:d,table:u,columns:c}=G([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.Name"),render:e=>mt("span",null,[mt("img",{class:"w-25px",src:e.screenshot_url},null),mt("span",{class:"ml-5px"},[e.name])])},{key:"description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>mt("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:t("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>mt(ma,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},le({width:60,options:e=>[{label:e.installed?t("WP.TableRow.Installed"):t("WP.TableRow.Install"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},f.post("/site?action=wp_install_theme",l,{requestOptions:{loading:ha("WP.api.tamper_16"),successMessage:!1}})),k.success(t("WP.index_20")),null==i||i(),p()}catch(n){console.error(n)}var l}}]}),{key:"",title:"",width:"30px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?mt(I,{trigger:"hover"},{trigger:()=>mt(A,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),p=async()=>{try{r(!0);const{message:e}=await Ma(Wt(n));g(e)&&(u.total=e.total,x(e.list)?u.data=e.list:(u.data=[],u.total=0))}finally{d.value=[],r(!1)}};return p(),(e,t)=>{const a=J,l=Z,i=F,r=K;return gt(),wt("div",Ai,[mt(r,{feedback:!1},{toolsLeft:yt((()=>[])),toolsRight:yt((()=>[mt(a,{value:kt(n).keyword,"onUpdate:value":t[0]||(t[0]=e=>kt(n).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:s},null,8,["value","placeholder"])])),table:yt((()=>[mt(l,{loading:kt(o),data:kt(u).data,columns:kt(c),"max-height":500},null,8,["loading","data","columns"])])),pageRight:yt((()=>[mt(i,{page:kt(n).p,"onUpdate:page":t[1]||(t[1]=e=>kt(n).p=e),"page-size":kt(n).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>kt(n).p_size=e),"item-count":kt(u).total,onRefresh:p},null,8,["page","page-size","item-count"])])),_:1})])}}}),Bi=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),i=()=>{window.open(l.login_url,"_blank")},n=()=>{p.show=!0},{keys:s,table:o,columns:r}=G([{key:"title",title:a("Site.TableRow.Name"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},ie({key:"is_theme_activate",title:a("WP.TableRow.Active"),minWidth:30,disabled:!0,tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>f.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet}),c()}}),ie({key:"auto_update",title:a("WP.TableRow.Autoupdate"),minWidth:60,onClick:async(e,t)=>{await(e=>f.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:ha("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet,enable:e?1:0})}}),le({width:130,options:e=>[{label:a("WP.TableRow.Update"),show:e.can_update,onClick:()=>{y({title:"".concat(a("WP.TableRow.Update")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>f.post("/site?action=wp_update_theme",e,{requestOptions:{loading:ha("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),c(),t()}})}},{label:a("WP.TableRow.Uninstall"),disabled:e.is_theme_activate,onClick:()=>{y({title:"".concat(a("WP.TableRow.Uninstall")," [").concat(e.name,"]"),content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>f.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:ha("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),c(),t()}})}}]})]),{loading:d,setLoading:u}=ee(),c=async()=>{try{u(!0);const{message:e}=await(e=>f.post("/site?action=wp_installed_themes",e))({s_id:l.id});x(e)&&(o.data=e)}finally{s.value=[],u(!1)}},p=$(a("WP.index_16"),{getList:c});return c(),t({init:c}),(e,t)=>{const a=S,l=Z,u=K,c=W;return gt(),wt(Tt,null,[bt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:i},{default:yt((()=>[Ct(xt(e.$t("WP.index_3")),1)])),_:1}),mt(a,{onClick:n},{default:yt((()=>[Ct(xt(e.$t("WP.TableRow.Install")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(s),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(s)?s.value=e:null),"row-key":"title",loading:kt(d),data:kt(o).data,columns:kt(r)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})]),mt(c,{show:kt(p).show,"onUpdate:show":t[1]||(t[1]=e=>kt(p).show=e),title:kt(p).title,data:kt(p).data,width:750,"min-height":400,footer:!1,component:Ii},null,8,["show","title","data"])],64)}}}),Hi=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{config:l}=Ka(),i=dt("setup"),n=dt(),s=[{key:"setup",label:a("Site.Config.Setup"),component:Oi},{key:"plugin",label:a("Site.Config.Plugin"),component:ji},{key:"theme",label:a("Site.Config.Theme"),component:Bi}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",Ut((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=It;return gt(),$t(a,{value:kt(i),"onUpdate:value":t[0]||(t[0]=e=>St(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),zi={class:"p-20px"},Ni={class:"w-280px"},Vi={class:"w-280px"},Ki={class:"w-280px"},Fi={class:"w-280px"},Xi=ot({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=_t(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,r=dt(null),d=Pt({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.Name"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.Path"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.UserName1"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.Password1"),trigger:["blur","input"]}};return i&&s&&(d.name=s.name,d.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await ze({id:n,name:d.name,username:d.username,password:d.password}):await Ne({...Wt(d),id:n}),null==o||o(),e()}}),(e,t)=>{const a=T,l=Bt,n=Ht,s=Kt;return gt(),wt("div",zi,[mt(n,{ref_key:"formRef",ref:r,model:kt(d),rules:u},{default:yt((()=>[mt(l,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:yt((()=>[bt("div",Ni,[mt(a,{value:kt(d).name,"onUpdate:value":t[0]||(t[0]=e=>kt(d).name=e),disabled:kt(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.Path"),path:"site_dir"},{default:yt((()=>[bt("div",Vi,[mt(a,{value:kt(d).site_dir,"onUpdate:value":t[1]||(t[1]=e=>kt(d).site_dir=e),disabled:kt(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.UserName"),path:"username"},{default:yt((()=>[bt("div",Ki,[mt(a,{value:kt(d).username,"onUpdate:value":t[2]||(t[2]=e=>kt(d).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Password"),path:"password"},{default:yt((()=>[bt("div",Fi,[mt(a,{value:kt(d).password,"onUpdate:value":t[3]||(t[3]=e=>kt(d).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),mt(s,{class:"mt-4px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1})])}}}),Gi=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),{keys:i,table:n,columns:s}=G([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},le({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{y({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await Ve({id:l.id,name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[s.value[1]],api:e=>Ve({id:l.id,name:e.name},!1),done:()=>{u()}}}],{loading:r,setLoading:d}=ee(),u=async()=>{try{d(!0);const{message:e}=await Ke({id:l.id});if(g(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],d(!1)}},c=$(a("Site.Config.LimitAccess.Add"),{row:void 0,siteId:l.id,isEdit:!1,getList:u}),p=()=>{c.data.isEdit=!1,c.title=a("Site.Config.LimitAccess.Add"),c.show=!0},m=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.LimitAccess.Edit"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=S,l=Z,d=X,u=K,m=Kt,h=W;return gt(),wt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:p},{default:yt((()=>[Ct(xt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(i)?i.value=e:null),"row-key":"name",loading:kt(r),"max-height":440,data:kt(n).data,columns:kt(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(d,{"checked-row-keys":kt(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>St(i)?i.value=e:null),"row-key":"name",data:kt(n).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),mt(m,{class:"mt-16px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.0")),1),bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1}),mt(h,{show:kt(c).show,"onUpdate:show":t[2]||(t[2]=e=>kt(c).show=e),title:kt(c).title,data:kt(c).data,width:480,footer:!0,component:Xi},null,8,["show","title","data"])])}}}),Zi={class:"p-20px"},Ji={class:"w-280px"},Qi={class:"w-280px"},Yi={class:"w-280px"},en=ot({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=_t(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,r=dt(null),d=Pt({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...Wt(d),dir:d.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(d.deny_name=s.name,d.suffix=s.suffix,d.dir=s.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await Fe(c()):await Xe(c()),null==o||o(),e()}}),(e,t)=>{const a=T,l=Bt,n=Ht,s=Kt;return gt(),wt("div",Zi,[mt(n,{ref_key:"formRef",ref:r,model:kt(d),rules:u},{default:yt((()=>[mt(l,{label:e.$t("Site.TableRow.Name"),path:"deny_name"},{default:yt((()=>[bt("div",Ji,[mt(a,{value:kt(d).deny_name,"onUpdate:value":t[0]||(t[0]=e=>kt(d).deny_name=e),disabled:kt(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.Suffix"),path:"suffix"},{default:yt((()=>[bt("div",Qi,[mt(a,{value:kt(d).suffix,"onUpdate:value":t[1]||(t[1]=e=>kt(d).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.TableRow.Path"),path:"dir"},{default:yt((()=>[bt("div",Yi,[mt(a,{value:kt(d).dir,"onUpdate:value":t[2]||(t[2]=e=>kt(d).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),mt(s,{class:"mt-4px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.PHP.index_72")),1),bt("li",null,xt(e.$t("Site.PHP.index_73")),1),bt("li",null,xt(e.$t("Site.PHP.index_74")),1),bt("li",null,xt(e.$t("Site.PHP.index_75")),1),bt("li",null,xt(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),tn=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{data:l}=Ka(),{keys:i,table:n,columns:s}=G([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.Suffix"),ellipsis:{tooltip:{width:"trigger"}}},le({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{y({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await Ge({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[s.value[1]],api:e=>Ge({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:r,setLoading:d}=ee(),u=async()=>{try{d(!0);const{message:e}=await Ze({website:l.name});n.data=x(e)?e:[]}finally{i.value=[],d(!1)}},c=$(a("Site.Config.LimitAccess.Add"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),p=()=>{c.data.row=void 0,c.data.isEdit=!1,c.title=a("Site.Config.LimitAccess.Add"),c.show=!0},m=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.LimitAccess.Edit"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=S,l=Z,d=X,u=K,m=Kt,h=W;return gt(),wt("div",null,[mt(u,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:p},{default:yt((()=>[Ct(xt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:yt((()=>[mt(l,{"checked-row-keys":kt(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>St(i)?i.value=e:null),"row-key":"name",loading:kt(r),"max-height":440,data:kt(n).data,columns:kt(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(d,{"checked-row-keys":kt(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>St(i)?i.value=e:null),"row-key":"name",data:kt(n).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),mt(m,{class:"mt-16px"},{default:yt((()=>[bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.2"))+" |",1),bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.3")),1),bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.4")),1),bt("li",null,xt(e.$t("Site.Config.LimitAccess.Tips.5")),1)])),_:1}),mt(h,{show:kt(c).show,"onUpdate:show":t[2]||(t[2]=e=>kt(c).show=e),title:kt(c).title,data:kt(c).data,width:480,footer:!0,component:en},null,8,["show","title","data"])])}}}),an={class:"w-300px"},ln={class:"w-300px"},nn={class:"w-300px"},sn={class:"flex flex-col"},on=bt("br",null,null,-1),rn=ot({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:a}){const{t:l}=_t(),i=a,n=rt(e,"site"),s=dt(null),o=Pt({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==o.fix.trim()||new Error(l("Site.RulesError.Suffix"))},return_rule:{trigger:["blur","change"],validator:()=>""!==o.return_rule.trim()||new Error(l("Site.RulesError.AntiTheft"))}},d=()=>{c()},u=()=>{c()},c=async()=>{var e;await(null==(e=s.value)?void 0:e.validate()),await Je({id:n.value.id,name:n.value.name,fix:o.fix,domains:o.domains.trim().split("\n").join(","),return_rule:o.return_rule,status:o.status,http_status:o.http_status}),i("changeHotlink",o.status),p()},p=async()=>{const{message:e}=await Qe({id:n.value.id,name:n.value.name});g(e)&&(o.fix=e.fix,o.domains=e.domains.split(",").join("\n"),o.return_rule=e.return_rule,o.status=e.status,o.http_status="true"===e.http_status||!0===e.http_status)};return p(),t({init:p}),(e,t)=>{const a=T,l=Bt,i=Zt,n=S,p=Ht,m=Kt;return gt(),wt("div",null,[mt(p,{ref_key:"formRef",ref:s,class:"px-8px",model:kt(o),rules:r},{default:yt((()=>[mt(l,{label:e.$t("Site.Lable.Suffix"),path:"fix"},{default:yt((()=>[bt("div",an,[mt(a,{value:kt(o).fix,"onUpdate:value":t[0]||(t[0]=e=>kt(o).fix=e),disabled:kt(o).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Access")},{default:yt((()=>[bt("div",ln,[mt(a,{value:kt(o).domains,"onUpdate:value":t[1]||(t[1]=e=>kt(o).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),mt(l,{label:e.$t("Site.Lable.Response"),path:"return_rule"},{default:yt((()=>[bt("div",nn,[mt(a,{value:kt(o).return_rule,"onUpdate:value":t[2]||(t[2]=e=>kt(o).return_rule=e),disabled:kt(o).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),mt(l,{label:" "},{default:yt((()=>[bt("div",sn,[mt(i,{checked:kt(o).status,"onUpdate:checked":[t[3]||(t[3]=e=>kt(o).status=e),d]},{default:yt((()=>[Ct(xt(e.$t("Site.Config.HotlinkConfig.Protection")),1)])),_:1},8,["checked"]),mt(i,{checked:kt(o).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>kt(o).http_status=e),u],class:"mt-16px"},{default:yt((()=>[Ct(xt(e.$t("Site.Config.HotlinkConfig.HTTP")),1)])),_:1},8,["checked"])])])),_:1}),mt(l,{label:" ","show-feedback":!1},{default:yt((()=>[mt(n,{type:"primary",onClick:c},{default:yt((()=>[Ct(xt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),mt(m,{class:"mt-20px"},{default:yt((()=>[bt("li",null,[Ct(xt(e.$t("Site.Config.HotlinkConfig.Tips.0")),1),on,Ct(" "+xt(e.$t("Site.Config.HotlinkConfig.Tips.1")),1)]),bt("li",null,xt(e.$t("Site.Config.HotlinkConfig.Tips.2")),1),bt("li",null,xt(e.$t("Site.Config.HotlinkConfig.Tips.3")),1)])),_:1})])}}}),dn={class:"pt-8px"},un=ot({__name:"index",setup(e,{expose:t}){const{data:a}=Ka(),l=dt();return t({init:async()=>{l.value.init()}}),(e,t)=>(gt(),wt("div",dn,[mt(rn,{ref_key:"formRef",ref:l,site:kt(a)},null,8,["site"])]))}}),cn=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{config:l}=Ka(),i=dt("access"),n=dt(),s=[{key:"access",label:a("Site.Config.Limit"),component:Gi},{key:"deny",label:a("Site.Config.Deny"),component:tn},{key:"hotlink",label:a("Site.Config.Hotlink"),component:un}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ut((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=It;return gt(),$t(a,{value:kt(i),"onUpdate:value":t[0]||(t[0]=e=>St(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),pn=ot({__name:"index",setup(e,{expose:t}){const{data:a}=Ka(),l=dt("None"),{loading:i,setLoading:n}=ee(),s=async()=>{try{n(!0);const{message:e}=await Ye({siteName:a.name});g(e)&&(l.value=B(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=na,n=sa;return gt(),$t(n,{class:"h-560px",show:kt(i)},{default:yt((()=>[mt(a,{log:kt(l)},null,8,["log"])])),_:1},8,["show"])}}}),mn=ot({__name:"index",setup(e,{expose:t}){const{data:a}=Ka(),l=dt("None"),{loading:i,setLoading:n}=ee(),s=async()=>{try{n(!0);const{message:e}=await et({siteName:a.name});g(e)&&(l.value=B(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=na,n=sa;return gt(),$t(n,{class:"h-560px",show:kt(i)},{default:yt((()=>[mt(a,{log:kt(l)},null,8,["log"])])),_:1},8,["show"])}}}),hn=ot({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,i=dt(""),{loading:n,setLoading:s}=ee();return(async()=>{try{s(!0);const{message:e}=await tt({type:a,path:l});g(e)&&(i.value=e.result)}finally{s(!1)}})(),(e,t)=>{const a=na,l=sa;return gt(),$t(l,{class:"w-650px h-550px bg-#282C34",show:kt(n)},{default:yt((()=>[mt(a,{log:kt(i)},null,8,["log"])])),_:1},8,["show"])}}}),_n={class:"text-error"},fn={class:"w-400px p-20px"},vn={class:"mb-16px"},gn=ot({__name:"index",setup(e,{expose:t}){const a=L(),{t:l}=_t(),{data:i}=Ka(),n=ut((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(i.name).concat(e)})),s=ut((()=>{const e=n.value.split("/");return e[e.length-1]})),o=()=>{y({title:l("Site.Config.LogsConfig.ScanTitle"),content:"".concat(l("Site.Config.LogsConfig.ScanContent")," [").concat(s.value,"] ").concat(l("Site.Config.LogsConfig.ScanContent1")),onConfirm:async({hide:e})=>{await at({path:n.value}),e(),u()}})},r=dt(!1),d=dt(0),u=async()=>{r.value=!0,c()},c=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await lt({path:n.value});g(e)&&(d.value=e.result,d.value>=100?(k.success(l("Site.Config.LogsConfig.Complete")),r.value=!1,d.value=0,b(),clearTimeout(t)):c(1e3))}),e)},p=e=>{v({title:"[".concat(e,"] ").concat(l("Site.Config.LogsConfig.Details")),data:{type:e,path:n.value},component:hn})},{table:m,columns:h}=G([{key:"start_time",title:"Date"},{key:"time",title:l("Site.DelSite.Time"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:l("Site.TableRow.XSS"),render:e=>e.xss>0?mt("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.SQL"),render:e=>e.sql>0?mt("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.Scan"),render:e=>e.san>0?mt("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.PHP"),render:e=>e.php>0?mt("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.IPTop"),render:e=>e.ip>0?mt(w,{onClick:()=>{p("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.URLTop"),render:e=>e.url>0?mt(w,{onClick:()=>{p("url")}},{default:()=>[e.url]}):e.url}]),{loading:_,setLoading:f}=ee(),b=async()=>{try{f(!0);const{message:e}=await it({path:n.value});g(e)&&(m.data=[e])}finally{f(!1)}},x=()=>{b()};return x(),t({init:x}),(e,t)=>{const a=S,l=Z,i=K,n=Kt,s=oa,u=W;return gt(),wt("div",null,[mt(i,null,{toolsLeft:yt((()=>[mt(a,{type:"primary",onClick:o},{default:yt((()=>[Ct(xt(e.$t("Site.Config.LogsConfig.Scan")),1)])),_:1})])),table:yt((()=>[mt(l,{loading:kt(_),"loading-num":1,data:kt(m).data,columns:kt(h)},null,8,["loading","data","columns"])])),_:1}),mt(n,{class:"mt-16px"},{default:yt((()=>[bt("li",null,[Ct(xt(e.$t("Site.Config.LogsConfig.Tips.0"))+" ",1),bt("span",_n,xt(e.$t("Site.Config.LogsConfig.Tips.1")),1),Ct(") ")]),bt("li",null,xt(e.$t("Site.Config.LogsConfig.Tips.2")),1),bt("li",null,xt(e.$t("Site.Config.LogsConfig.Tips.3"))+")",1),bt("li",null,xt(e.$t("Site.Config.LogsConfig.Tips.4")),1),bt("li",null,[mt(w,{href:"https://forum.aapanel.com/d/3351-nginx-waf-instructions",target:"_blank"},{default:yt((()=>[Ct(xt(e.$t("Site.Config.LogsConfig.Tips.5")),1)])),_:1}),Ct(" "+xt(e.$t("Site.Config.LogsConfig.Tips.6")),1)])])),_:1}),mt(u,{show:kt(r),"onUpdate:show":t[0]||(t[0]=e=>St(r)?r.value=e:null)},{default:yt((()=>[bt("div",fn,[bt("div",vn,xt(e.$t("Site.Config.LogsConfig.Tips.7")),1),mt(s,{type:"line",status:"success",height:24,percentage:kt(d),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),wn=ot({__name:"index",setup(e,{expose:t}){const{t:a}=_t(),{config:l}=Ka(),i=dt("access"),n=dt(),s=[{key:"access",label:a("Site.Config.LogsConfig.Access"),component:pn},{key:"error",label:a("Site.Config.LogsConfig.Error"),component:mn},{key:"security",label:a("Site.Config.LogsConfig.Security"),component:gn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ut((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=It;return gt(),$t(a,{value:kt(i),"onUpdate:value":t[0]||(t[0]=e=>St(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),bn=ot({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=_t(),a=L(),{siteName:l}=Q(a),i=pt((()=>b((()=>import("./old3.js?v=1723125373998")),__vite__mapDeps([62,34,1,2,3,4,31,32,19,20,21,22,8,9,10,11,12,13,14,23,24,25,26,33,27,28,7,29,30,5,35,36,37,38,16,39,40,41,42,43,44,45,46,47,48,15,49,50,51,52,53,54,55,56,57])))),n=e,{siteInfo:s,config:o}=n;l.value=n.siteInfo.name;const r=dt();s&&ft(Va,{data:s,config:o});const d=dt("domain"),u=[{key:"domain",label:t("Site.Config.Manager"),component:Qa},{key:"wordpress",label:t("Site.Config.Setting"),component:Hi},{key:"security",label:t("Site.Config.Security"),component:cn},{key:"config",label:t("Site.Config.Conf"),component:Yl},{key:"ssl",label:()=>mt(Tt,null,[t("Site.Config.SSL"),mt(ra,{type:"primary",size:"small",bordered:!1,class:"ml-10px"},{default:()=>[Ct("lowest price $2.9")]})]),component:i},{key:"php",label:t("Site.Lable.PHPVersion"),component:Ti},{key:"logs",label:t("Site.Config.Response"),component:wn}];return d.value=o.menu||"domain",o.menu="",Lt((()=>{window.siteConfigInit=r.value.init})),(e,t)=>{const a=jt;return gt(),$t(a,{value:kt(d),"onUpdate:value":t[0]||(t[0]=e=>St(d)?d.value=e:null),ref_key:"tabsRef",ref:r,data:u},null,8,["value"])}}}),yn={class:"pt-50px pb-40px"},xn={class:"mb-24px text-center text-22px font-bold"},kn={class:"mb-16px"},Sn={class:"ul-style"},Cn={class:"ml-4px"},Pn={class:"ml-4px"},Tn={class:"ml-4px"},Rn={class:"ml-4px"},Ln={class:"text-center text-14px color-desc"},$n={class:"text-center my-24px"},Wn={class:"flex justify-center"},Un={class:"w-76%"},En=D(ot({__name:"transition",setup(e){const t=()=>{M({source:180})};return(e,a)=>{const l=A,i=S,n=da;return gt(),wt("div",yn,[bt("div",xn,xt(e.$t("WP.Transition.index_1")),1),bt("div",kn,[bt("ul",Sn,[bt("li",null,[mt(l,{name:"wp-install",size:"22"}),bt("span",Cn,xt(e.$t("WP.Transition.index_2")),1)]),bt("li",null,[mt(l,{name:"wp-safe",size:"22"}),bt("span",Pn,xt(e.$t("WP.Transition.index_3")),1)]),bt("li",null,[mt(l,{name:"wp-backup",size:"22"}),bt("span",Tn,xt(e.$t("WP.Transition.index_4")),1)]),bt("li",null,[mt(l,{name:"wp-cache",size:"22"}),bt("span",Rn,xt(e.$t("WP.Transition.index_5")),1)])])]),bt("div",Ln,xt(e.$t("WP.Transition.index_6")),1),bt("div",$n,[mt(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:yt((()=>[Ct(xt(e.$t("WP.Transition.index_7")),1)])),_:1})]),bt("div",Wn,[bt("div",Un,[mt(n,{width:"100%",src:kt("/static/vite/images/preview.png")},null,8,["src"])])])])}}}),[["__scopeId","data-v-b49ea418"]]),Dn=bt("span",{class:"mx-4px"},"|",-1),On={class:"w-860px h-700px"},Mn=ot({__name:"index",setup(e){const t=pt((()=>b((()=>import("./index149.js?v=1723125373998")),__vite__mapDeps([63,40,2,36,1,3,4,14,41,31,32,42,5,27,11,12,13,9,43,44,45,46,15,64,7,56,57,8,10,65,19,20,21,22,23,24,25,26,33,34,28,29,30,35,37,38,16,39,47,48,49,50,51,52,53,54,55])))),a=pt((()=>b((()=>import("./index150.js?v=1723125373998")),__vite__mapDeps([66,19,20,1,2,3,4,21,24,25,26,8,9,10,11,12,13,14,47,27,31,32,22,23,33,34,28,7,29,30,5,35,36,37,38,16,39,40,41,42,43,44,45,46,48,15,49,50,51,52,53,54,55,56,57])))),l=pt((()=>b((()=>import("./index151.js?v=1723125373998")),__vite__mapDeps([67,42,2,1,3,4,8,9,10,11,12,13,14,45,46,29,31,32,19,20,21,22,23,24,25,26,33,34,27,28,7,30,5,35,36,37,38,16,39,40,41,43,44,47,48,15,49,50,51,52,53,54,55,56,57])))),i=pt((()=>b((()=>import("./index152.js?v=1723125373998")),__vite__mapDeps([68,1,2,3,4,34,5,40,36,14,41,24,25,26,8,9,10,11,12,13,27,29,47,28,7,30,53,69,42,56,57,31,32,19,20,21,22,23,33,35,37,38,16,39,43,44,45,46,48,15,49,50,51,52,54,55,70])))),n=pt((()=>b((()=>import("./index153.js?v=1723125373998")),__vite__mapDeps([71,1,2,3,4,27,53,31,32,19,20,21,22,8,9,10,11,12,13,14,23,24,25,26,33,34,28,7,29,30,5,35,36,37,38,16,39,40,41,42,43,44,45,46,47,48,15,49,50,51,52,54,55,56,57])))),s=pt((()=>b((()=>import("./index154.js?v=1723125373998")),__vite__mapDeps([72,1,2,3,4,19,20,21,24,25,26,8,9,10,11,12,13,14,28,7,29,30,27,47,42,33,31,32,22,23,34,5,35,36,37,38,16,39,40,41,43,44,45,46,48,15,49,50,51,52,53,54,55,56,57,73])))),{t:o}=_t(),r=L(),d=O(),{web:u}=Q(r),{isPro:c}=Q(d),p=$(o("WP.Migrate.Title")),m=$(o("WP.Add.Title")),h=$(o("Site.Config.Sets")),_=()=>{m.show=!0},v=()=>{p.show=!0},y=()=>{h.show=!0},k=Pt({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),C=(e,t={})=>{k.title="".concat(o("Site.Cert.Modification")," [").concat(e.name,"] -- ").concat(o("Site.Cert.Added")," [").concat(e.addtime,"]"),k.siteInfo=e,k.config=Object.assign({menu:"",subMenu:""},t),k.show=!0},{keys:P,table:T,columns:R}=G([{type:"selection",width:40},{key:"name",title:o("Site.TableRow.SiteName"),width:"12%",minWidth:120,ellipsis:{tooltip:!0},render:e=>mt(Ha,{row:e,onClick:()=>{C(e)}},null)},ne({width:"8%",minWidth:90,checkedLabel:"Running",uncheckedLabel:"Stopped",confirm:(e,t)=>({title:"".concat("1"===e?"Start":"Stop "," site [").concat(t.name,"]"),content:()=>{const t=o("Site.Cert.StatusConfirm.Start"),a=o("Site.Cert.StatusConfirm.Stop");return"1"===e?t:a},onConfirm:async({hide:a})=>{await nt("1"===e,{id:t.id,name:t.name}),t.status="1"===e?"1":"0",a()}})}),{key:"backup_count",title:o("Site.TableRow.BackUp"),width:"8%",minWidth:80,render:e=>mt(za,{row:e},null)},se(),ie({key:"cache_status",title:"Cache",width:"6%",minWidth:60,onClick:async(e,t)=>{await Be({version:t.php_version,sitename:t.name,act:e})}}),le({title:o("WP.TableRow.Setting"),align:"center",width:"350",options:e=>[{label:"00"==e.wp_version?"Static":e.wp_version,width:"30px",onClick:()=>{C(e,{menu:"wordpress"})}},{label:o("WP.index_1"),onClick:()=>{E(e)}},{label:o("WP.TableRow.Plugin"),onClick:()=>{C(e,{menu:"wordpress",subMenu:"plugin"})}},{label:o("WP.TableRow.Theme"),onClick:()=>{C(e,{menu:"wordpress",subMenu:"theme"})}},{label:o("WP.TableRow.Protection"),onClick:()=>{M(e)}},{label:o("WP.TableRow.Integrity"),onClick:()=>{A(e)}}]}),{key:"php_version",title:o("Site.TableRow.PHP"),width:"6%",minWidth:60,render:e=>mt(Na,{row:e,onClick:()=>{C(e,{menu:"php"})}},null)},Ia({onClick:e=>{C(e,{menu:"ssl"})}}),Ba({onClick:e=>{C(e)}})]),U=$(o("WP.index_2")),E=async e=>{U.data.row=e,U.show=!0},D=$(),M=async e=>{D.title="".concat(o("WP.Config.Protection.Title")," [").concat(e.name,"]"),D.data.site=e,D.show=!0},j=$(),A=async e=>{j.title="".concat(o("WP.Integrity.Title")," [").concat(e.name,"]"),j.data.site=e,j.show=!0},I=[{key:"enable",type:"confirm",label:o("Site.Batch.EnableWeb.Label"),confirm:{title:o("Site.Batch.EnableWeb.Title"),desc:o("Site.Batch.EnableWeb.Content"),columns:[R.value[1]],api:e=>nt(!0,{id:e.id,name:e.name},!1),done:()=>{oe()}}},{key:"disable",type:"confirm",label:o("Site.Batch.DisableWeb.Label"),confirm:{title:o("Site.Batch.DisableWeb.Title"),desc:o("Site.Batch.DisableWeb.Content"),columns:[R.value[1]],api:e=>nt(!1,{id:e.id,name:e.name},!1),done:()=>{oe()}}},{key:"backup",type:"confirm",label:o("Site.Batch.BackupWeb.Label"),confirm:{title:o("Site.Batch.BackupWeb.Title"),desc:o("Site.Batch.BackupWeb.Content"),columns:[R.value[1]],api:e=>ga({s_id:e.id,bak_type:3},!1),done:()=>{oe()}}},{key:"delete",label:o("Site.Batch.DeleteWeb.Label"),onBatch:e=>{Aa(e)}}],{loading:B,setLoading:te}=ee(!0),ae=Pt({p:1,limit:10,table:"sites",search:""}),oe=async()=>{try{te(!0);const{message:t}=await(e=Wt(ae),f.post("/data?action=getData",{...e,table:"sites",project_type:"WP2"}));g(t)?(T.data=x(t.data)?t.data:[],T.total=H(t.page)):(T.data=[],T.total=0)}finally{P.value=[],te(!1)}var e};qt((()=>r.isRefresh),(e=>{e&&(r.setRefresh(!1),oe())}));return(async()=>{try{await r.getConfig(),r.web.setup?oe():(te(!1),Y())}catch(e){te(!1)}})(),(e,o)=>{const r=w,d=S,f=J,g=Z,b=X,x=F,C=K,L=W,$=V,E=N;return gt(),$t(E,null,{default:yt((()=>[kt(c)?(gt(),$t($,{key:0,install:kt(u).setup},{desc:yt((()=>[bt("span",null,xt(e.$t("Site.PHP.index_1")),1),mt(r,{class:"ml-4px",onClick:o[0]||(o[0]=e=>kt(z)("nginx"))},{default:yt((()=>[Ct(xt(e.$t("Site.PHP.index_2")),1)])),_:1}),Dn,mt(r,{onClick:o[1]||(o[1]=e=>kt(z)("apache"))},{default:yt((()=>[Ct(xt(e.$t("Site.PHP.index_3")),1)])),_:1})])),default:yt((()=>[mt(C,{class:"p-16px",feedback:!0},{toolsLeft:yt((()=>[mt(d,{type:"primary",onClick:_},{default:yt((()=>[Ct(xt(e.$t("WP.index_5")),1)])),_:1}),mt(d,{onClick:v},{default:yt((()=>[Ct(xt(e.$t("WP.Migrate.Title")),1)])),_:1}),kt(q)?(gt(),$t(d,{key:0,onClick:y},{default:yt((()=>[Ct(xt(e.$t("Site.Config.Sets")),1)])),_:1})):Rt("",!0)])),toolsRight:yt((()=>[mt(f,{value:kt(ae).search,"onUpdate:value":o[2]||(o[2]=e=>kt(ae).search=e),placeholder:e.$t("WP.index_4"),onSearch:oe},null,8,["value","placeholder"])])),table:yt((()=>[mt(g,{"checked-row-keys":kt(P),"onUpdate:checkedRowKeys":o[3]||(o[3]=e=>St(P)?P.value=e:null),loading:kt(B),data:kt(T).data,columns:kt(R)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:yt((()=>[mt(b,{"checked-row-keys":kt(P),"onUpdate:checkedRowKeys":o[4]||(o[4]=e=>St(P)?P.value=e:null),data:kt(T).data,options:I},null,8,["checked-row-keys","data"])])),pageRight:yt((()=>[mt(x,{page:kt(ae).p,"onUpdate:page":o[5]||(o[5]=e=>kt(ae).p=e),"page-size":kt(ae).limit,"onUpdate:pageSize":o[6]||(o[6]=e=>kt(ae).limit=e),"item-count":kt(T).total,"store-key":"wp-toolkit",onRefresh:oe},null,8,["page","page-size","item-count"])])),_:1}),mt(L,{show:kt(m).show,"onUpdate:show":o[7]||(o[7]=e=>kt(m).show=e),title:kt(m).title,width:640,height:590,footer:!0,component:kt(t)},null,8,["show","title","component"]),mt(L,{show:kt(p).show,"onUpdate:show":o[8]||(o[8]=e=>kt(p).show=e),title:kt(p).title,width:640,"min-height":205,footer:!1,component:kt(a)},null,8,["show","title","component"]),mt(L,{show:kt(U).show,"onUpdate:show":o[9]||(o[9]=e=>kt(U).show=e),title:kt(U).title,data:kt(U).data,width:640,"min-height":268,footer:!0,component:kt(l)},null,8,["show","title","data","component"]),mt(L,{show:kt(D).show,"onUpdate:show":o[10]||(o[10]=e=>kt(D).show=e),title:kt(D).title,data:kt(D).data,width:600,"min-height":268,component:kt(i)},null,8,["show","title","data","component"]),mt(L,{show:kt(j).show,"onUpdate:show":o[11]||(o[11]=e=>kt(j).show=e),title:kt(j).title,data:kt(j).data,width:600,"min-height":190,component:kt(n)},null,8,["show","title","data","component"]),mt(L,{show:kt(h).show,"onUpdate:show":o[12]||(o[12]=e=>kt(h).show=e),title:kt(h).title,width:700,"min-height":400,component:kt(s)},null,8,["show","title","component"]),mt(L,{show:kt(k).show,"onUpdate:show":o[13]||(o[13]=e=>kt(k).show=e),title:kt(k).title},{default:yt((()=>[bt("div",On,[mt(bn,{"site-info":kt(k).siteInfo,config:kt(k).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])):(gt(),$t(En,{key:1}))])),_:1})}}}),qn=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"}));export{Ri as _,_a as a,Wa as b,$a as c,ya as d,La as e,Pa as f,fa as g,Ca as h,Ta as i,Ra as j,ka as k,Ua as l,xa as m,ma as n,Sa as o,qa as p,Ma as q,Oa as r,Da as s,ba as t,va as u,ga as v,Ea as w,wa as x,Ka as y,qn as z};
