const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/set4.js?v=1732601582185","js/index.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/naive.js?v=1732601582185","css/page_layout.css?v=1732601582185","css/public.css?v=1732601582185","css/index80.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang.js?v=1732601582185"])))=>i.map(i=>d[i]);
import{_ as e}from"./index.js?v=1732601582185";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185";import{d as n,W as u,aa as s,r as c,O as i,P as r,M as d,Y as p,c as _,Z as m,R as v,ac as g,a6 as f,V as h,Q as b,k as A,v as k,X as x,ao as w,e as y,F}from"./vue.js?v=1732601582185";import{u as j,a as U,q as H}from"./accountState.js?v=1732601582185";import{c as C,bQ as P,I as S,bk as D,at as $,au as M,S as R,k as L}from"./page_layout.js?v=1732601582185";import{b as V,h as E}from"./public.js?v=1732601582185";import{aa as z,bL as q,bQ as I,b$ as O,bG as Q,bn as Y,bV as G,bJ as J}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";const N={class:"w-160px"},T=n({__name:"index",props:{value:{default:null}},setup(a){const{t:t}=u(),l=f((()=>C((()=>import("./set4.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),o=s(a,"value"),{loading:n,setLoading:h}=V(),b=c([]),A=E("category manager",{setOptions:(e,a)=>{a===o.value&&(o.value=-1),b.value=e.map((e=>({label:e.name,value:e.type_id}))),x()}}),k=()=>{A.show=!0},x=()=>{b.value.unshift({label:t("Site.PHP.index_45"),value:-1})};return x(),(async()=>{try{h(!0);const{message:e}=await P();S(e)?b.value=e.map((e=>({label:e.name,value:e.type_id}))):b.value=[],x()}finally{h(!1)}})(),(a,t)=>{const u=z,s=q,c=e;return i(),r("div",N,[d(s,{value:v(o),"onUpdate:value":t[0]||(t[0]=e=>g(o)?o.value=e:null),loading:v(n),options:v(b)},{action:p((()=>[d(u,{block:"",onClick:k},{default:p((()=>[_(m(a.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},8,["value","loading","options"]),d(c,{show:v(A).show,"onUpdate:show":t[1]||(t[1]=e=>v(A).show=e),width:350,title:v(A).title,data:v(A).data,component:v(l)},null,8,["show","title","data","component"])])}}}),W={class:"p-10"},X={class:"flex items-center"},Z={class:"bt-link ml-5"},B=n({__name:"AccountForm",setup(e){const{t:a}=u(),t=j().initAccountForm(),{accountFormRef:l,expendFormState:o,packageList:n,diskMountPointList:s,diskMountSourceList:f,currentChangeDisk:y,wpForData:F,acForData:C,isEdit:P}=h(j()),{changePackage:S}=U(),L=[{key:"header",type:"render",render:()=>d(M,{labelPlacement:"left",size:"small",bordered:!0,column:1},{default:()=>[d($,{label:a("Account.Account.FormHooks-122755-13")},{default:()=>[F.value.package_name]}),d($,{label:a("Account.Account.FormHooks-122755-14")},{default:()=>[F.value.remark]}),d($,{label:a("Account.Account.FormHooks-122755-15")},{default:()=>[F.value.disk_space_quota.unlimited?d("img",{class:"icon",title:"",src:H},null):F.value.disk_space_quota.value]}),d($,{label:a("Account.Account.FormHooks-122755-16")},{default:()=>[F.value.monthly_bandwidth_limit?d("img",{class:"icon",title:"",src:H},null):F.value.monthly_bandwidth_limit]}),d($,{label:a("Account.Account.FormHooks-122755-17")},{default:()=>[F.value.max_site_limit.unlimited?d("img",{class:"icon",title:"",src:H},null):F.value.max_site_limit.value]}),d($,{label:a("Account.Account.FormHooks-122755-18")},{default:()=>[F.value.php_start_children]}),d($,{label:a("Account.Account.FormHooks-122755-19")},{default:()=>[F.value.php_max_children]}),d($,{label:a("Account.Account.FormHooks-122755-21")},{default:()=>[F.value.max_database?d("img",{class:"icon",title:"",src:H},null):F.value.max_database]})]})}],V=new Date;V.setDate(V.getDate()+30);const E="".concat(V.getFullYear(),"-").concat(V.getMonth()+1>9?V.getMonth()+1:"0"+(V.getMonth()+1),"-").concat(V.getDate()>9?V.getDate():"0"+V.getDate()),z=c("permanent"),J=c(E),N=()=>{"custom"===z.value?(J.value=E,C.value.expire_date=E):(J.value=null,C.value.expire_date="0000-00-00")},T=e=>{C.value.expire_date=R(Number(e),"yyyy-MM-dd")},B=e=>{y.value=f.value.find((a=>a.mountpoint===e))};return"0000-00-00"===C.value.expire_date||void 0===C.value.expire_date?z.value="permanent":(z.value="custom",J.value=C.value.expire_date),(e,a)=>(i(),r("div",W,[d(v(t),{ref_key:"accountFormRef",ref:l,isEdit:!0},{expire_date:p((()=>[b("div",null,[d(v(I),{value:v(z),"onUpdate:value":a[0]||(a[0]=e=>g(z)?z.value=e:null),onChange:N,style:{margin:"10px 0"}},{default:p((()=>[d(v(O),{value:"permanent"},{default:p((()=>[_(m(e.$t("Account.Account.whm_account_index_10")),1)])),_:1}),d(v(O),{value:"custom"},{default:p((()=>[_(m(e.$t("Account.Account.whm_account_index_11")),1)])),_:1})])),_:1},8,["value"]),A(d(v(D),{"formatted-value":v(J),"onUpdate:formattedValue":a[1]||(a[1]=e=>g(J)?J.value=e:null),type:"date","onUpdate:value":T},null,8,["formatted-value"]),[[k,"custom"===v(z)]])])])),_:1},512),d(v(G),{"label-placement":"left","label-width":"130px"},{default:p((()=>[d(v(Q),{label:e.$t("Account.Account.whm_account_index_6")},{default:p((()=>[b("div",X,[d(v(q),{value:v(o).package_id,"onUpdate:value":a[2]||(a[2]=e=>v(o).package_id=e),class:"w-20rem",options:v(n),onUpdateValue:v(S)},null,8,["value","options","onUpdateValue"]),d(v(Y),{trigger:"hover",placement:"right",options:L},{default:p((()=>[b("div",Z,m(e.$t("Account.Account.whm_account_index_9")),1)])),_:1})])])),_:1},8,["label"]),v(P)?w("",!0):(i(),x(v(Q),{key:0,label:e.$t("Account.Account.FormHooks-122755-32")},{default:p((()=>[d(v(q),{value:v(o).mountpoint,"onUpdate:value":a[3]||(a[3]=e=>v(o).mountpoint=e),options:v(s),onChange:B},null,8,["value","options"])])),_:1},8,["label"]))])),_:1})]))}}),K=L(n({__name:"index",setup(n){const{t:s}=u(),{init:c,loading:f,addHost:A,form_save:k,form_reset:x}=U(),{table:w,search:H,columns:C,addVisible:P,isEdit:S}=h(j());c();const D=y((()=>{const e=S.value?s("Account.Package.packageState-592272-13"):s("Account.Package.packageState-592272-12");return s("Account.Account.FormHooks-122755-31",[e])}));return(n,u)=>{const s=z,h=o,y=l,j=t,U=a,S=J,$=e;return i(),r(F,null,[b("div",null,[d(S,{class:"p-16px mb-16px"},{default:p((()=>[d(U,{feedback:!0,email:!0},{toolsLeft:p((()=>[d(s,{onClick:v(A),type:"primary"},{default:p((()=>[_(m(n.$t("Account.Account.whm_account_index_1")),1)])),_:1},8,["onClick"])])),toolsRight:p((()=>[b("span",null,[b("span",null,m(n.$t("Account.Account.whm_account_533924-8")),1),u[5]||(u[5]=_("Â ")),b("span",null,m(v(w).total)+" / 30",1)]),d(T,{value:v(H).type_id,"onUpdate:value":[u[0]||(u[0]=e=>v(H).type_id=e),v(c)]},null,8,["value","onUpdate:value"]),d(h,{value:v(H).search_value,"onUpdate:value":u[1]||(u[1]=e=>v(H).search_value=e),placeholder:n.$t("Account.Account.whm_account_index_2"),onSearch:v(c)},null,8,["value","placeholder","onSearch"])])),table:p((()=>[d(y,{"max-height":800,loading:v(f),data:v(w).data,columns:v(C)},null,8,["loading","data","columns"])])),pageRight:p((()=>[d(j,{page:v(H).p,"onUpdate:page":u[2]||(u[2]=e=>v(H).p=e),"page-size":v(H).rows,"onUpdate:pageSize":u[3]||(u[3]=e=>v(H).rows=e),"item-count":v(w).total,onRefresh:v(c)},null,8,["page","page-size","item-count","onRefresh"])])),_:1})])),_:1})]),d($,{show:v(P),"onUpdate:show":u[4]||(u[4]=e=>g(P)?P.value=e:null),title:v(D),width:500,footer:!0,component:B,onConfirm:v(k),onCancel:v(x),onClose:v(x)},null,8,["show","title","onConfirm","onCancel","onClose"])],64)}}}),[["__scopeId","data-v-d10a77d2"]]);export{K as default};
