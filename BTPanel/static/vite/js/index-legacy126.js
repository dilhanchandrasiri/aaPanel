System.register(["./installCanvasRenderer-legacy.js?v=1723125373998","./index-legacy.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998"],(function(t,e){"use strict";var i,n,o,a,s,r,l,u,h,c,p,d,g,m,y,f,v,b,S,_,x,I,w,D,M,A,N,P,k,L,O,C,T,z,E,G,V,R,X,Y,F,H,B,W,U,j,Z,q,J,K,$,Q,tt,et,it,nt,ot,at,st,rt,lt,ut,ht,ct,pt,dt,gt,mt,yt,ft,vt,bt,St,_t;return{setters:[t=>{i=t._,n=t.c,o=t.G,a=t.a,s=t.S,r=t.e,l=t.l,u=t.u,h=t.s,c=t.i,p=t.g,d=t.n,g=t.Z,m=t.b,y=t.d,f=t.f,v=t.t,b=t.h,S=t.r,_=t.j,x=t.k,I=t.m,w=t.o,D=t.p,M=t.q,A=t.v,N=t.w,P=t.P,k=t.x,L=t.y,O=t.z,C=t.A,T=t.B,z=t.C,E=t.D,G=t.E,V=t.F,R=t.H,X=t.I,Y=t.J,F=t.K,H=t.L,B=t.M,W=t.N,U=t.O,j=t.Q,Z=t.R,q=t.T,J=t.U,K=t.V,$=t.W,Q=t.X,tt=t.Y,et=t.$,it=t.a0,nt=t.a1,ot=t.a2,at=t.a3,st=t.a4,rt=t.a5,lt=t.a6,ut=t.a7},t=>{ht=t.b7},t=>{ct=t.l,pt=t.r,dt=t.w,gt=t.n,mt=t.az,yt=t.x,ft=t.y,vt=t.S,bt=t.Z,St=t.$,_t=t.W},null],execute:function(){var e=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.hasSymbolVisual=!0,i}return i(e,t),e.prototype.getInitialData=function(t){return n(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new o,i=a("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(i),i.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),r="none"===n?"circle":n,l=.8*t.itemHeight,u=a(r,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(u),u.setStyle(t.itemStyle);var h="inherit"===t.iconRotate?s:t.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(s),xt=function(t){function e(e,i,n,o){var a=t.call(this)||this;return a.updateData(e,i,n,o),a}return i(e,t),e.prototype._createSymbol=function(t,e,i,n,o){this.removeAll();var s=a(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=It,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){r(this.childAt(0))},e.prototype.downplay=function(){l(this.childAt(0))},e.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},e.prototype.setDraggable=function(t,e){var i=this.childAt(0);i.draggable=t,i.cursor=!e&&t?"move":i.cursor},e.prototype.updateData=function(t,i,n,o){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,r=e.getSymbolSize(t,i),l=a!==this._symbolType,p=o&&o.disableAnimation;if(l){var d=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,t,i,r,d)}else{(m=this.childAt(0)).silent=!1;var g={scaleX:r[0]/2,scaleY:r[1]/2};p?m.attr(g):u(m,g,s,i),h(m)}if(this._updateCommon(t,i,r,n,o),l){var m=this.childAt(0);p||(g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:m.style.opacity}},m.scaleX=m.scaleY=0,m.style.opacity=0,c(m,g,s,i))}p&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,e,i,n,o){var a,s,r,l,u,h,c,b,S,_=this.childAt(0),x=t.hostModel;if(n&&(a=n.emphasisItemStyle,s=n.blurItemStyle,r=n.selectItemStyle,l=n.focus,u=n.blurScope,c=n.labelStatesModels,b=n.hoverScale,S=n.cursorStyle,h=n.emphasisDisabled),!n||t.hasItemOption){var I=n&&n.itemModel?n.itemModel:t.getItemModel(e),w=I.getModel("emphasis");a=w.getModel("itemStyle").getItemStyle(),r=I.getModel(["select","itemStyle"]).getItemStyle(),s=I.getModel(["blur","itemStyle"]).getItemStyle(),l=w.get("focus"),u=w.get("blurScope"),h=w.get("disabled"),c=p(I),b=w.getShallow("scale"),S=I.getShallow("cursor")}var D=t.getItemVisual(e,"symbolRotate");_.attr("rotation",(D||0)*Math.PI/180||0);var M=d(t.getItemVisual(e,"symbolOffset"),i);M&&(_.x=M[0],_.y=M[1]),S&&_.attr("cursor",S);var A=t.getItemVisual(e,"style"),N=A.fill;if(_ instanceof g){var P=_.style;_.useStyle(m({image:P.image,x:P.x,y:P.y,width:P.width,height:P.height},A))}else _.__isEmptyBrush?_.useStyle(m({},A)):_.useStyle(A),_.style.decal=null,_.setColor(N,o&&o.symbolInnerColor),_.style.strokeNoScale=!0;var k=t.getItemVisual(e,"liftZ"),L=this._z2;null!=k?null==L&&(this._z2=_.z2,_.z2+=k):null!=L&&(_.z2=L,this._z2=null);var O=o&&o.useNameLabel;y(_,c,{labelFetcher:x,labelDataIndex:e,defaultText:function(e){return O?t.getName(e):f(t,e)},inheritColor:N,defaultOpacity:A.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var C=_.ensureState("emphasis");C.style=a,_.ensureState("select").style=r,_.ensureState("blur").style=s;var T=null==b||!0===b?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;C.scaleX=this._sizeX*T,C.scaleY=this._sizeY*T,this.setSymbolScale(1),v(this,l,u,h)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e,i){var n=this.childAt(0),o=b(this).dataIndex,a=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var s=n.getTextContent();s&&S(s,{style:{opacity:0}},e,{dataIndex:o,removeOpt:a,cb:function(){n.removeTextContent()}})}else n.removeTextContent();S(n,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:a})},e.getSymbolSize=function(t,e){return _(t.getItemVisual(e,"symbolSize"))},e}(o);function It(t,e){this.parent.drift(t,e)}function wt(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function Dt(t){return null==t||I(t)||(t={isIgnore:t}),t||{}}function Mt(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:p(e),cursorStyle:e.get("cursor")}}var At=function(){function t(t){this.group=new o,this._SymbolCtor=t||xt}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=Dt(e);var i=this.group,n=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,r=Mt(t),l={disableAnimation:s},h=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||i.removeAll(),t.diff(o).add((function(n){var o=h(n);if(wt(t,o,n,e)){var s=new a(t,n,r,l);s.setPosition(o),t.setItemGraphicEl(n,s),i.add(s)}})).update((function(c,p){var d=o.getItemGraphicEl(p),g=h(c);if(wt(t,g,c,e)){var m=t.getItemVisual(c,"symbol")||"circle",y=d&&d.getSymbolType&&d.getSymbolType();if(!d||y&&y!==m)i.remove(d),(d=new a(t,c,r,l)).setPosition(g);else{d.updateData(t,c,r,l);var f={x:g[0],y:g[1]};s?d.attr(f):u(d,f,n)}i.add(d),t.setItemGraphicEl(c,d)}else i.remove(d)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}),n)})).execute(),this._getSymbolPoint=h,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Mt(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=Dt(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(wt(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(n),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(t){x(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}),i.hostModel)})):e.removeAll()},t}();function Nt(t,e,i){var n=t.getBaseAxis(),o=t.getOtherAxis(n),a=function(t,e){var i=0,n=t.scale.getExtent();return"start"===e?i=n[0]:"end"===e?i=n[1]:M(e)&&!isNaN(e)?i=e:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}(o,i),s=n.dim,r=o.dim,l=e.mapDimension(r),u=e.mapDimension(s),h="x"===r||"radius"===r?1:0,c=w(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,d=e.getCalculationInfo("stackResultDimension");return D(e,c[0])&&(p=!0,c[0]=d),D(e,c[1])&&(p=!0,c[1]=d),{dataDimsForPoint:c,valueStart:a,valueAxisDim:r,baseAxisDim:s,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Pt(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,s=[];return s[a]=i.get(t.baseDim,n),s[1-a]=o,e.dataToPoint(s)}var kt=Math.min,Lt=Math.max;function Ot(t,e){return isNaN(t)||isNaN(e)}function Ct(t,e,i,n,o,a,s,r,l){for(var u,h,c,p,d,g,m=i,y=0;y<n;y++){var f=e[2*m],v=e[2*m+1];if(m>=o||m<0)break;if(Ot(f,v)){if(l){m+=a;continue}break}if(m===i)t[a>0?"moveTo":"lineTo"](f,v),c=f,p=v;else{var b=f-u,S=v-h;if(b*b+S*S<.5){m+=a;continue}if(s>0){for(var _=m+a,x=e[2*_],I=e[2*_+1];x===f&&I===v&&y<n;)y++,m+=a,x=e[2*(_+=a)],I=e[2*_+1],b=(f=e[2*m])-u,S=(v=e[2*m+1])-h;var w=y+1;if(l)for(;Ot(x,I)&&w<n;)w++,x=e[2*(_+=a)],I=e[2*_+1];var D=.5,M=0,A=0,N=void 0,P=void 0;if(w>=n||Ot(x,I))d=f,g=v;else{M=x-u,A=I-h;var k=f-u,L=x-f,O=v-h,C=I-v,T=void 0,z=void 0;if("x"===r){var E=M>0?1:-1;d=f-E*(T=Math.abs(k))*s,g=v,N=f+E*(z=Math.abs(L))*s,P=v}else if("y"===r){var G=A>0?1:-1;d=f,g=v-G*(T=Math.abs(O))*s,N=f,P=v+G*(z=Math.abs(C))*s}else T=Math.sqrt(k*k+O*O),d=f-M*s*(1-(D=(z=Math.sqrt(L*L+C*C))/(z+T))),g=v-A*s*(1-D),P=v+A*s*D,N=kt(N=f+M*s*D,Lt(x,f)),P=kt(P,Lt(I,v)),N=Lt(N,kt(x,f)),g=v-(A=(P=Lt(P,kt(I,v)))-v)*T/z,d=kt(d=f-(M=N-f)*T/z,Lt(u,f)),g=kt(g,Lt(h,v)),N=f+(M=f-(d=Lt(d,kt(u,f))))*z/T,P=v+(A=v-(g=Lt(g,kt(h,v))))*z/T}t.bezierCurveTo(c,p,d,g,f,v),c=N,p=P}else t.lineTo(f,v)}u=f,h=v,m+=a}return y}var Tt=function(){this.smooth=0,this.smoothConstraint=!0},zt=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polyline",i}return i(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Tt},e.prototype.buildPath=function(t,e){var i=e.points,n=0,o=i.length/2;if(e.connectNulls){for(;o>0&&Ot(i[2*o-2],i[2*o-1]);o--);for(;n<o&&Ot(i[2*n],i[2*n+1]);n++);}for(;n<o;)n+=Ct(t,i,n,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,o=this.path.data,a=k.CMD,s="x"===e,r=[],l=0;l<o.length;){var u=void 0,h=void 0,c=void 0,p=void 0,d=void 0,g=void 0,m=void 0;switch(o[l++]){case a.M:i=o[l++],n=o[l++];break;case a.L:if(u=o[l++],h=o[l++],(m=s?(t-i)/(u-i):(t-n)/(h-n))<=1&&m>=0){var y=s?(h-n)*m+n:(u-i)*m+i;return s?[t,y]:[y,t]}i=u,n=h;break;case a.C:u=o[l++],h=o[l++],c=o[l++],p=o[l++],d=o[l++],g=o[l++];var f=s?N(i,u,c,d,t,r):N(n,h,p,g,t,r);if(f>0)for(var v=0;v<f;v++){var b=r[v];if(b<=1&&b>=0)return y=s?L(n,h,p,g,b):L(i,u,c,d,b),s?[t,y]:[y,t]}i=d,n=g}}},e}(P),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Tt),Gt=function(t){function e(e){var i=t.call(this,e)||this;return i.type="ec-polygon",i}return i(e,t),e.prototype.getDefaultShape=function(){return new Et},e.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length/2,s=e.smoothMonotone;if(e.connectNulls){for(;a>0&&Ot(i[2*a-2],i[2*a-1]);a--);for(;o<a&&Ot(i[2*o],i[2*o+1]);o++);}for(;o<a;){var r=Ct(t,i,o,a,a,1,e.smooth,s,e.connectNulls);Ct(t,n,o+r-1,r,a,-1,e.stackedOnSmooth,s,e.connectNulls),o+=r+1,t.closePath()}},e}(P);function Vt(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function Rt(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],r=t[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(r)||(i=Math.min(r,i),o=Math.max(r,o))}return[[e,i],[n,o]]}function Xt(t,e){var i=Rt(t),n=i[0],o=i[1],a=Rt(e),s=a[0],r=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(o[0]-r[0]),Math.abs(o[1]-r[1]))}function Yt(t){return M(t)?t:t?.5:0}function Ft(t,e,i,n){var o=e.getBaseAxis(),a="x"===o.dim||"radius"===o.dim?0:1,s=[],r=0,l=[],u=[],h=[],c=[];if(n){for(r=0;r<t.length;r+=2)isNaN(t[r])||isNaN(t[r+1])||c.push(t[r],t[r+1]);t=c}for(r=0;r<t.length-2;r+=2)switch(h[0]=t[r+2],h[1]=t[r+3],u[0]=t[r],u[1]=t[r+1],s.push(u[0],u[1]),i){case"end":l[a]=h[a],l[1-a]=u[1-a],s.push(l[0],l[1]);break;case"middle":var p=(u[a]+h[a])/2,d=[];l[a]=d[a]=p,l[1-a]=u[1-a],d[1-a]=h[1-a],s.push(l[0],l[1]),s.push(d[0],d[1]);break;default:l[a]=u[a],l[1-a]=h[1-a],s.push(l[0],l[1])}return s.push(t[r++],t[r++]),s}function Ht(t,e,i){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var o,a,s=n.length-1;s>=0;s--){var r=t.getDimensionInfo(n[s].dimension);if("x"===(o=r&&r.coordDim)||"y"===o){a=n[s];break}}if(a){var l=e.getAxis(o),u=w(a.stops,(function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}})),h=u.length,c=a.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(t,e){var i,n,o=[],a=t.length;function s(t,e,i){var n=t.coord,o=(i-n)/(e.coord-n);return{coord:i,color:q(o,[t.color,e.color])}}for(var r=0;r<a;r++){var l=t[r],u=l.coord;if(u<0)i=l;else{if(u>e){n?o.push(s(n,l,e)):i&&o.push(s(i,l,0),s(i,l,e));break}i&&(o.push(s(i,l,0)),i=null),o.push(l),n=l}}return o}(u,"x"===o?i.getWidth():i.getHeight()),d=p.length;if(!d&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var g=p[0].coord-10,m=p[d-1].coord+10,y=m-g;if(y<.001)return"transparent";H(p,(function(t){t.offset=(t.coord-g)/y})),p.push({offset:d?p[d-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:d?p[0].offset:.5,color:c[0]||"transparent"});var f=new B(0,0,0,0,p,!0);return f[o]=g,f[o+"2"]=m,f}}}function Bt(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var a=i.getAxesByScale("ordinal")[0];if(a&&(!o||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),s=0;s<o;s+=a)if(1.5*xt.getSymbolSize(e,s)[t.isHorizontal()?1:0]>n)return!1;return!0}(a,e))){var s=e.mapDimension(a.dim),r={};return H(a.getViewLabels(),(function(t){var e=a.scale.getRawOrdinalNumber(t.tickValue);r[e]=1})),function(t){return!r.hasOwnProperty(e.get(s,t))}}}}function Wt(t,e){return[t[2*e],t[2*e+1]]}function Ut(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<W.length;e++)if(t.get([W[e],"endLabel","show"]))return!0;return!1}function jt(t,e,i,n){if(U(e,"cartesian2d")){var o=n.getModel("endLabel"),a=o.get("valueAnimation"),s=n.getData(),r={lastFrameIndex:0},l=Ut(n)?function(i,n){t._endLabelOnDuring(i,n,s,r,a,o,e)}:null,u=e.getBaseAxis().isHorizontal(),h=j(e,i,n,(function(){var e=t._endLabel;e&&i&&null!=r.originalX&&e.attr({x:r.originalX,y:r.originalY})}),l);if(!n.get("clip",!0)){var c=h.shape,p=Math.max(c.width,c.height);u?(c.y-=p,c.height+=2*p):(c.x-=p,c.width+=2*p)}return l&&l(1,h),h}return Z(e,i,n)}var Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){var t=new o,e=new At;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,i){var n=this,o=t.coordinateSystem,a=this.group,s=t.getData(),r=t.getModel("lineStyle"),l=t.getModel("areaStyle"),u=s.getLayout("points")||[],h="polar"===o.type,p=this._coordSys,d=this._symbolDraw,g=this._polyline,m=this._polygon,y=this._lineGroup,f=!e.ssr&&t.get("animation"),S=!l.isEmpty(),_=l.get("origin"),x=Nt(o,s,_),I=S&&function(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),o=A(2*n),a=0;a<n;a++){var s=Pt(i,t,e,a);o[2*a]=s[0],o[2*a+1]=s[1]}return o}(o,s,x),w=t.get("showSymbol"),D=t.get("connectNulls"),M=w&&!h&&Bt(t,s,o),N=this._data;N&&N.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),N.setItemGraphicEl(e,null))})),w||d.remove(),a.add(y);var P,k=!h&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(P=o.getArea()).width?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r+=.5)),this._clipShapeForSymbol=P;var L=Ht(s,o,i)||s.getVisual("style")[s.getVisual("drawType")];if(g&&p.type===o.type&&k===this._step){S&&!m?m=this._newPolygon(u,I):m&&!S&&(y.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(t,o,O(L));var z=y.getClipPath();if(z){var E=jt(this,o,!1,t);c(z,{shape:E.shape},t)}else y.setClipPath(jt(this,o,!0,t));w&&d.updateData(s,{isIgnore:M,clipShape:P,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),Vt(this._stackedOnPoints,I)&&Vt(this._points,u)||(f?this._doUpdateAnimation(s,I,o,i,k,_,D):(k&&(u=Ft(u,o,k,D),I&&(I=Ft(I,o,k,D))),g.setShape({points:u}),m&&m.setShape({points:u,stackedOnPoints:I})))}else w&&d.updateData(s,{isIgnore:M,clipShape:P,disableAnimation:!0,getSymbolPoint:function(t){return[u[2*t],u[2*t+1]]}}),f&&this._initSymbolLabelAnimation(s,o,P),k&&(u=Ft(u,o,k,D),I&&(I=Ft(I,o,k,D))),g=this._newPolyline(u),S?m=this._newPolygon(u,I):m&&(y.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(t,o,O(L)),y.setClipPath(jt(this,o,!0,t));var G=t.getModel("emphasis"),V=G.get("focus"),R=G.get("blurScope"),X=G.get("disabled");g.useStyle(C(r.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),T(g,t,"lineStyle"),g.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),b(g).seriesIndex=t.seriesIndex,v(g,V,R,X);var Y=Yt(t.get("smooth")),F=t.get("smoothMonotone");if(g.setShape({smooth:Y,smoothMonotone:F,connectNulls:D}),m){var H=s.getCalculationInfo("stackedOnSeries"),B=0;m.useStyle(C(l.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),H&&(B=Yt(H.get("smooth"))),m.setShape({smooth:Y,stackedOnSmooth:B,smoothMonotone:F,connectNulls:D}),T(m,t,"areaStyle"),b(m).seriesIndex=t.seriesIndex,v(m,V,R,X)}var W=function(t){n._changePolyState(t)};s.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=W)})),this._polyline.onHoverStateChange=W,this._data=s,this._coordSys=o,this._stackedOnPoints=I,this._points=u,this._step=k,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,g),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,e){b(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,e,i,n){var o=t.getData(),a=z(o,n);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var s=o.getLayout("points"),r=o.getItemGraphicEl(a);if(!r){var l=s[2*a],u=s[2*a+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;var h=t.get("zlevel")||0,c=t.get("z")||0;(r=new xt(o,a)).x=l,r.y=u,r.setZ(h,c);var p=r.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=c,p.z2=this._polyline.z2+1),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else E.prototype.highlight.call(this,t,e,i,n)},e.prototype.downplay=function(t,e,i,n){var o=t.getData(),a=z(o,n);if(this._changePolyState("normal"),null!=a&&a>=0){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else E.prototype.downplay.call(this,t,e,i,n)},e.prototype._changePolyState=function(t){var e=this._polygon;G(this._polyline,t),e&&G(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new zt({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Gt({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,e,i){var n,o,a=e.getBaseAxis(),s=a.inverse;"cartesian2d"===e.type?(n=a.isHorizontal(),o=!1):"polar"===e.type&&(n="angle"===a.dim,o=!0);var r=t.hostModel,l=r.get("animationDuration");V(l)&&(l=l(null));var u=r.get("animationDelay")||0,h=V(u)?u(null):u;t.eachItemGraphicEl((function(t,a){var r=t;if(r){var c=[t.x,t.y],p=void 0,d=void 0,g=void 0;if(i)if(o){var m=i,y=e.pointToCoord(c);n?(p=m.startAngle,d=m.endAngle,g=-y[1]/180*Math.PI):(p=m.r0,d=m.r,g=y[0])}else{var f=i;n?(p=f.x,d=f.x+f.width,g=t.x):(p=f.y+f.height,d=f.y,g=t.y)}var v=d===p?0:(g-p)/(d-p);s&&(v=1-v);var b=V(u)?u(a):l*v+h,S=r.getSymbolPath(),_=S.getTextContent();r.attr({scaleX:0,scaleY:0}),r.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:b}),S.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(Ut(t)){var o=t.getData(),a=this._polyline,s=o.getLayout("points");if(!s)return a.removeTextContent(),void(this._endLabel=null);var r=this._endLabel;r||((r=this._endLabel=new R({z2:200})).ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var l=function(t){for(var e,i,n=t.length/2;n>0&&(e=t[2*n-2],i=t[2*n-1],isNaN(e)||isNaN(i));n--);return n-1}(s);l>=0&&(y(a,p(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,i){return null!=i?X(o,i):f(o,t)},enableTextSetter:!0},function(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),o=i.inverse,a=n?o?"right":"left":"center",s=n?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||s}}}(n,e)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,i,n,o,a,s){var r=this._endLabel,l=this._polyline;if(r){t<1&&null==n.originalX&&(n.originalX=r.x,n.originalY=r.y);var u=i.getLayout("points"),h=i.hostModel,c=h.get("connectNulls"),p=a.get("precision"),d=a.get("distance")||0,g=s.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,f=e.shape,v=y?m?f.x:f.y+f.height:m?f.x+f.width:f.y,b=(m?d:0)*(y?-1:1),S=(m?0:-d)*(y?-1:1),_=m?"x":"y",x=function(t,e,i){for(var n,o,a=t.length/2,s="x"===i?0:1,r=0,l=-1,u=0;u<a;u++)if(o=t[2*u+s],!isNaN(o)&&!isNaN(t[2*u+1-s]))if(0!==u){if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}r=u,n=o}else n=o;return{range:[r,l],t:(e-n)/(o-n)}}(u,v,_),I=x.range,w=I[1]-I[0],D=void 0;if(w>=1){if(w>1&&!c){var M=Wt(u,I[0]);r.attr({x:M[0]+b,y:M[1]+S}),o&&(D=h.getRawValue(I[0]))}else{(M=l.getPointOn(v,_))&&r.attr({x:M[0]+b,y:M[1]+S});var A=h.getRawValue(I[0]),N=h.getRawValue(I[1]);o&&(D=Y(i,p,A,N,x.t))}n.lastFrameIndex=I[0]}else{var P=1===t||n.lastFrameIndex>0?I[0]:0;M=Wt(u,P),o&&(D=h.getRawValue(P)),r.attr({x:M[0]+b,y:M[1]+S})}if(o){var k=F(r);"function"==typeof k.setLabelText&&k.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(t,e,i,n,o,a,s){var r=this._polyline,l=this._polygon,h=t.hostModel,c=function(t,e,i,n,o,a,s,r){for(var l=function(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}(t,e),u=[],h=[],c=[],p=[],d=[],g=[],m=[],y=Nt(o,e,s),f=t.getLayout("points")||[],v=e.getLayout("points")||[],b=0;b<l.length;b++){var S=l[b],_=!0,x=void 0,I=void 0;switch(S.cmd){case"=":x=2*S.idx,I=2*S.idx1;var w=f[x],D=f[x+1],M=v[I],N=v[I+1];(isNaN(w)||isNaN(D))&&(w=M,D=N),u.push(w,D),h.push(M,N),c.push(i[x],i[x+1]),p.push(n[I],n[I+1]),m.push(e.getRawIndex(S.idx1));break;case"+":var P=S.idx,k=y.dataDimsForPoint,L=o.dataToPoint([e.get(k[0],P),e.get(k[1],P)]);I=2*P,u.push(L[0],L[1]),h.push(v[I],v[I+1]);var O=Pt(y,o,e,P);c.push(O[0],O[1]),p.push(n[I],n[I+1]),m.push(e.getRawIndex(P));break;case"-":_=!1}_&&(d.push(S),g.push(g.length))}g.sort((function(t,e){return m[t]-m[e]}));var C=u.length,T=A(C),z=A(C),E=A(C),G=A(C),V=[];for(b=0;b<g.length;b++){var R=g[b],X=2*b,Y=2*R;T[X]=u[Y],T[X+1]=u[Y+1],z[X]=h[Y],z[X+1]=h[Y+1],E[X]=c[Y],E[X+1]=c[Y+1],G[X]=p[Y],G[X+1]=p[Y+1],V[b]=d[R]}return{current:T,next:z,stackedOnCurrent:E,stackedOnNext:G,status:V}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),p=c.current,d=c.stackedOnCurrent,g=c.next,m=c.stackedOnNext;if(o&&(p=Ft(c.current,i,o,s),d=Ft(c.stackedOnCurrent,i,o,s),g=Ft(c.next,i,o,s),m=Ft(c.stackedOnNext,i,o,s)),Xt(p,g)>3e3||l&&Xt(d,m)>3e3)return r.stopAnimation(),r.setShape({points:g}),void(l&&(l.stopAnimation(),l.setShape({points:g,stackedOnPoints:m})));r.shape.__points=c.current,r.shape.points=p;var y={shape:{points:g}};c.current!==p&&(y.shape.__points=c.next),r.stopAnimation(),u(r,y,h),l&&(l.setShape({points:p,stackedOnPoints:d}),l.stopAnimation(),u(l,{shape:{stackedOnPoints:m}},h),r.shape.points!==l.shape.points&&(l.shape.points=r.shape.points));for(var f=[],v=c.status,b=0;b<v.length;b++)if("="===v[b].cmd){var S=t.getItemGraphicEl(v[b].idx1);S&&f.push({el:S,ptIdx:b})}r.animators&&r.animators.length&&r.animators[0].during((function(){l&&l.dirtyShape();for(var t=r.shape.__points,e=0;e<f.length;e++){var i=f[e].el,n=2*f[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl((function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(E);Q([tt,et,it,nt,ot,at,st,function(t){t.registerChartView(Zt),t.registerSeriesModel(e),t.registerLayout({seriesType:"line",plan:J(),reset:function(t){var e=t.getData(),i=t.coordinateSystem;if(t.pipelineContext,i){var n=w(i.dimensions,(function(t){return e.mapDimension(t)})).slice(0,2),o=n.length,a=e.getCalculationInfo("stackResultDimension");D(e,n[0])&&(n[0]=a),D(e,n[1])&&(n[1]=a);var s=e.getStore(),r=e.getDimensionIndex(n[0]),l=e.getDimensionIndex(n[1]);return o&&{progress:function(t,e){for(var n=t.end-t.start,a=A(n*o),u=[],h=[],c=t.start,p=0;c<t.end;c++){var d=void 0;if(1===o){var g=s.get(r,c);d=i.dataToPoint(g,null,h)}else u[0]=s.get(r,c),u[1]=s.get(l,c),d=i.dataToPoint(u,null,h);a[p++]=d[0],a[p++]=d[1]}e.setLayout("points",a)}}}}}),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,K("line"))},rt,lt,ut]),t("default",ct({__name:"index",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"200px"},dataZoom:{type:Boolean,default:!1},option:{type:Object,required:!0}},setup(t){const e=t,i=pt(null);function n(){if(null===i.value)return;let t=$.getInstanceByDom(i.value);null==t&&(t=$.init(i.value)),t.setOption(e.option,!0)}dt((()=>e.option),(t=>{t&&gt((()=>{n()}))}),{immediate:!0,deep:!0});const o=mt((function(){null!==i.value&&$.getInstanceByDom(i.value)?.resize()}),300,{maxWait:800});return yt((()=>{gt((()=>{n(),window.addEventListener("resize",o)}))})),ft((()=>{i.value&&($.getInstanceByDom(i.value)?.dispose(),window.removeEventListener("resize",o))})),(e,n)=>(vt(),bt("div",{ref_key:"chartRef",ref:i,style:St({width:_t(ht)(t.width),height:_t(ht)(t.height)})},null,4))}}))}}}));
