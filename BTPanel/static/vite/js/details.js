import{O as a,j as e,Z as s,ba as t,B as l,eE as i,a as d}from"./index.js?v=1723125373998";import{l as n,ad as c,r as o,k as p,R as r,X as x,S as v,Z as m,_ as u,a3 as _,F as b,ag as f,aj as y,W as h,P as k,V as H,al as U,b as g,$ as w,q as $,a5 as j,a6 as C}from"./vue.js?v=1723125373998";import{f as M,h as B,u as I}from"./index27.js?v=1723125373998";import{_ as z}from"./Checkbox.js?v=1723125373998";const L={class:"w-650px"},P={class:"card"},T={class:"mb-12px font-bold text-18px text-center"},Z={class:"min-h-172px text-13px"},q={class:"card"},E={class:"mb-10px text-16px text-center"},F={class:"h-180px overflow-auto"},O=(a=>(j("data-v-72768618"),a=a(),C(),a))((()=>u("div",{class:"active"},null,-1))),R={class:"date"},S={class:"text"},V=["innerHTML"],W={class:"font-bold"},X={class:"text-error"},A=d(n({__name:"details",emits:["close"],setup(d,{emit:n}){const j=n,{t:C}=c(),A=o(!1),D=o(5),G=p((()=>D.value>0)),J=p((()=>!A.value)),K=o([]),N=o([]),{height:Q}=r(),Y=p((()=>Q.value?"".concat(.9*Q.value,"px"):"auto")),aa=()=>{const a=setInterval((()=>{D.value--,D.value<=0&&clearInterval(a)}),1e3)},ea=()=>{j("close")},sa=()=>{s({title:C("Home.Update.index_24"),content:C("Home.Update.index_25"),onConfirm:async()=>{await B(),await I(),t()}})};return(async()=>{const{message:a}=await M();e(a)&&(K.value=a.beta_ps.split("<br>").map((a=>a.trim())),N.value=a.list,aa())})(),(e,s)=>{const t=x("i18n-t"),d=z,n=l,c=i;return v(),m("div",L,[u("div",{class:"p-20px overflow-auto",style:w({maxHeight:h(Y)})},[u("div",P,[u("div",T,_(e.$t("Home.Update.index_20")),1),u("ul",Z,[(v(!0),m(b,null,f(h(K),((a,e)=>(v(),m("li",{key:a,class:y(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},_(a),3)))),128))])]),u("div",q,[u("div",E,_(e.$t("Home.Update.index_21")),1),u("div",F,[(v(!0),m(b,null,f(h(N),(e=>(v(),m("div",{key:e.version,class:"version"},[O,u("div",R,_(h(a)(e.uptime,"yyyy-MM-dd")),1),u("div",S,_(e.version),1),u("div",{class:"content",innerHTML:e.upmsg},null,8,V)])))),128))])]),u("div",null,[k(d,{checked:h(A),"onUpdate:checked":s[0]||(s[0]=a=>g(A)?A.value=a:null),disabled:h(G)},{default:H((()=>[k(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23.0"},U({title:H((()=>[u("span",W,_(e.$t("Home.Update.index_23.1")),1)])),_:2},[h(D)>0?{name:"wait",fn:H((()=>[u("span",X,_(e.$t("Home.Update.index_23.2",[h(D)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),k(c,null,{default:H((()=>[k(n,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:ea},{default:H((()=>[$(_(e.$t("Public.Btn.Cancel")),1)])),_:1}),k(n,{type:"primary",size:"small",disabled:h(J),onClick:sa},{default:H((()=>[$(_(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-72768618"]]);export{A as B};
