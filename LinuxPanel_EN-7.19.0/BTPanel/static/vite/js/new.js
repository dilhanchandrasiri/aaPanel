const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index211.js?v=1732601582185","js/index96.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang.js?v=1732601582185","js/index99.js?v=1732601582185","css/index11.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang5.js?v=1732601582185","js/index97.js?v=1732601582185","css/index10.css?v=1732601582185","js/index230.js?v=1732601582185","js/index121.js?v=1732601582185","css/index17.css?v=1732601582185","js/index.js?v=1732601582185","css/index80.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185","css/index14.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang10.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185","js/site.js?v=1732601582185","js/index212.js?v=1732601582185","js/index215.js?v=1732601582185","css/index47.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang14.js?v=1732601582185","js/theme-chrome.js?v=1732601582185","js/file.js?v=1732601582185","js/index171.js?v=1732601582185","css/index21.css?v=1732601582185","js/index102.js?v=1732601582185","css/index15.css?v=1732601582185","css/index76.css?v=1732601582185","js/index210.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang13.js?v=1732601582185"])))=>i.map(i=>d[i]);
import{i as e,f as t,j as a,c as n,bI as i,bd as o,h as s,bJ as l,bK as d,bL as r,bM as c,I as _,a4 as u,bN as p}from"./page_layout.js?v=1732601582185";import{_ as m}from"./index121.js?v=1732601582185";import{_ as h}from"./index.js?v=1732601582185";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as w}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1732601582185";import{_ as g}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185";import{h as b}from"./site.js?v=1732601582185";import{u as k,v as x,h as v,d as P,x as S,y as C,l as O,f as N,b as R,a as W,n as I}from"./public.js?v=1732601582185";import{a6 as U,M as L,i as B,d as E,W as D,r as M,j as T,w as V,O as $,X as z,Y as A,R as H,Q as K,Z as J,c as F,ac as Q,ak as X}from"./vue.js?v=1732601582185";import{aa as Y,bJ as Z}from"./naive.js?v=1732601582185";const{t:q}=e.global;function G({onClick:e}){return{key:"ssl",title:q("Site.PHP.index_27"),width:"9%",minWidth:100,render:n=>{let i;const{ssl:o}=n;return t(o)?L(a,{type:o.endtime<0?"error":"primary",onClick:()=>{e(n)}},{default:()=>[o.endtime<0?q("Site.PHP.index_28"):q("Site.PHP.index_29",[o.endtime])]}):L(a,{type:"warning",onClick:()=>{e(n)}},"function"==typeof(s=i=q("WP.index_13"))||"[object Object]"===Object.prototype.toString.call(s)&&!B(s)?i:{default:()=>[i]});var s}}}const{t:ee}=e.global,te=()=>{x({name:"nodejs",title:ee("Node.index_3"),admin:!0})},ae=E({__name:"new",setup(e){const x=U((()=>n((()=>import("./index211.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28])))),B=U((()=>n((()=>import("./index212.js?v=1732601582185").then((e=>e.i))),__vite__mapDeps([29,2,3,4,5,6,7,8,9,30,31,21,22,23,25,26,11,12,1,32,33,34,10,13,14,15,16,35,36,37,38,28,19,20,39])))),E=i(),ee=o(),{t:ae}=D(),ne=M(!0),ie=()=>{I("nodejs",(()=>{ye()}))},oe=v(ae("Node.index_2")),se=v(),le=(e,t={})=>{se.title=ae("Site.PHP.index_13",[e.name,e.addtime]),se.data.siteInfo=e,se.data.config=Object.assign({menu:"",subMenu:""},t),se.show=!0},de=()=>{oe.show=!0},{keys:re,table:ce,columns:_e}=P([{type:"selection",width:40},{key:"name",title:ae("Site.TableRow.index_2"),width:"12%",ellipsis:{tooltip:{width:"trigger"}},render:e=>L(a,{onClick:()=>{le(e)}},{default:()=>[e.name]})},S({key:"run",width:"8%",checkedValue:!0,uncheckedValue:!1,minWidth:86,confirm:(e,t)=>({title:"".concat(ae(e?"Public.Status.Start":"Public.Status.Stop")," ").concat(ae("Node.index_5")),content:()=>{const a=ae("Node.index_6",[t.name]),n=ae("Node.index_7",[t.name]);return e?a:n},onConfirm:async({hide:a})=>{e?await l({project_name:t.name}):await d({project_name:t.name}),t.run=e,a()}})}),{key:"pid",title:"PID",width:"6%",minWidth:100,render:e=>0===Object.keys(e.load_info).length?"--":Object.keys(e.load_info).join(",")},{key:"cpu",title:"CPU",width:"6%",minWidth:70,render:e=>{if(!Object.keys(e.load_info).length)return"--";const t=Object.values(e.load_info).reduce(((e,{cpu_percent:t})=>e+t),0);return"".concat(t.toFixed(2),"%")}},{key:"ram",title:"RAM",width:"6%",minWidth:70,render:e=>{if(!Object.keys(e.load_info).length)return"--";const t=Object.values(e.load_info).reduce(((e,{memory_used:t})=>e+t),0);return s(t)}},C({minWidth:120}),{key:"noproject_config",title:ae("Node.index_8"),width:"9%",minWidth:100,render:e=>e.project_config.nodejs_version},O({width:"12%",onBlur:async(e,t)=>{await b({id:t.id,ps:e})}}),G({onClick:e=>{le(e,{menu:"ssl"})}}),N({width:150,options:e=>[{label:ae("Public.Btn.Set"),onClick:()=>{le(e)}},{label:ae("Public.Btn.Del"),onClick:()=>{W({title:ae("Node.index_9"),content:ae("Node.index_10",[e.name]),onConfirm:async({hide:t})=>{await r({project_name:e.name}),fe(),t()}})}}]})]),ue=[{key:"delete",label:ae("Site.Batch.index_10"),onBatch:e=>{!function(e){k({title:q("Site.Cert.index_57"),width:480,footer:!0,data:{rows:e},component:U((()=>n((()=>import("./index210.js?v=1732601582185")),__vite__mapDeps([40,2,3,4,5,6,7,8,9,41]))))})}(e)}}],pe=T({p:1,limit:10,search:""}),{loading:me,setLoading:he}=R(),fe=async()=>{try{he(!0);const e={...X(pe)},{message:a}=await c(e);t(a)&&(ce.data=_(a.data)?a.data:[],ce.total=u(a.page))}finally{re.value=[],he(!1)}};V((()=>E.isRefresh),(e=>{e&&(E.setRefresh(!1),fe())}));const ye=async()=>{await(async()=>{try{await p({name:"nodejs"})}catch(e){ne.value="string"==typeof e}})(),await ee.getConfig(),fe()};return ye(),(e,t)=>{const n=Y,i=j,o=g,s=w,l=y,d=f,r=h,c=Z,_=m;return $(),z(_,{install:H(ne)},{desc:A((()=>[K("span",null,J(e.$t("Node.index_1"))+"ï¼Œ",1),L(a,{class:"ml-4px",onClick:ie},{default:A((()=>[F(J(e.$t("Public.Btn.Install")),1)])),_:1})])),default:A((()=>[L(c,null,{default:A((()=>[L(d,{class:"p-16px"},{toolsLeft:A((()=>[L(n,{type:"primary",onClick:de},{default:A((()=>[F(J(e.$t("Node.index_2")),1)])),_:1}),L(n,{onClick:H(te)},{default:A((()=>[F(J(e.$t("Node.index_3")),1)])),_:1},8,["onClick"])])),toolsRight:A((()=>[L(i,{value:H(pe).search,"onUpdate:value":t[0]||(t[0]=e=>H(pe).search=e),width:"300",placeholder:e.$t("Node.index_4"),onSearch:fe},null,8,["value","placeholder"])])),table:A((()=>[L(o,{"checked-row-keys":H(re),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Q(re)?re.value=e:null),loading:H(me),data:H(ce).data,columns:H(_e)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:A((()=>[L(s,{"checked-row-keys":H(re),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Q(re)?re.value=e:null),data:H(ce).data,options:ue},null,8,["checked-row-keys","data"])])),pageRight:A((()=>[L(l,{page:H(pe).p,"onUpdate:page":t[3]||(t[3]=e=>H(pe).p=e),"page-size":H(pe).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>H(pe).limit=e),"item-count":H(ce).total,onRefresh:fe},null,8,["page","page-size","item-count"])])),_:1}),L(r,{show:H(oe).show,"onUpdate:show":t[5]||(t[5]=e=>H(oe).show=e),title:H(oe).title,width:640,height:730,footer:!0,component:H(x)},null,8,["show","title","component"]),L(r,{show:H(se).show,"onUpdate:show":t[6]||(t[6]=e=>H(se).show=e),title:H(se).title,data:H(se).data,width:860,height:720,component:H(B)},null,8,["show","title","data","component"])])),_:1})])),_:1},8,["install"])}}}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ne as _,te as o};
