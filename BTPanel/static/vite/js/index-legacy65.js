System.register(["./index-legacy144.js?v=1723125373998","./index-legacy73.js?v=1723125373998","./index-legacy.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./useLoading-legacy.js?v=1723125373998","./site-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1723125373998","./Switch-legacy.js?v=1723125373998","./Tabs-legacy.js?v=1723125373998","./omit-legacy.js?v=1723125373998","./Ellipsis-legacy.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./Tag-legacy.js?v=1723125373998","./Empty-legacy.js?v=1723125373998"],(function(a,e){"use strict";var t,n,l,s,i,p,d,o,u,r,c,m,v,b,h,_,x,y,g,f,w,D,$,k,j,C,S,P,U,B,E,T,q,L,N,z,H,I,A,F,G,M,O,R,V,W,Z,J,K,Q,X,Y,aa,ea;return{setters:[a=>{t=a._},a=>{n=a._},a=>{l=a.cO,s=a.au,i=a.h,p=a.dj,d=a.n,o=a.cH,u=a.ao,r=a.b8,c=a.dk,m=a.j,v=a.p,b=a.B,h=a.a,_=a.k,x=a.dl,y=a.G,g=a.dm,f=a.dn,w=a.dp,D=a.dq,$=a.dr,k=a.cn,j=a.ds,C=a.cG,S=a.ae},a=>{P=a.A,U=a.a,B=a.l,E=a.ad,T=a.r,q=a.S,L=a.Z,N=a._,z=a.P,H=a.V,I=a.q,A=a.a3,F=a.W,G=a.a5,M=a.a6,O=a.f,R=a.b,V=a.F,W=a.af,Z=a.d},a=>{J=a._},a=>{K=a.u},a=>{Q=a.ao},a=>{X=a._},a=>{Y=a._,aa=a.a},a=>{ea=a._},null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent=".n-button[data-v-1a5b087a]{padding:0 24px;--n-height: 40px;--n-border-radius: 2px;--n-color: #eee;--n-text-color: #333;--n-border: none;--n-color-hover: #20a53a;--n-border-hover: 1px solid #20a53a;--n-text-color-hover: #fff;--n-color-focus: #20a53a;--n-text-color-focus: #fff;--n-border-focus: 1px solid #20a53a}.bg-recommend[data-v-1a5b087a]{position:absolute;width:32px;height:32px;top:-1px;left:-1px;background-image:url(/static/vite/images/recommend.svg);background-repeat:no-repeat;background-position:center;background-size:contain}\n",document.head.appendChild(e);const ta=Symbol("php-admin");function na(a,e,t,n){return new Promise((l=>{const s=`${a}/index.php?lang=en`,i=document.createElement("form"),p=`\n\t\t\t<input type="text" name="pma_username" id="pma_username" value="${t}" />\n\t\t\t<input type="password" name="pma_password" id="pma_password" value="${n}" />\n\t\t\t<input type="text" name="server" value="1" />\n\t\t\t<input type="text" name="target" value="index.php" />\n\t\t\t<input type="text" name="db" id="db" value="${e}" />\n\t\t`;i.action=s,i.setAttribute("public-data",s),i.method="post",i.target="_blank",i.style.display="none",i.innerHTML=p,document.body.appendChild(i),i.submit(),document.body.removeChild(i),l(i)}))}async function la(a,e){const{data:t}=await l.get("/phpmyadmin/index.php?lang=en"),n={session:"",token:""},s=t.match(/"set_session"\s+value="(\w+)"/),i=t.match(/"token"\s+value="(\w+)"/);s&&s.length>1&&(n.session=s[1]||""),i&&i.length>1&&(n.token=i[1]||"");const p=document.createElement("form");p.action="/phpmyadmin/index.php",p.method="post",p.target="_blank",p.style.display="none";const d=`\n\t\t<input  name="set_session" id="input_session" value="${n.session}" />\n\t\t<input type="text" name="pma_username" id="pma_username" value="${a}" size="24" />\n\t\t<input type="password" name="pma_password" id="pma_password" value="${e}" size="24" />\n\t\t<input  name="token" id="input_token" value="${n.token}" />\n\t\t<input  name="target" id="input_target" value="index.php" />\n\t\t<input  name="server" value="1" id="input_server" />\n\t`;p.innerHTML=d,document.body.appendChild(p),p.submit(),document.body.removeChild(p)}const sa={class:"p-4px"},ia={class:"mb-16px"},pa={class:"text-error"},da={class:"mt-20px"},oa=(a=>(G("data-v-1a5b087a"),a=a(),M(),a))((()=>N("span",{class:"bg-recommend"},null,-1))),ua="phpmyadmin",ra=B({__name:"index",setup(a,{expose:e}){const{t:t}=E(),l=s(),{mysqlInfo:h}=U(ta),_=T(!1),x=a=>{i({title:t("Database.phpadmin.index_12",[t(a?"Public.Status.Start":"Public.Status.Stop")]),content:t("Database.phpadmin.index_13",[t(a?"Public.Status.start":"Public.Status.stop")]),onConfirm:async()=>{await p({name:ua,type:a?"start":"stop"}),g()}})},y=async a=>{const e=d.loading(t("Database.phpadmin.index_14"));try{const{message:n}=await o({sName:ua}),s=u(n,"ext.url",""),i=u(n,"ext.auth",!1);if("panel"==a){if(i)return d.error(t("Database.phpadmin.index_15")),void e.close();if(l.isFree)return r({source:160}),void e.close();if(h.value)await la(h.value.username,h.value.password);else{const{message:a}=await c(),e=u(a,"result","");await la("root",e)}}else if(h.value)await na(s,h.value.name,h.value.username,h.value.password);else{const{message:a}=await c(),e=u(a,"result","");await na(s,"","root",e)}e.close()}catch(n){e.close(),console.error(n)}},g=async()=>{const{message:a}=await o({sName:ua});m(a)&&(_.value=a.status)};return g(),e({init:g}),(a,e)=>{const t=J,l=n,s=v,i=b;return q(),L("div",sa,[N("div",ia,[z(t,{checked:F(_),"onUpdate:checked":x},{default:H((()=>[I(A(a.$t("Database.phpadmin.index_4")),1)])),_:1},8,["checked"])]),z(l,{class:"mb-20px"},{default:H((()=>[N("li",pa,A(a.$t("Database.phpadmin.index_5")),1)])),_:1}),z(s,{dashed:""}),N("div",da,[z(i,{onClick:e[0]||(e[0]=a=>y("panel"))},{default:H((()=>[N("span",null,A(a.$t("Database.phpadmin.index_11")),1),oa])),_:1}),z(i,{class:"ml-24px",onClick:e[1]||(e[1]=a=>y())},{default:H((()=>[I(A(a.$t("Database.phpadmin.index_6")),1)])),_:1})]),z(l,{class:"mt-16px"},{default:H((()=>[N("li",null,A(a.$t("Database.phpadmin.index_7")),1),N("li",null,A(a.$t("Database.phpadmin.index_8")),1),N("li",null,A(a.$t("Database.phpadmin.index_9")),1),N("li",null,A(a.$t("Database.phpadmin.index_10")),1)])),_:1})])}}}),ca=h(ra,[["__scopeId","data-v-1a5b087a"]]),ma={class:"w-160px"},va=B({__name:"index",setup(a,{expose:e}){const{t:t}=E(),n=O({php_version:null}),l=T([]),{loading:s,setLoading:i}=K(),p=async()=>{try{i(!0);const[a,e]=await Promise.all([Q(),o({sName:"phpmyadmin"})]),{message:t}=a;_(t)&&(l.value=t.map((a=>({label:a.name,value:a.version}))));const{message:s}=e;n.php_version=u(s,"ext.phpversion",null)}finally{i(!1)}},r=async()=>{const a=n.php_version;null!==a?(await x({phpversion:a}),p()):d.error(t("Database.phpadmin.index_32"))};return p(),e({init:p}),(a,e)=>{const t=X,i=b,p=y;return q(),L("div",null,[z(p,{class:"items-center"},{default:H((()=>[N("span",null,A(a.$t("Database.phpadmin.index_31")),1),N("div",ma,[z(t,{value:F(n).php_version,"onUpdate:value":e[0]||(e[0]=a=>F(n).php_version=a),loading:F(s),options:F(l)},null,8,["value","loading","options"])]),z(i,{type:"primary",onClick:r},{default:H((()=>[I(A(a.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])}}}),ba={class:"p-4px"},ha={class:"w-142px mr-8px"},_a={class:"w-142px mr-8px"},xa={class:"w-240px"},ya={class:"w-240px"},ga={class:"w-240px"},fa=B({__name:"index",setup(a,{expose:e}){const{t:t}=E(),l=T(null),s=T(!1),p=T(null),r=T(!1);let c=!1;const m=O({username:"",password:"",repass:""}),h=async()=>{const a=l.value;null!==a?(await g({port:a}),B()):d.error(t("Database.phpadmin.index_25"))},_=async a=>{await f({v:a?1:0}),M()},x=async()=>{const a=p.value;null!==a?(await w({port:a}),M()):d.error(t("Database.phpadmin.index_26"))},y=a=>{!a&&c?i({title:t("Public.Confirm.Title"),content:t("Database.phpadmin.index_27"),onConfirm:async()=>{await D(),B()}}):r.value=a},P=async()=>{""!==m.password.trim()&&""!==m.username.trim()?m.password.length<3||m.username.length<3?d.error(t("Database.phpadmin.index_29")):m.password===m.repass?(await $({username:m.username,password:m.password}),B()):d.error(t("Database.phpadmin.index_30")):d.error(t("Database.phpadmin.index_28"))},U=T(!1),B=async()=>{try{U.value=!0;const{message:a}=await o({sName:"phpmyadmin"}),e=u(a,"ext.port",null);l.value=e?k(e):null,r.value=u(a,"ext.auth",!1),c=r.value}finally{U.value=!1}},G=T(!1),M=async()=>{try{G.value=!0;const{message:a}=await j();s.value=u(a,"status",!1);const e=u(a,"port",null);p.value=e?k(e):null}finally{G.value=!1}},Z=()=>{Promise.all([B(),M()])};return Z(),e({init:Z}),(a,e)=>{const t=C,i=b,d=Y,o=v,u=ea,c=S,g=n,f=aa;return q(),L("div",ba,[z(f,{"label-width":"160"},{default:H((()=>[z(d,{label:a.$t("Database.phpadmin.index_16")},{default:H((()=>[N("div",ha,[z(t,{value:F(l),"onUpdate:value":e[0]||(e[0]=a=>R(l)?l.value=a:null),min:0,max:66325,"show-button":!1,loading:F(U),placeholder:""},null,8,["value","loading"])]),z(i,{type:"primary",onClick:h},{default:H((()=>[I(A(a.$t("Public.Btn.Save")),1)])),_:1})])),_:1},8,["label"]),z(o,{dashed:""}),z(d,{class:"mt-20px",label:a.$t("Database.phpadmin.index_17")},{default:H((()=>[z(u,{value:F(s),loading:F(G),"onUpdate:value":_},null,8,["value","loading"])])),_:1},8,["label"]),z(d,{label:a.$t("Database.phpadmin.index_18")},{default:H((()=>[N("div",_a,[z(t,{value:F(p),"onUpdate:value":e[1]||(e[1]=a=>R(p)?p.value=a:null),min:0,max:66325,"show-button":!1,loading:F(G),placeholder:""},null,8,["value","loading"])]),z(i,{type:"primary",onClick:x},{default:H((()=>[I(A(a.$t("Public.Btn.Save")),1)])),_:1})])),_:1},8,["label"]),z(o,{dashed:""}),z(d,{class:"mt-20px",label:a.$t("Database.phpadmin.index_19")},{default:H((()=>[z(u,{value:F(r),loading:F(U),"onUpdate:value":y},null,8,["value","loading"])])),_:1},8,["label"]),F(r)?(q(),L(V,{key:0},[z(d,{label:a.$t("Database.phpadmin.index_20")},{default:H((()=>[N("div",xa,[z(c,{value:F(m).username,"onUpdate:value":e[2]||(e[2]=a=>F(m).username=a),placeholder:a.$t("Database.phpadmin.index_23")},null,8,["value","placeholder"])])])),_:1},8,["label"]),z(d,{label:a.$t("Database.phpadmin.index_21")},{default:H((()=>[N("div",ya,[z(c,{value:F(m).password,"onUpdate:value":e[3]||(e[3]=a=>F(m).password=a),type:"password",placeholder:a.$t("Database.phpadmin.index_23")},null,8,["value","placeholder"])])])),_:1},8,["label"]),z(d,{label:a.$t("Database.phpadmin.index_22")},{default:H((()=>[N("div",ga,[z(c,{value:F(m).repass,"onUpdate:value":e[4]||(e[4]=a=>F(m).repass=a),type:"password",placeholder:a.$t("Database.phpadmin.index_23")},null,8,["value","placeholder"])])])),_:1},8,["label"]),z(d,{label:" "},{default:H((()=>[z(i,{type:"primary",onClick:P},{default:H((()=>[I(A(a.$t("Public.Btn.Save")),1)])),_:1})])),_:1})],64)):W("",!0),z(g,null,{default:H((()=>[N("li",null,A(a.$t("Database.phpadmin.index_24")),1)])),_:1})])),_:1})])}}}),wa={class:"h-580px"};a("default",B({__name:"index",props:{row:{default:void 0}},setup(a){const e=Z(a,"row"),{t:n}=E(),l=T("service"),s=[{key:"service",label:n("Database.phpadmin.index_1"),component:ca},{key:"php",label:n("Database.phpadmin.index_2"),component:va},{key:"safe",label:n("Database.phpadmin.index_3"),component:fa}];return P(ta,{mysqlInfo:e}),(a,e)=>{const n=t;return q(),L("div",wa,[z(n,{value:F(l),"onUpdate:value":e[0]||(e[0]=a=>R(l)?l.value=a:null),ref:"tabsRef",data:s},null,8,["value"])])}}}))}}}));
