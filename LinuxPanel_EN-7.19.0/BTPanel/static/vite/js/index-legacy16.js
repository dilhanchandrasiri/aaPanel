System.register(["./page_layout-legacy.js?v=1732601582185","./index-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1732601582185","./public-legacy.js?v=1732601582185","./index-legacy120.js?v=1732601582185","./hooks-legacy.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1732601582185","./index-legacy121.js?v=1732601582185"],(function(e,a){"use strict";var t,n,l,i,s,d,c,o,u,_,p,r,y,g,b,h,m,k,x,f,v,w,j,D,C,R,$,U,W,B,S,z,I,L,O,P,q,H,K,G,J,M,Q,X,Y,Z,A,E,F,N,T,V,ee,ae;return{setters:[e=>{t=e.i,n=e.j,l=e.aa,i=e.ab,s=e.ac,d=e.af,c=e.f,o=e.I,u=e.a4,_=e.ae,p=e.l,r=e.c,y=e.n},e=>{g=e._},e=>{b=e._},e=>{h=e._},e=>{m=e._},e=>{k=e._},e=>{x=e._},e=>{f=e.j,v=e.h,w=e.d,j=e.l,D=e.f,C=e.a,R=e.b},e=>{$=e.a,U=e.b,W=e.c,B=e.u,S=e.d,z=e._,I=e.e,L=e.f,O=e.g},e=>{P=e.g},e=>{q=e.M,H=e.c,K=e.i,G=e.d,J=e.W,M=e.j,Q=e.w,X=e.O,Y=e.X,Z=e.Y,A=e.R,E=e.ak,F=e.Q,N=e.Z,T=e.ac,V=e.a6},e=>{ee=e.aa,ae=e.bJ},null,null,null,null],execute:function(){const{t:te}=t.global;function ne(){return{key:"password",title:te("Database.index_14"),minWidth:150,render:e=>q(f,{value:e.password},null)}}function le(){return{key:"backup_count",title:te("Database.index_16"),width:"12%",render:e=>{let a;return q("div",{class:"flex items-center"},[q(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{$(e)}},{default:()=>[e.backup_count>0?`${te("Database.mongo.index_7")}(${e.backup_count})`:te("Database.index_18")]}),q("span",{class:"mx-4px"},[H("|")]),q(n,{onClick:()=>{U(e)}},(t=a=te("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!K(t)?a:{default:()=>[a]}))]);var t}}}function ie(){return{key:"sid",title:te("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>P(e)}}const se={class:"p-16px"};e("default",G({__name:"index",setup(e){const t=V((()=>r((()=>a.import("./index-legacy127.js?v=1732601582185")),void 0))),{t:n}=J(),f=l(),$=v(),U=()=>{$.show=!0},P=()=>{L()},K=()=>{O()},G=async()=>{await i(f.type,{ids:[]}),re()},te=M({p:1,limit:10,sid:-1,search:""}),{keys:de,table:ce,columns:oe}=w([{type:"selection",width:40},{key:"name",title:n("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:n("Database.index_13"),width:"12%",minWidth:120},ne(),le(),ie(),j({onBlur:async(e,a)=>{await _({id:a.id,ps:e})}}),D({width:100,options:e=>[{label:"CHG PW",onClick:()=>{B(e)}},{label:n("Public.Btn.Del"),onClick:()=>{W([e])}}]})]),ue=[{key:"sync",label:n("Database.index_24"),onBatch:e=>{C({title:n("Database.index_25"),content:n("Database.index_26"),onConfirm:async({hide:a})=>{await i(f.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:n("Database.index_27"),confirm:{title:n("Database.index_28"),desc:n("Database.index_29"),api:e=>s(f.type,{id:e.id},!1),done:()=>{re()},columns:[{key:"name",title:n("Database.index_12")}]}},{key:"delete",label:n("Database.index_30"),onBatch:e=>{W(e)}}],{loading:_e,setLoading:pe}=R(),re=async()=>{try{pe(!0);const{message:e}=await d(f.type,(()=>{const e={...E(te)};return-1===e.sid&&delete e.sid,e})());c(e)?(ce.data=o(e.data)?e.data:[],ce.total=u(e.page)):(ce.data=[],ce.total=0)}finally{de.value=[],pe(!1)}};return Q((()=>f.isRefresh),(e=>{e&&(f.setRefresh(!1),f.delRemoteId===te.sid&&(te.sid=-1),re())})),(async()=>{await f.getRemote(),f.install?re():p()})(),(e,a)=>{const n=ee,l=y,i=x,s=k,d=m,c=h,o=b,u=g,_=ae;return X(),Y(A(I),null,{default:Z((()=>[q(_,null,{default:Z((()=>[F("div",se,[q(o,null,{toolsLeft:Z((()=>[q(n,{type:"primary",onClick:U},{default:Z((()=>[H(N(e.$t("Database.index_1")),1)])),_:1}),q(n,{onClick:P},{default:Z((()=>[H(N(e.$t("Database.index_2")),1)])),_:1}),q(n,{onClick:K},{default:Z((()=>[H(N(e.$t("Database.index_4")),1)])),_:1}),q(l,{class:"mx-0!",vertical:""}),q(n,{onClick:G},{default:Z((()=>[H(N(e.$t("Database.index_5")),1)])),_:1}),q(n,{onClick:A(S)},{default:Z((()=>[H(N(e.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:Z((()=>[q(A(z),{value:A(te).sid,"onUpdate:value":a[0]||(a[0]=e=>A(te).sid=e),"store-key":"database-pgsql-page",onChange:re},null,8,["value"]),q(i,{value:A(te).search,"onUpdate:value":a[1]||(a[1]=e=>A(te).search=e),placeholder:"Database search",onSearch:re},null,8,["value"])])),table:Z((()=>[q(s,{"checked-row-keys":A(de),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>T(de)?de.value=e:null),loading:A(_e),data:A(ce).data,columns:A(oe)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Z((()=>[q(d,{"checked-row-keys":A(de),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>T(de)?de.value=e:null),data:A(ce).data,options:ue},null,8,["checked-row-keys","data"])])),pageRight:Z((()=>[q(c,{page:A(te).p,"onUpdate:page":a[4]||(a[4]=e=>A(te).p=e),"page-size":A(te).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>A(te).limit=e),"store-key":"database-pgsql-page","item-count":A(ce).total,onRefresh:re},null,8,["page","page-size","item-count"])])),_:1}),q(u,{show:A($).show,"onUpdate:show":a[6]||(a[6]=e=>A($).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:A(t)},null,8,["show","title","component"])])])),_:1})])),_:1})}}}))}}}));
