System.register(["./vue-legacy.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./public-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185"],(function(t,e){"use strict";var n,i,s,o,a,c,u,l,r,d,_,k,m,h,p,w,y,g;return{setters:[t=>{n=t.a3,i=t.W,s=t.r,o=t.j,a=t.M,c=t.c,u=t.F},t=>{l=t.h,r=t.b$,d=t.a1,_=t.c0,k=t.bT,m=t.f},t=>{h=t.b,p=t.f,w=t.z,y=t.a},t=>{g=t.aV}],execute:function(){t("u",n("diskStore",(()=>{const{t:t}=i(),{loading:e,setLoading:n}=h(),f=s({device:"",mountpoint:"",fstype:"",total:0,used:0,free:0,used_percent:0,inodes_total:0,inodes_used:0,inodes_free:0,inodes_used_percent:0,is_group_quota:!1,is_user_quota:!1,is_default:!1,account_allocate:0,account_percent:0}),v=o({data:[]}),D=s(!1),A=s([{title:t("Account.Disk.whm_disk_810348-0"),key:"mountpoint"},{title:t("Account.Disk.whm_disk_810348-1"),key:"device"},{title:t("Account.Disk.whm_disk_810348-9"),key:"is_group_quota",render:e=>e.is_user_quota?a("span",null,[t("Account.Disk.whm_disk_810348-10")]):a("div",null,[a("span",{class:"text-warning"},[t("Account.Disk.whm_disk_810348-11")]),c(" | "),a("span",{class:"text-primary cursor-pointer",onClick:()=>async function(t){await _(t),j()}(e.mountpoint)},[t("Account.Disk.whm_disk_810348-12")])])},{title:t("Account.Disk.whm_disk_810348-2"),key:"total",width:120,render:t=>l(t.total)},{title:t("Account.Disk.whm_disk_810348-3"),key:"used",render:t=>{const e=Math.round(t.used_percent);return a(u,null,[a("div",{class:"mb-[.2rem]"},[e,c("% / "),l(t.used)]),a(g,{height:10,color:C(e),percentage:e,showIndicator:!1},null)])}},p({title:t("Public.Table.Action"),align:"right",width:200,options:e=>[{label:t("Account.Disk.whm_disk_810348-4"),show:e.is_default&&!D.value,disabled:!0},{label:"重启服务",show:e.is_default&&D.value,type:"warning",onClick:async()=>w()},{label:t("Account.Disk.whm_disk_810348-5"),show:!e.is_default,onClick:async()=>{y({title:t("Account.Disk.whm_disk_810348-6"),content:t("Account.Disk.whm_disk_810348-7",[e.mountpoint]),onConfirm:async()=>{await r({mountpoint:e.mountpoint}),D.value=!0,j()}})}}]})]),b=d(),C=t=>{const e=Math.round(t);return e>80?b.value.errorColor:e>60?b.value.warningColor:b.value.primaryColor},j=async()=>{try{n(!0);const t=await k();if(m(t)){v.data=t.message;const e=t.message.find((t=>t.is_default));if(e){const t={...e};t.account_percent=Math.round(t.account_allocate/t.total*100),f.value=t}}}finally{n(!1)}};return{loading:e,DefaultDisk:f,init:j,columns:A,table:v,diskColor:C}})))}}}));
