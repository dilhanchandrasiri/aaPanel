import{a}from"./index.js?v=1732601582185";import{d as e,W as s,r as t,e as l,aj as i,$ as n,O as d,P as c,Q as o,Z as p,F as r,L as m,ad as v,R as x,M as u,Y as _,ax as f,ac as b,H as y,c as H}from"./vue.js?v=1732601582185";import{S as h,f as k,E as U,k as g}from"./page_layout.js?v=1732601582185";import{n as j,o as w,u as $}from"./home.js?v=1732601582185";import{q as M}from"./public.js?v=1732601582185";import{_ as C,aa as I}from"./naive.js?v=1732601582185";const L={class:"w-650px"},z={class:"card"},B={class:"mb-12px font-bold text-18px text-center"},P={class:"min-h-172px text-13px"},T={class:"card"},q={class:"mb-10px text-16px text-center"},E={class:"h-180px overflow-auto"},F={class:"date"},O={class:"text"},Q=["innerHTML"],R={class:"font-bold"},S={class:"text-error"},W=g(e({__name:"details",emits:["close"],setup(e,{emit:g}){const W=g,{t:Y}=s(),Z=t(!1),A=t(5),D=l((()=>A.value>0)),G=l((()=>!Z.value)),J=t([]),K=t([]),{height:N}=i(),V=l((()=>N.value?"".concat(.9*N.value,"px"):"auto")),X=()=>{const a=setInterval((()=>{A.value--,A.value<=0&&clearInterval(a)}),1e3)},aa=()=>{W("close")},ea=()=>{M({title:Y("Home.Update.index_24"),content:Y("Home.Update.index_25"),onConfirm:async()=>{await w(),await $(),U()}})};return(async()=>{const{message:a}=await j();k(a)&&(J.value=a.beta_ps.split("<br>").map((a=>a.trim())),K.value=a.list,X())})(),(e,s)=>{const t=n("i18n-t"),l=C,i=I,k=a;return d(),c("div",L,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:x(V)})},[o("div",z,[o("div",B,p(e.$t("Home.Update.index_20")),1),o("ul",P,[(d(!0),c(r,null,m(x(J),((a,e)=>(d(),c("li",{key:a,class:v(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},p(a),3)))),128))])]),o("div",T,[o("div",q,p(e.$t("Home.Update.index_21")),1),o("div",E,[(d(!0),c(r,null,m(x(K),(a=>(d(),c("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",F,p(x(h)(a.uptime,"yyyy-MM-dd")),1),o("div",O,p(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,Q)])))),128))])]),o("div",null,[u(l,{checked:x(Z),"onUpdate:checked":s[0]||(s[0]=a=>b(Z)?Z.value=a:null),disabled:x(D)},{default:_((()=>[u(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},f({title:_((()=>[o("span",R,p(e.$t("Home.Update.index_23_2")),1)])),_:2},[x(A)>0?{name:"wait",fn:_((()=>[o("span",S,p(e.$t("Home.Update.index_23_3",[x(A)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),u(k,null,{default:_((()=>[u(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:_((()=>[H(p(e.$t("Public.Btn.Cancel")),1)])),_:1}),u(i,{type:"primary",size:"small",disabled:x(G),onClick:ea},{default:_((()=>[H(p(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-85ccd2a6"]]);export{W as B};
