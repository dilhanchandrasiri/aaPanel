const __vite__fileDeps=["js/index128.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","css/index34.css?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{O as a,g as t,h as e,j as s,k as i,m as l,r as o,q as n,v as r}from"./index.js?v=1723125373998";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import{u,_ as d}from"./useTableData.js?v=1723125373998";import{b as _}from"./useTableColumns.js?v=1723125373998";import{o as c,p as h,q as j}from"./mail.js?v=1723125373998";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1723125373998";import{l as g,ad as x,r as w,f as b,P as y,q as v,x as E,S as k,U as M,V as C,a3 as T,W as D,a1 as L}from"./vue.js?v=1723125373998";import{_ as P}from"./InputGroupLabel.js?v=1723125373998";import{_ as R}from"./InputGroup.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998";import"./DataTable.js?v=1723125373998";import"./Checkbox.js?v=1723125373998";import"./Ellipsis.js?v=1723125373998";import"./Select.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";import"./omit.js?v=1723125373998";import"./data.js?v=1723125373998";import"./Skeleton.js?v=1723125373998";import"./Progress.js?v=1723125373998";import"./Switch.js?v=1723125373998";const S=g({__name:"index",setup(g){const S=L((()=>r((()=>import("./index128.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5])))),{t:U}=x(),W=w(),q=b({p:1,username:null}),{table:I,columns:G}=u([{key:"from",title:U("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:U("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const t=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return y("span",{class:"cursor-pointer",onClick:()=>{V(a)}},[y("a",{class:"bt-link"},[a.subject]),y("span",{class:"text-desc"},[v(" - "),t||a.body])])}},{key:"time",title:U("Mail.Email.index_4"),width:"12%",minWidth:140,render:t=>a(t.time)},_({width:150,options:a=>[{label:U("Mail.Email.index_5"),onClick:()=>{V(a)}},{label:U("Mail.Email.index_6"),onClick:()=>{A(a)}},{label:U("Public.Btn.Del"),onClick:()=>{B(a)}}]})]),O=t(),V=a=>{O.data.row=a,O.title=U("Mail.Email.index_7",[a.subject]),O.show=!0},A=a=>{e({title:U("Mail.Email.index_8"),content:U("Mail.Email.index_9"),onConfirm:async()=>{await c({path:a.path,username:q.username||""}),$()}})},B=async a=>{await h({path:a.path}),$()},$=async()=>{try{I.loading=!0;const{message:a}=await j({p:q.p,username:q.username||""});s(a)&&(I.data=i(a.data)?a.data:[],I.total=l(a.page))}finally{I.loading=!1}},z=()=>{q.p=1,$()};return E((async()=>{await W.value.getList()})),(a,t)=>{const e=P,s=R,i=d,l=m,r=p,u=n,_=o;return k(),M(_,{class:"p-16px"},{default:C((()=>[y(r,null,{toolsLeft:C((()=>[y(s,{class:"w-460px"},{default:C((()=>[y(e,null,{default:C((()=>[v(T(a.$t("Mail.Email.index_1")),1)])),_:1}),y(f,{ref_key:"senderRef",ref:W,value:D(q).username,"onUpdate:value":[t[0]||(t[0]=a=>D(q).username=a),z]},null,8,["value"])])),_:1})])),table:C((()=>[y(i,{loading:D(I).loading,data:D(I).data,columns:D(G)},null,8,["loading","data","columns"])])),pageRight:C((()=>[y(l,{page:D(q).p,"onUpdate:page":t[1]||(t[1]=a=>D(q).p=a),"item-count":D(I).total,onRefresh:$},null,8,["page","item-count"])])),_:1}),y(u,{show:D(O).show,"onUpdate:show":t[2]||(t[2]=a=>D(O).show=a),title:D(O).title,data:D(O).data,width:850,height:680,component:D(S)},null,8,["show","title","data","component"])])),_:1})}}});export{S as default};
