const __vite__fileDeps=["js/index128.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","css/index34.css?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{O as t,g as a,j as e,k as s,m as i,r as l,q as o,v as n}from"./index.js?v=1723125373998";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import{u as m,_ as u}from"./useTableData.js?v=1723125373998";import{b as d}from"./useTableColumns.js?v=1723125373998";import{p as _,v as c}from"./mail.js?v=1723125373998";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1723125373998";import{l as g,ad as h,r as f,f as x,P as w,q as b,x as v,S as y,U as k,V as E,a3 as M,W as C,a1 as T}from"./vue.js?v=1723125373998";import{_ as D}from"./InputGroupLabel.js?v=1723125373998";import{_ as L}from"./InputGroup.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998";import"./DataTable.js?v=1723125373998";import"./Checkbox.js?v=1723125373998";import"./Ellipsis.js?v=1723125373998";import"./Select.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";import"./omit.js?v=1723125373998";import"./data.js?v=1723125373998";import"./Skeleton.js?v=1723125373998";import"./Progress.js?v=1723125373998";import"./Switch.js?v=1723125373998";const P=g({__name:"index",setup(g){const P=T((()=>n((()=>import("./index128.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5])))),{t:R}=h(),S=f(),U=x({p:1,username:null}),{table:W,columns:I}=m([{key:"from",title:R("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:R("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:t=>{const a=t.html.replace(/[^\u4e00-\u9fa5]/g,"");return w("span",{class:"cursor-pointer",onClick:()=>{G(t)}},[w("a",{class:"bt-link"},[t.subject]),w("span",{class:"text-desc"},[b(" - "),a||t.body])])}},{key:"time",title:R("Mail.Email.index_4"),width:"12%",minWidth:140,render:a=>t(a.time)},d({width:150,options:t=>[{label:R("Mail.Email.index_5"),onClick:()=>{G(t)}},{label:R("Public.Btn.Del"),onClick:()=>{O(t)}}]})]),q=a(),G=t=>{q.data.row=t,q.title=R("Mail.Email.index_7",[t.subject]),q.show=!0},O=async t=>{await _({path:t.path}),V()},V=async()=>{try{W.loading=!0;const{message:t}=await c({p:U.p,username:U.username||""});e(t)&&(W.data=s(t.data)?t.data:[],W.total=i(t.page))}finally{W.loading=!1}},A=()=>{U.p=1,V()};return v((async()=>{await S.value.getList()})),(t,a)=>{const e=D,s=L,i=u,n=p,m=r,d=o,_=l;return y(),k(_,{class:"p-16px"},{default:E((()=>[w(m,null,{toolsLeft:E((()=>[w(s,{class:"w-460px"},{default:E((()=>[w(e,null,{default:E((()=>[b(M(t.$t("Mail.Email.index_1")),1)])),_:1}),w(j,{ref_key:"senderRef",ref:S,value:C(U).username,"onUpdate:value":[a[0]||(a[0]=t=>C(U).username=t),A]},null,8,["value"])])),_:1})])),table:E((()=>[w(i,{loading:C(W).loading,data:C(W).data,columns:C(I)},null,8,["loading","data","columns"])])),pageRight:E((()=>[w(n,{page:C(U).p,"onUpdate:page":a[1]||(a[1]=t=>C(U).p=t),"item-count":C(W).total,onRefresh:V},null,8,["page","item-count"])])),_:1}),w(d,{show:C(q).show,"onUpdate:show":a[2]||(a[2]=t=>C(q).show=t),title:C(q).title,data:C(q).data,width:850,height:680,component:C(P)},null,8,["show","title","data","component"])])),_:1})}}});export{P as default};
