System.register(["./index-legacy96.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1732601582185","./index-legacy99.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./site-legacy.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./index-legacy97.js?v=1732601582185","./public-legacy.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185"],(function(e,t){"use strict";var l,r,a,s,i,n,o,u,d,_,p,x,y,c,h,g,v,m,P,f,S,b,$,j,w;return{setters:[e=>{l=e._},e=>{r=e._},e=>{a=e._},e=>{s=e._},e=>{i=e.a3},e=>{n=e.bd},e=>{o=e.d,u=e.W,d=e.r,_=e.j,p=e.f,x=e.O,y=e.P,c=e.M,h=e.Y,g=e.Q,v=e.R,m=e.Z,P=e.X,f=e.c},e=>{S=e.bG,b=e.bL,$=e.ad,j=e.bh,w=e.bp},null,null,null,null],execute:function(){const t={class:"m-15px"},k={class:"w-440px"},H={class:"list-none!"},U={class:"list-none!"},q={class:"list-none!"};e("default",o({__name:"index",emits:["refresh"],setup(e,{expose:o,emit:E}){const{t:C}=u(),R=E,G=()=>{"2"===N.proxy_type?N.proxy_host="$http_host":N.proxy_host=""},I=e=>{if("2"===N.proxy_type)return void(N.proxy_host="$http_host");let t=e.replace(/^http[s]?:\/\//,"");t=t.replace(/(:|\?|\/|\\)(.*)$/,""),N.proxy_host=t},L=d(null),M=[{label:C("Site.Proxy.index_11"),value:"1"},{label:C("Site.Proxy.index_12"),value:"2"}],N=_({domains:"",proxy_type:"1",url:"http://",unx:"",proxy_host:"$http_host",remark:""}),O={domains:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(""===t.trim())return new Error(C("Site.PHP.add_site_23"));const l=t.trim().split("\n")[0].split(":")[1];return!(l&&(!i(l)||Number(l)<100))||new Error(C("Site.Proxy.index_13"))}},url:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(!t.replace(/^http[s]?:\/\//,""))return new Error(C("Site.Proxy.index_14"));let l=t.replace(/^http[s]?:\/\//,"");return l=l.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(l)?N.proxy_host="$http_host":N.proxy_host=l,!0}},unx:{required:!0,message:C("Site.PHP.add_site_26"),trigger:["blur","change"]},proxy_host:{required:!0,message:C("Site.PHP.add_site_26"),trigger:["blur","change"]}},Q=e=>{const t=e.trim().split("\n")[0].split(":")[0];t&&(N.remark=t)};return p((()=>{})),o({onConfirm:async()=>{await(L.value?.validate());let e={remark:N.remark,proxy_type:"1"==N.proxy_type,proxy_pass:"1"==N.proxy_type?N.url:N.unx,domains:N.domains,proxy_host:N.proxy_host};await n(e),R("refresh")}}),(e,i)=>{const n=s,o=S,u=b,d=$,_=a,p=j,E=w,C=r,R=l;return x(),y("div",t,[c(C,{ref_key:"formRef",ref:L,model:v(N),rules:O},{default:h((()=>[c(o,{label:e.$t("Site.PHP.add_site_4"),path:"domains"},{default:h((()=>[g("div",k,[c(n,{value:v(N).domains,"onUpdate:value":[i[0]||(i[0]=e=>v(N).domains=e),Q]},{default:h((()=>[g("p",null,m(e.$t("Site.PHP.add_site_5")),1),g("p",null,m(e.$t("Site.PHP.add_site_6")),1),g("p",null,m(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),c(p,null,{default:h((()=>[c(o,{label:e.$t("Site.Proxy.index_1")},{default:h((()=>[c(u,{value:v(N).proxy_type,"onUpdate:value":[i[1]||(i[1]=e=>v(N).proxy_type=e),G],options:M,class:"w-120px"},null,8,["value"])])),_:1},8,["label"]),"1"==v(N).proxy_type?(x(),P(o,{key:0,path:"url",class:"w-310px"},{default:h((()=>[c(d,{value:v(N).url,"onUpdate:value":i[2]||(i[2]=e=>v(N).url=e),onInput:I},null,8,["value"])])),_:1})):(x(),P(o,{key:1,path:"unx",class:"w-310px"},{default:h((()=>[c(_,{"checked-type":["dir","file"],value:v(N).unx,"onUpdate:value":i[3]||(i[3]=e=>v(N).unx=e),onChange:I},null,8,["value"])])),_:1}))])),_:1}),c(o,{label:e.$t("Site.Proxy.index_2"),path:"proxy_host",class:"w-570px"},{default:h((()=>[c(E,{trigger:"hover"},{trigger:h((()=>[c(d,{value:v(N).proxy_host,"onUpdate:value":i[4]||(i[4]=e=>v(N).proxy_host=e)},null,8,["value"])])),default:h((()=>[f(" "+m(e.$t("Site.Proxy.index_4")),1)])),_:1})])),_:1},8,["label"]),c(o,{label:e.$t("Site.Proxy.index_3"),class:"w-570px"},{default:h((()=>[c(d,{value:v(N).remark,"onUpdate:value":i[5]||(i[5]=e=>v(N).remark=e),placeholder:e.$t("Site.Proxy.index_5")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),c(R,{class:"mt-16px"},{default:h((()=>[g("li",null,m(e.$t("Site.Proxy.index_6")),1),g("li",null,m(e.$t("Site.Proxy.index_7")),1),g("li",H,m(e.$t("Site.Proxy.index_8")),1),g("li",U,m(e.$t("Site.Proxy.index_9")),1),g("li",q,m(e.$t("Site.Proxy.index_10")),1)])),_:1})])}}}))}}}));
