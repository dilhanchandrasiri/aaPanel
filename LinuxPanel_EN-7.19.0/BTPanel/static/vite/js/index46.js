const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index183.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","css/index69.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{S as a,f as e,I as t,a4 as s,c as i}from"./page_layout.js?v=1732601582185";import{_ as l}from"./index.js?v=1732601582185";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{d as p,f as m,h as _,a as u}from"./public.js?v=1732601582185";import{A as d,B as c,C as f}from"./mail.js?v=1732601582185";import{_ as h}from"./index.vue_vue_type_script_setup_true_lang16.js?v=1732601582185";import{d as g,W as x,r as j,j as w,M as y,c as v,f as b,O as E,X as M,Y as k,Z as C,R,a6 as L}from"./vue.js?v=1732601582185";import{bJ as W,bM as U,bN as A}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";const B=g({__name:"index",setup(g){const B=L((()=>i((()=>import("./index183.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),{t:D}=x(),I=j(),O=w({p:1,username:null}),{table:P,columns:H,setLoading:J}=p([{key:"from",title:D("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:D("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const e=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return y("span",{class:"cursor-pointer",onClick:()=>{S(a)}},[y("a",{class:"bt-link"},[a.subject]),y("span",{class:"text-desc"},[v(" - "),e||a.body])])}},{key:"time",title:D("Mail.Email.index_4"),width:"12%",minWidth:140,render:e=>a(e.time)},m({width:150,options:a=>[{label:D("Mail.Email.index_5"),onClick:()=>{S(a)}},{label:D("Mail.Email.index_6"),onClick:()=>{T(a)}},{label:D("Public.Btn.Del"),onClick:()=>{V(a)}}]})]),N=_(),S=a=>{N.data.row=a,N.title=D("Mail.Email.index_7",[a.subject]),N.show=!0},T=a=>{u({title:D("Mail.Email.index_8"),content:D("Mail.Email.index_9"),onConfirm:async()=>{await d({path:a.path,username:O.username||""}),X()}})},V=async a=>{await c({path:a.path}),X()},X=async()=>{try{J(!0);const{message:a}=await f({p:O.p,username:O.username||""});e(a)&&(P.data=t(a.data)?a.data:[],P.total=s(a.page))}finally{J(!1)}},Y=()=>{O.p=1,X()};return J(!0),b((async()=>{await I.value.getList()})),(a,e)=>{const t=U,s=A,i=r,p=o,m=n,_=l,u=W;return E(),M(u,{class:"p-16px"},{default:k((()=>[y(m,null,{toolsLeft:k((()=>[y(s,{class:"w-460px"},{default:k((()=>[y(t,null,{default:k((()=>[v(C(a.$t("Mail.Email.index_1")),1)])),_:1}),y(h,{ref_key:"senderRef",ref:I,value:R(O).username,"onUpdate:value":[e[0]||(e[0]=a=>R(O).username=a),Y]},null,8,["value"])])),_:1})])),table:k((()=>[y(i,{loading:R(P).loading,data:R(P).data,columns:R(H)},null,8,["loading","data","columns"])])),pageRight:k((()=>[y(p,{page:R(O).p,"onUpdate:page":e[1]||(e[1]=a=>R(O).p=a),"item-count":R(P).total,onRefresh:X},null,8,["page","item-count"])])),_:1}),y(_,{show:R(N).show,"onUpdate:show":e[2]||(e[2]=a=>R(N).show=a),title:R(N).title,data:R(N).data,width:850,height:680,component:R(B)},null,8,["show","title","data","component"])])),_:1})}}});export{B as default};
