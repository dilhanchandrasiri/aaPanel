import{_ as e,a as t}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{l as r,ad as a,r as o,f as l,S as s,Z as i,P as p,V as u,_ as n,W as m,B as c,M as _}from"./vue.js?v=1723125373998";import{k as d,cG as f}from"./index.js?v=1723125373998";import{g as v}from"./data.js?v=1723125373998";import{b as y}from"./check.js?v=1723125373998";import{i as j,j as b,k as w}from"./index44.js?v=1723125373998";import{_ as h}from"./Select.js?v=1723125373998";import"./pinia.js?v=1723125373998";import"./index70.js?v=1723125373998";import"./index77.js?v=1723125373998";import"./Tabs.js?v=1723125373998";import"./omit.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1723125373998";import"./useTableData.js?v=1723125373998";import"./Skeleton.js?v=1723125373998";import"./DataTable.js?v=1723125373998";import"./Checkbox.js?v=1723125373998";import"./Ellipsis.js?v=1723125373998";import"./Empty.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang3.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1723125373998";import"./useTableColumns.js?v=1723125373998";import"./Progress.js?v=1723125373998";import"./Switch.js?v=1723125373998";import"./file2.js?v=1723125373998";import"./Upload2.js?v=1723125373998";import"./Image.js?v=1723125373998";import"./_createCompounder.js?v=1723125373998";import"./RadioButton.js?v=1723125373998";import"./index.vue_vue_type_script_setup_true_lang2.js?v=1723125373998";import"./Tag.js?v=1723125373998";const x={class:"px-20px pt-24px pb-8px"},g={class:"w-240px"},S={class:"w-240px"},A={class:"w-240px"},F={class:"w-240px"},E=r({__name:"form",props:{row:{},isEdit:{type:Boolean,default:!1}},emits:["refresh"],setup(r,{expose:E,emit:k}){const C=r,U=k,{t:T}=a(),{isEdit:$,row:B}=C,D=o(null),H=l({types:"drop",choose:"all",ports:null,country:["United States"]}),P={country:{trigger:"change",validator:()=>0!==H.country.length||new Error(T("Security.Firewall.Area.form_8"))},ports:{trigger:["blur","input"],validator:()=>{if("point"===H.choose){if(!H.ports)return new Error(T("Security.Firewall.Area.form_9"));if(!y("".concat(H.ports)))return new Error(T("Security.Firewall.Area.form_10"))}return!0}}},R=[{label:T("Security.Firewall.Area.form_11"),value:"all"},{label:T("Security.Firewall.Area.form_3"),value:"point"}],G=[{label:T("Security.Firewall.Area.form_12"),value:"drop"}],I=o(!1),M=o([]);return(async()=>{try{I.value=!0;const{message:e}=await j();d(e)&&(M.value=e.map((e=>({label:e.CH,value:e.CH,brief:e.brief}))))}finally{I.value=!1}})(),$&&B&&(H.types=B.types,H.choose=B.ports?"point":"all",H.ports=B.ports?v(B.ports):null,H.country=B.country),E({onConfirm:async()=>{var e,t;await(null==(e=D.value)?void 0:e.validate());const r={types:H.types,choose:H.choose,ports:"point"===H.choose?"".concat(H.ports||""):"",country:H.country,brief:""};$&&B?(r.brief="".concat((null==(t=M.value.find((e=>e.label===B.country)))?void 0:t.brief)||""),await b({...r,id:B.id})):await w(r),U("refresh")}}),(r,a)=>{const o=h,l=e,d=f,v=t;return s(),i("div",x,[p(v,{ref_key:"formRef",ref:D,model:m(H),rules:P},{default:u((()=>[p(l,{label:r.$t("Security.Firewall.Area.form_1"),path:"types"},{default:u((()=>[n("div",g,[p(o,{value:m(H).types,"onUpdate:value":a[0]||(a[0]=e=>m(H).types=e),options:G},null,8,["value"])])])),_:1},8,["label"]),p(l,{label:r.$t("Security.Firewall.Area.form_2"),path:"choose"},{default:u((()=>[n("div",S,[p(o,{value:m(H).choose,"onUpdate:value":a[1]||(a[1]=e=>m(H).choose=e),options:R},null,8,["value"])])])),_:1},8,["label"]),c(p(l,{label:r.$t("Security.Firewall.Area.form_3"),path:"ports"},{default:u((()=>[n("div",A,[p(d,{value:m(H).ports,"onUpdate:value":a[2]||(a[2]=e=>m(H).ports=e),min:1,max:65535,"show-button":!1,placeholder:r.$t("Security.Firewall.Area.form_4")},null,8,["value","placeholder"])])])),_:1},8,["label"]),[[_,"point"===m(H).choose]]),p(l,{label:r.$t("Security.Firewall.Area.form_5"),path:"country"},{default:u((()=>[n("div",F,[p(o,{value:m(H).country,"onUpdate:value":a[3]||(a[3]=e=>m(H).country=e),filterable:"","max-tag-count":"responsive",multiple:!m($),loading:m(I),options:m(M)},null,8,["value","multiple","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{E as default};
