import{_ as e}from"./index96.js?v=1732601582185";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{I as i,m as l}from"./page_layout.js?v=1732601582185";import{d as t,f as s}from"./public.js?v=1732601582185";import{u as n,v as r,y as o}from"./site3.js?v=1732601582185";import{ad as u,aa as m}from"./naive.js?v=1732601582185";import{d as f,W as d,j as p,O as c,P as _,Q as x,M as g,R as v,Y as y,c as C,Z as j}from"./vue.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";const W={class:"p-20px"},N={class:"flex mb-16px"},S={class:"flex-1 mr-16px"},$={class:"w-230px mr-16px"},h="url_rule",b=f({__name:"filter",props:{siteName:{default:""}},setup(f){const b=f,{t:w}=d(),k=p({url:"",filter:""}),P=async()=>{""!==k.url.trim()&&""!==k.filter.trim()?(await o({siteName:b.siteName,ruleName:h,ruleUri:k.url,ruleValue:k.filter}),k.url="",k.filter="",D()):l.error(w("Waf.Site.Config.index_85"))},{table:U,columns:B,setLoading:A}=t([{key:"uri",title:w("Waf.Site.Config.index_86")},{key:"name",title:w("Waf.Site.Config.index_87")},s({width:80,options:(e,a)=>[{label:w("Public.Btn.Del"),onClick:async()=>{await n({index:a,siteName:b.siteName,ruleName:h}),D()}}]})]),D=async()=>{try{A(!0);const{siteName:e}=b,{message:a}=await r({siteName:e,ruleName:h});i(a)&&(U.data=a.map((([e,a,i])=>({uri:e,name:a,value:i}))))}finally{A(!1)}};return D(),(i,l)=>{const t=u,s=m,n=a,r=e;return c(),_("div",W,[x("div",N,[x("div",S,[g(t,{value:v(k).url,"onUpdate:value":l[0]||(l[0]=e=>v(k).url=e),placeholder:i.$t("Waf.Site.Config.index_67")},null,8,["value","placeholder"])]),x("div",$,[g(t,{value:v(k).filter,"onUpdate:value":l[1]||(l[1]=e=>v(k).filter=e),placeholder:i.$t("Waf.Site.Config.index_79")},null,8,["value","placeholder"])]),g(s,{type:"primary",onClick:P},{default:y((()=>[C(j(i.$t("Public.Btn.Add")),1)])),_:1})]),g(n,{"max-height":230,loading:v(U).loading,data:v(U).data,columns:v(B)},null,8,["loading","data","columns"]),g(r,{class:"mt-16px"},{default:y((()=>[x("li",null,j(i.$t("Waf.Site.Config.index_80")),1),x("li",null,j(i.$t("Waf.Site.Config.index_81")),1),x("li",null,j(i.$t("Waf.Site.Config.index_82")),1),x("li",null,j(i.$t("Waf.Site.Config.index_83")),1),x("li",null,j(i.$t("Waf.Site.Config.index_84")),1)])),_:1})])}}});export{b as default};
