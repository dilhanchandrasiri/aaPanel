const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index93.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang13.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","css/page_layout.css?v=1732601582185","js/index94.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang.js?v=1732601582185","js/index92.js?v=1732601582185","js/open.js?v=1732601582185","js/configStore.js?v=1732601582185","js/global.js?v=1732601582185","css/configStore.css?v=1732601582185","js/index99.js?v=1732601582185","css/index11.css?v=1732601582185","js/home.js?v=1732601582185","css/open.css?v=1732601582185","css/index3.css?v=1732601582185","js/quota-config.js?v=1732601582185","js/index96.js?v=1732601582185","js/config3.js?v=1732601582185","js/index95.js?v=1732601582185","js/index.js?v=1732601582185","css/index80.css?v=1732601582185","css/index65.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{g as t,m as e,l as a,a as n,b as l,_ as o,c as i,i as s,d as c,u,e as r,f as d,h as p,j as m,k as f,n as h,s as v,o as b,p as x,q as g}from"./page_layout.js?v=1732601582185";import{bb as y,bl as k,ad as _,be as w,aV as C,bm as P,$ as j,bh as V,bn as S,bo as W,bp as B,bq as L}from"./naive.js?v=1732601582185";import{r as R,d as q,W as T,f as O,n as E,M as z,c as M,a9 as A,j as D,a6 as I,e as N,R as Q,O as F,X as H,Y as U,Z as $,P as G,Q as J,aa as X,k as Y,ab as Z,ac as K,ad as tt,F as et,i as at,ae as nt,af as lt,V as ot,ag as it,y as st,ah as ct,o as ut,G as rt}from"./vue.js?v=1732601582185";import"./common.js?v=1732601582185";const dt={dynamicModals:R([]),modalInstRefs:{}},pt=()=>dt;async function mt(){const t=e.loading("Loading, please wait...");try{await a(),await n(),await l("/static/ace/ace.js?v=1732601582185"),await l("/static/vite/oldjs/soft.js?v=1732601582185")}finally{t.close()}}async function ft(t,e){await mt(),bt.soft.install(t,(function(){null==e||e()}))}async function ht(t,e){await mt(),soft.input_zip(t.name,t.tmp_path,t.title,(function(){null==e||e()}))}async function vt(){await mt(),bt.soft.get_soft_find("pgsql_manager",(function(t){for(let e=0;e<t.versions.length;e++){if(1==t.versions[e].setup){bt.soft.set_lib_config("pgsql_manager","PostgreSQL manager");break}bt.soft.install("pgsql_manager");break}}))}async function xt(t){await mt(),t.admin?bt.soft.set_lib_config(t.name,t.title,t.version):soft.set_soft_config(t.name,t.title)}const gt=q({name:"BtModal",props:{data:{type:Object}},setup(t){const{t:a}=T(),n=R(0),l=R(0),o=R(null),i=R(null);return i.value=null,n.value=Math.round(9*Math.random()+1),l.value=Math.round(9*Math.random()+1),O((()=>{E((()=>{o.value&&o.value.focus()}))})),{sum:i,addend1:n,addend2:l,inputRef:o,onConfirm:async o=>{var s,c;return i.value===n.value+l.value?(await(null==(c=null==(s=t.data)?void 0:s.onConfirm)?void 0:c.call(s,o)),o.hide()):e.error(a("Component.Confirm.index_5")),!1}}},render(){var t;const{t:e}=T();return z("div",{class:"p-20px"},[z("div",{class:"flex items-center"},[z("div",{class:"flex-1 text-12px leading-20px"},[y(null==(t=this.data)?void 0:t.content)])]),z("div",{class:"confirm-calc-box flex items-center h-48px mt-12px px-12px bg-#f0f0f0"},[z("div",null,[e("Component.Confirm.index_4")]),z("div",{class:"confirm-calc-num mx-10px"},[this.addend1,M(" + "),this.addend2]),z("div",{class:"mr-10px"},[M("=")]),z("div",{class:"w-90px"},[z(k,{ref:"inputRef",size:"small",placeholder:"",inputProps:{name:"sum"},value:this.sum,showButton:!1,onUpdateValue:t=>{this.sum=t}},null)])])])}}),yt=q({name:"BtModal",props:{data:{type:Object}},setup(t){var a;const{t:n}=T(),l=R(null),o=R(""),i=R((null==(a=t.data)?void 0:a.text)||"");return O((()=>{E((()=>{l.value&&l.value.focus()}))})),{text:i,result:o,inputRef:l,onConfirm:async a=>{var l,s;return o.value===i.value?(await(null==(s=null==(l=t.data)?void 0:l.onConfirm)?void 0:s.call(l,a)),a.hide()):e.error(n("Component.Confirm.index_2")),!1}}},render(){var t;return z("div",{class:"p-20px"},[z("div",{class:"flex items-center"},[z(o,{name:"base-warning",size:"30",color:"#f0a020"},null),z("div",{class:"flex-1  ml-12px text-13px leading-20px"},[y(null==(t=this.data)?void 0:t.content)])]),z("div",{class:"mt-16px p-12px bg-#e6e6e6"},[z(A,{tag:"div",keypath:"Component.Confirm.index_1",scope:"global"},{text_:z("span",{class:"text-error"},[this.text])}),z(_,{ref:"inputRef",size:"small",class:"mt-8px",placeholder:"",inputProps:{name:"confirm_text"},value:this.result,onUpdateValue:t=>{this.result=t}},null)])])}}),kt=function(e){const a=t(),n=pt();return n.dynamicModals.value.push({...e,key:a,destroy:()=>{n.modalInstRefs["modal-".concat(a)].hide()}}),{hide:()=>{n.modalInstRefs["modal-".concat(a)].hide()}}},_t=({title:t,content:e,width:a=350,onConfirm:n=()=>{},onPublicClose:l=()=>{}})=>kt({title:t,width:a,footer:!0,onConfirm:n,onPublicClose:l,content:()=>z("div",{class:"flex p-20px"},[z(o,{name:"base-warning",size:"30",color:"#f0a020"},null),z("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[y(e)])])}),wt=({title:t,content:e,width:a=350,onConfirm:n=()=>{}})=>{kt({title:t,width:a,footer:!0,data:{content:e,onConfirm:n},component:gt})},Ct=({text:t,title:e,content:a,width:n=470,onConfirm:l=()=>{}})=>{kt({title:e,width:n,footer:!0,data:{text:t,content:a,onConfirm:l},component:yt})},Pt=({title:t="",desc:e="",data:a=[],columns:n=[],api:l,done:o})=>{kt({title:t,width:440,footer:!0,data:{title:t,desc:e,data:a,columns:n,api:l,done:o},component:I((()=>i((()=>import("./index93.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7]))))})};function jt(t="",e={}){return D({show:!1,title:t,data:e})}function Vt(){kt({title:s.global.t("Component.BindAccount.index_6"),width:400,minHeight:340,component:I((()=>i((()=>import("./index94.js?v=1732601582185")),__vite__mapDeps([8,2,3,4,5,6,7,9]))))})}async function St(t){try{const{message:e}=await c(),a=w(e,"data.username","");kt({width:1024,height:660,data:{username:a,...t},component:I((()=>i((()=>import("./index92.js?v=1732601582185")),__vite__mapDeps([10,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19]))))})}catch(e){Vt()}}function Wt(t){return new Promise(((e,a)=>{if(u().isFree)return St(t),void a(!1);e(!0)}))}async function Bt(t){const{message:e}=await r({sName:t});if(d(e)&&!e.status)return ft(t),Promise.reject(!1)}function Lt(t=!1){const e=R(t);return{loading:e,setLoading:(t,a=!0)=>{a&&(e.value=t)}}}function Rt(t){const e=R([]),a=D({data:[],total:0,loading:!1}),n=R(t);return{keys:e,table:a,columns:n,setLoading:(t,e=!0)=>{e&&(a.loading=t)}}}const qt={class:"leading-20px"},Tt=q({__name:"index",props:{type:{default:"site"},data:{},callback:{}},setup(t){const{t:e}=T(),a=t,n=N((()=>{const{data:t}=a,{quota:e}=t;return!e.size})),l=N((()=>{if(n.value)return 0;const{data:t}=a,e=w(t,"quota.used",0);let l=w(t,"quota.size",0);return l=1024*l*1024,0===l?0:e/l*100})),o=N((()=>{const{data:t}=a,e=w(t,"quota.used",0);return p(e)})),s=N((()=>{const{data:t}=a,e=w(t,"quota.size",0);return"".concat(e.toFixed(2)," MB")})),c=N((()=>l.value<90?"success":"error")),u=new Map([["site","Site"],["ftp","FTP"],["database","Database"]]),r=()=>{kt({title:"".concat(e("Component.Quota.index_5",[a.data.name,u.get(a.type)||"--"])),width:480,minHeight:222,footer:!0,data:{type:a.type,info:a.data,callback:a.callback},component:I((()=>i((()=>import("./quota-config.js?v=1732601582185")),__vite__mapDeps([20,21,2,3,4,5,6,7,9,22]))))})};return(t,e)=>{const a=m,i=C,u=P;return Q(n)?(F(),H(a,{key:0,onClick:r},{default:U((()=>[M($(t.$t("Component.Quota.index_2")),1)])),_:1})):(F(),G("div",{key:1,class:"cursor-pointer",onClick:r},[z(u,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:U((()=>[z(i,{type:"line",status:Q(c),percentage:Q(l),height:12,"border-radius":2,"show-indicator":!1},null,8,["status","percentage"])])),default:U((()=>[J("div",qt,[J("p",null,$(t.$t("Component.Quota.index_3",[Q(o)])),1),J("p",null,$(t.$t("Component.Quota.index_12",[Q(s)])),1),J("p",null,$(t.$t("Component.Quota.index_4")),1)])])),_:1})]))}}}),Ot=f(q({__name:"index",props:{value:{default:""},onUpdateValue:{},onBlur:{}},setup(t){const e=t,a=X(e,"value"),n=t=>{var a;const n=t.target;null==(a=null==e?void 0:e.onBlur)||a.call(e,n.value||"",t)};return(t,e)=>Y((F(),G("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>K(a)?a.value=t:null),class:"bt-table-input",onBlur:n},null,544)),[[Z,Q(a)]])}}),[["__scopeId","data-v-04feea87"]]),Et=q({__name:"index",props:{value:{type:[Number,String,Boolean,null],default:"1"},checkedValue:{type:[Number,String,Boolean],default:"1"},uncheckedValue:{type:[Number,String,Boolean],default:"0"},checkedLabel:{default:""},uncheckedLabel:{default:""},onClick:{default:void 0}},setup(t){const e=t,a=()=>{const{value:t,checkedValue:a,uncheckedValue:n,onClick:l}=e;l&&j(l,t===a?n:a)};return(t,e)=>{const n=V;return F(),H(n,{class:tt(["items-center cursor-pointer",t.value===t.checkedValue?"text-primary":"text-error"]),size:0,inline:!0,onClick:a},{default:U((()=>[J("span",null,$(t.value===t.checkedValue?t.checkedLabel||t.$t("Public.Status.Running"):t.uncheckedLabel||t.$t("Public.Status.Stopped")),1),J("span",{class:tt(["iconfont mt-1px","icon-".concat(t.value===t.checkedValue?"start":"stop")])},null,2)])),_:1},8,["class"])}}});const zt=q({name:"BtLinkGroup",props:{options:{type:Array,default:()=>[]}},render(){let t;return z(V,{class:"items-center",justify:"end",inline:!0,size:0},"function"==typeof(e=t=this.options.filter((t=>void 0===t.show||t.show)).map(((t,e)=>{const a=t.linkType||"default";return z(et,null,[0!==e?z(h,{class:"mx-4px!",vertical:!0},null):"","default"===a?z(m,{disabled:t.disabled||!1,class:t.class,type:t.type,width:t.width||"auto",onClick:()=>{var e;null==(e=t.onClick)||e.call(t)}},{default:()=>[t.label]}):"","dropdown"===a?z(S,t.dropdown||{},{default:()=>[z(m,{disabled:t.disabled||!1,onClick:()=>{var e;null==(e=t.onClick)||e.call(t)}},{default:()=>[t.label,z(o,{name:"base-arrow-bottom",size:"13"},null)]})]}):""])})))||"[object Object]"===Object.prototype.toString.call(e)&&!at(e)?t:{default:()=>[t]});var e}}),Mt=q({__name:"index",props:{disabled:{type:Boolean,default:!1},tips:{},value:{type:[Boolean,String,Number],default:!1},onClick:{}},setup(t){let e=R(!0);const a=t;"string"==typeof a.value||"number"==typeof a.value?e.value=!!a.value:e.value=a.value;const n=()=>{const{onClick:t}=a;t&&j(t,e.value)};return(t,a)=>{const l=W,o=B;return F(),H(o,{trigger:"hover",disabled:!(t.disabled&&Q(e))},{trigger:U((()=>[z(l,{size:"small",value:Q(e),"onUpdate:value":[a[0]||(a[0]=t=>K(e)?e.value=t:e=t),n],disabled:t.disabled&&Q(e)},null,8,["value","disabled"])])),default:U((()=>[M(" "+$(t.tips),1)])),_:1},8,["disabled"])}}}),At=async t=>{const{copy:a,isSupported:n}=nt({legacy:!0});n.value?(a(t),e.success(s.global.t("Utils.Copy.index_1"))):e.error(s.global.t("Utils.Copy.index_2"))},Dt={class:"flex"},It={class:"w-0 flex-1 flex items-center"},Nt={class:"min-w-0"},Qt=q({__name:"index",props:{value:{default:""}},setup(t){const e=t,a=R(!1),n=N((()=>a.value?e.value:"**********")),l=N((()=>a.value?"icon-eye-close":"icon-browse")),i=()=>{a.value=!a.value},s=async()=>{At("".concat(e.value))};return(t,e)=>{const a=L,c=o;return F(),G("div",Dt,[J("div",It,[J("div",Nt,[z(a,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:U((()=>[M($(Q(n)),1)])),_:1})]),J("div",{class:"ml-6px text-15px cursor-pointer",title:"Show",onClick:i},[J("i",{class:tt(["iconfont",Q(l)])},null,2)]),J("button",{class:"reset ml-6px text-15px cursor-pointer text-#333",title:"Copy",onClick:s},[z(c,{name:"common-copy"})])])])}}});function Ft(t={}){return{key:t.key||"quota",title:t.title||s.global.t("Component.Quota.index_1"),width:t.width||"8%",minWidth:t.minWidth||100,maxWidth:t.maxWidth||120,render:e=>z(Tt,{type:t.type||"",data:e,callback:t.callback},null)}}function Ht(t={}){const e=lt();return{key:t.key||"path",title:t.title||s.global.t("Public.Table.Path"),width:t.width,minWidth:t.minWidth||120,ellipsis:{tooltip:!0},render:t=>z("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;",onClick:()=>{v("Path",t.path),e.push("/files")}},[t.path])}}function Ut(t){const{key:e="status"}=t;return{key:t.key||"status",title:t.title||s.global.t("Public.Table.Status"),width:t.width,minWidth:70,render:a=>z(Et,{value:a[e],"checked-title":t.checkedLabel||s.global.t("Public.Status.Running"),"unchecked-title":t.uncheckedLabel||s.global.t("Public.Status.Stop"),checkedValue:t.checkedValue,uncheckedValue:t.uncheckedValue,onClick:e=>{t.confirm&&_t(t.confirm(e,a))}},null)}}function $t(t){const{key:e="status"}=t;return{key:t.key||"Caching(nginx)",title:t.title||"Caching(nginx)",width:t.width,minWidth:70,render:a=>z(Mt,{disabled:!!t.disabled&&t.disabled(a),tips:t.tips,value:a[e],onClick:e=>{t.onClick(e,a)}},null)}}function Gt(t){const{key:e="status"}=t;return{key:e,title:t.title||s.global.t("Public.Table.Status"),width:t.width||"8%",minWidth:t.minWidth||80,render:a=>{const n=t.status(a);return z(Et,{value:a[e],"checked-label":n.checkedLabel,"checked-value":n.checkedValue,"unchecked-label":n.uncheckedLabel,"unchecked-value":n.uncheckedValue,onClick:t=>{var e;null==(e=n.onClick)||e.call(n,t)}},null)}}}function Jt(t){const{key:e="ps"}=t;return{key:e,title:t.title||s.global.t("Public.Table.Note"),width:t.width,minWidth:t.minWidth||120,render:a=>z(Ot,{value:a[e],onBlur:async(n,l)=>{const o=a[e];if(o!==n)try{await t.onBlur(n,a),a[e]=n}catch(i){l.target.value=o,console.error(i)}}},null)}}function Xt(t){return{key:t.key||"action",title:t.title||s.global.t("Public.Table.Action"),align:t.align||"right",width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,render:(e,a)=>{var n;return z(zt,{options:(null==(n=t.options)?void 0:n.call(t,e,a))||[]},null)}}}function Yt(t={}){const e=t.key||"password";return{key:e,title:t.title||s.global.t("Public.Table.Password"),width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,render:t=>{const a=t[e];return z(Qt,{value:b(a)?a:""},null)}}}function Zt(t){const e=R("auto"),a=u(),{mainHeight:n}=ot(a),{top:l,bottom:o}=it(t);return st((()=>{if(0===n.value)return;const t=document.querySelector("#layout-main"),a=null==t?void 0:t.children[0],i=null==a?void 0:a.getBoundingClientRect(),s=((null==i?void 0:i.bottom)||0)-o.value;e.value="".concat(n.value-l.value-s,"px")})),{height:e}}function Kt(t,e={}){const a={},n=ct(function(){const{host:e,protocol:a}=window.location;return("http:"===a?"ws://":"wss://")+e+"/v2"+t}(),{autoReconnect:{retries:0,delay:500},immediate:e.immediate,onConnected:()=>{!function(){var t;const a={};a["x-http-token"]=null==(t=document.getElementById("request_token_head"))?void 0:t.getAttribute("token"),e.verifyData&&Object.assign(a,e.verifyData);l(a)}(),o()},onMessage:(t,n)=>{var l;if(x(n.data)){const e=JSON.parse(n.data),l=e.callback||e.ws_callback||e.def_name;l&&a[l]&&a[l].callback(t,n)}null==(l=e.onMessage)||l.call(e,t,n)},onDisconnected:e.onDisconnected});const l=t=>{(t=>n.status.value===t)("OPEN")&&n.send(d(t)?JSON.stringify(t):t)},o=()=>{Object.entries(a).forEach((([,t])=>{l(t.data)}))};return{...n,send:(t,e)=>{if(e)a[e.action]={data:t,callback:e.callback};else{const e=g(10);a[e]={data:t,callback:()=>{}}}l(t)},close:()=>{Object.keys(a).forEach((t=>{delete a[t]})),n.close()}}}function te(t){const e=u(),{mainHeight:a}=ot(e),{top:n,bottom:l}=it(t);return{height:N((()=>{if(0===a.value)return"auto";const t=document.querySelector("#layout-main"),e=null==t?void 0:t.children[0],o=null==e?void 0:e.getBoundingClientRect(),i=((null==o?void 0:o.bottom)||0)-l.value;return"".concat(a.value-n.value-i,"px")}))}}function ee(t,e=3){let a=null,n=!1,l=0;const o=()=>{n||l>=3?i():a=window.setTimeout((async()=>{try{await t(),l=0}catch(e){l++}finally{o()}}),1e3*e)},i=()=>{a&&(clearTimeout(a),a=null)};return ut((()=>{n=!0,i()})),{loop:o,clearTimer:i}}function ae(t=100){const e=R(0);let a=null;return function n(){a=requestAnimationFrame((()=>{e.value++,e.value>=t||n()}))}(),rt((()=>{a&&cancelAnimationFrame(a)})),{defer:function(t){return e.value>=t}}}function ne(){O((()=>{setTimeout((()=>{a()}),1e3)}))}function le(){kt({title:s.global.t("Home.index_8"),width:350,minHeight:110,component:I((()=>i((()=>import("./index95.js?v=1732601582185")),__vite__mapDeps([23,24,3,4,6,2,5,7,25,17,26]))))})}export{ee as A,ae as B,ne as C,Yt as D,$t as E,Bt as F,Mt as G,zt as H,Ct as I,ht as J,Et as _,_t as a,Lt as b,Vt as c,Rt as d,At as e,Xt as f,pt as g,jt as h,Gt as i,Qt as j,Ft as k,Jt as l,vt as m,ft as n,Zt as o,Kt as p,wt as q,te as r,St as s,Pt as t,kt as u,xt as v,Wt as w,Ut as x,Ht as y,le as z};
