import{_ as t}from"./index.js?v=1732601582185";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import{c3 as e,c4 as s,m as l,c5 as c,c6 as o,k as n}from"./page_layout.js?v=1732601582185";import{a as r}from"./public.js?v=1732601582185";import{d as u,V as i,O as p,P as d,M as m,Y as v,Q as _,Z as f,R as x,c as b,W as S,r as P,ac as y,F as C,ad as w}from"./vue.js?v=1732601582185";import{_ as $}from"./index99.js?v=1732601582185";import{bh as k,aa as g,bJ as j,bG as h,ad as I}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";const R={class:"p-10"},B={class:"w-48%"},M={class:"mb-8px"},U={class:"w-48%"},L={class:"mb-8px"},z=u({__name:"SslForm",setup(t){const a=e(),{certInfo:l}=i(a);return(t,a)=>{const e=$,c=k,o=g;return p(),d("div",R,[m(c,{class:"mb-16px",size:10,justify:"space-between"},{default:v((()=>[_("div",B,[_("div",M,f(t.$t("Site.Cert.index_50")),1),m(e,{value:x(l).private_key,"onUpdate:value":a[0]||(a[0]=t=>x(l).private_key=t),rows:10},null,8,["value"])]),_("div",U,[_("div",L,f(t.$t("Site.Cert.index_51")),1),m(e,{value:x(l).certificate,"onUpdate:value":a[1]||(a[1]=t=>x(l).certificate=t),rows:10},null,8,["value"])])])),_:1}),m(c,{class:"mb-12px"},{default:v((()=>[m(o,{type:"primary",onClick:a[2]||(a[2]=t=>x(s)(x(l).certificate,x(l).private_key))},{default:v((()=>[b(f(t.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])}}}),A={class:"flex items-center"},F={class:"mr-4px"},H={class:"mr-4px"},D={class:"w-300px host-modify"},E={class:"ml-50 tip"},G=n(u({__name:"index",setup(s){const{t:n}=S(),u=e(),{isRunning:$,hasCert:R,serverIP:B,serverProtocol:M,serverPort:U}=i(u),L=P(!1),G=new Map([["start",n("Public.Status.Start")],["stop",n("Public.Status.Stop")],["reload",n("Public.Status.Reload")],["restart",n("Public.Status.Restart")]]),J=t=>{const a=G.get(t)||"";r({title:"".concat(a," account service"),content:"Are you sure to ".concat(a.toLocaleLowerCase()," account service?"),onConfirm:async()=>{await o(t),u.getInfo()}})},O=()=>{J($.value?"stop":"start")},Q=()=>{J("reload")},V=()=>{J("restart")},W=async()=>{""!==B.value?await c(B.value):l.error("Please enter the server IP")},Y=()=>{u.resetServerIP()};function Z(){window.open("".concat(M.value,"://").concat(B.value).concat(U.value,"/account/login"))}return u.getCertInfo(),u.getServerIP(),(e,s)=>{const l=k,c=g,o=h,n=I,r=a,u=j,i=t;return p(),d(C,null,[m(u,{class:"p-16px px-24px"},{default:v((()=>[m(r,{class:"text-14px"},{default:v((()=>[m(o,{label:"Server status"},{default:v((()=>[_("div",A,[_("span",F,f(e.$t("Docker.Setting.index_2"))+f(e.$t("Public.Punctuation.Colon")),1),m(l,{class:"items-center",size:4},{default:v((()=>[_("span",H,f(x($)?e.$t("Public.Status.Enable"):e.$t("Public.Status.Stopped")),1),_("span",{class:w(["iconfont","icon-".concat(x($)?"start":"stop")])},null,2)])),_:1})]),m(c,{class:"ml-24px",onClick:O},{default:v((()=>[b(f(x($)?e.$t("Public.Status.Stop"):e.$t("Public.Status.Start")),1)])),_:1}),m(c,{class:"ml-16px",onClick:V},{default:v((()=>[b(f(e.$t("Public.Status.Restart")),1)])),_:1}),m(c,{class:"ml-16px",onClick:Q},{default:v((()=>[b(f(e.$t("Public.Status.Reload")),1)])),_:1})])),_:1}),m(o,{label:"SSL"},{default:v((()=>[m(c,{type:"primary",class:"ml-5px",onClick:s[0]||(s[0]=t=>L.value=!0)},{default:v((()=>[b(f(e.$t("Public.Btn.Modify")),1)])),_:1})])),_:1}),m(o,{label:"Host"},{default:v((()=>[_("div",D,[m(n,{value:x(B),"onUpdate:value":s[1]||(s[1]=t=>y(B)?B.value=t:null),placeholder:""},null,8,["value"])]),m(c,{type:"primary",class:"ml-5px",onClick:W},{default:v((()=>[b(f(e.$t("Public.Btn.Modify")),1)])),_:1}),m(c,{type:"primary",class:"ml-5px",onClick:Y},{default:v((()=>[b(f(e.$t("Public.Btn.Reset")),1)])),_:1})])),_:1}),_("p",E,[b(f(e.$t("Account.Install.index_13"))+": ",1),m(c,{type:"primary",text:"",onClick:Z},{default:v((()=>[b(f("".concat(x(M),"://").concat(x(B)).concat(x(U),"/account/login")),1)])),_:1})])])),_:1})])),_:1}),m(i,{show:x(L),"onUpdate:show":s[2]||(s[2]=t=>y(L)?L.value=t:null),title:"Setting server ssl",width:700,component:z,onCancel:s[3]||(s[3]=t=>L.value=!1),onClose:s[4]||(s[4]=t=>L.value=!1)},null,8,["show"])],64)}}}),[["__scopeId","data-v-51f5e87f"]]);export{G as default};
