import{_ as e}from"./index.js?v=1732601582185";import{_ as t}from"./index96.js?v=1732601582185";import{u as a,e as s,f as i,n,bv as l,m as o,aT as p,k as r}from"./page_layout.js?v=1732601582185";import{h as _,J as u}from"./public.js?v=1732601582185";import{g as m}from"./soft.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang21.js?v=1732601582185";import{bY as d,bh as f,aa as v}from"./naive.js?v=1732601582185";import{d as x,W as h,r as j,R as y,O as w,P as g,M as b,Y as k,Q as H,Z as S,c as P,ao as T}from"./vue.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1732601582185";import"./theme-chrome.js?v=1732601582185";import"./file.js?v=1732601582185";const $={key:0,class:"p-30px"},M=["src"],W=["title"],C={class:"color-#888888"},I={class:"font-600 mt-30px"},L=["innerHTML"],N=r(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(r){const{t:x}=h(),N=a(),O=r,{row:R}=O,U=["nginx","apache","mysql","php"],Y=j(),q=j(),J=j(),Q=async(e=1)=>{var t;const{message:a}=await l({sName:R.name,version:5===J.value?R.m_version:q.value,type:e});if(i(a)){if(a.result)return o.success(a.result),N.taskCount+=1,null==(t=O.callback)||t.call(O),O.hide(),void p();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=O.callback)||e.call(O)}))}O.hide()},Z=()=>{var e;(e=R.name,U.includes(e)||e.startsWith("php-"))?z.show=!0:Q(1)},z=_(x("Home.Install.index_7"),{name:R.name,callback:()=>{Q(0)}});return(async()=>{const{message:e}=await s({sName:R.name},!0);i(e)&&(J.value=e.type,q.value=R.m_version+"."+R.version,Y.value=e.version)})(),(a,s)=>{const i=d,l=f,o=v,p=n,r=t,_=e;return y(R)?(w(),g("div",$,[b(l,{class:"justify-between! items-center"},{default:k((()=>[b(l,{class:"items-center"},{default:k((()=>[H("img",{class:"w-40px",src:y(m)(y(R).name)},null,8,M),H("div",null,[H("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(y(R).title," ").concat(y(Y))},S(y(R).title)+" "+S(y(R).title.indexOf("PHP-")>-1?"":y(Y)),9,W),b(i,{dot:""},{default:k((()=>[H("p",C,S(a.$t("Soft.index_51"))+"："+S(y(q)),1)])),_:1})])])),_:1}),b(l,null,{default:k((()=>[b(o,{type:"primary",onClick:Z},{default:k((()=>[P(S(a.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),b(p)])),_:1}),H("div",I,S(y(x)("Soft.index_52"))+"：",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:y(R).update_msg},null,8,L),b(r,null,{default:k((()=>[H("li",null,S(a.$t("Soft.index_35")),1),H("li",null,S(y(x)("Soft.index_53")),1),H("li",null,S(y(x)("Soft.index_54")),1)])),_:1}),b(_,{show:y(z).show,"onUpdate:show":s[0]||(s[0]=e=>y(z).show=e),title:y(z).title,data:y(z).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):T("",!0)}}}),[["__scopeId","data-v-a56ceaac"]]);export{N as default};
