System.register(["./configStore-legacy.js?v=1732601582185","./index-legacy99.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./home-legacy.js?v=1732601582185","./global-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185"],(function(e,a){"use strict";var l,t,n,i,s,o,r,c,f,u,d,p,v,x,m,g,_,y,w,h,b,C,S,$,k,j,P,U,L,E,K,M;return{setters:[e=>{l=e.s,t=e._,n=e.f},e=>{i=e._},e=>{s=e.m,o=e.a5,r=e.a6,c=e._,f=e.f,u=e.k},e=>{d=e.d,p=e.W,v=e.r,x=e.$,m=e.O,g=e.P,_=e.Q,y=e.M,w=e.Z,h=e.Y,b=e.R,C=e.ac,S=e.k,$=e.v,k=e.c},e=>{j=e.r},e=>{P=e.t,U=e.L,L=e.M,E=e.u},e=>{K=e.bL,M=e.ad}],execute:function(){var a=document.createElement("style");a.textContent=".form-label[data-v-02bc9a9f]{display:flex;align-items:center;justify-content:flex-end;min-width:100px;height:32px;padding-right:20px;text-align:right}\n",document.head.appendChild(a);const O={class:"px-40px py-24px"},R={class:"flex-center mb-20px"},z={class:"min-w-32px"},I={class:"ml-4px text-21px"},N={class:"text-error"},Q={class:"bt-link",href:"https://www.aapanel.com/forum/d/167-common-problems-after-opening-the-panel-certificate",target:"_blank"},T={class:"flex"},W={class:"form-label"},Y={class:"w-280px"},Z={class:"flex mt-16px"},q={class:"form-label"},A={class:"w-280px"},B={class:"flex mt-16px"},D={class:"form-label"},F={class:"w-280px"},G={class:"flex mt-16px"},H={class:"form-label"},J={class:"w-280px"},V={class:"flex justify-between mt-24px"},X={class:"bt-link",href:"https://www.aapanel.com/forum/d/167-common-problems-after-opening-the-panel-certificate",target:"_blank"};e("O",u(d({__name:"open",setup(e,{expose:a}){const{t:u}=p(),d=v(),ee=v(1),ae=v(""),le=v(""),te=v(""),ne=[{label:u("Config.Safe.index_30"),value:1},{label:"Let's Encrypt",value:2},{label:u("Config.Safe.index_31"),value:3}],ie=async()=>{const{message:e}=await L();f(e)&&(ee.value=e.cert_type?Number(e.cert_type):1,ae.value=e.email||"")},se=async()=>{const{message:e}=await E();f(e)&&(le.value=e.privateKey||"",te.value=e.certPem||"")};return(async()=>{const e=s.loading(u("Config.Safe.index_32"));try{await Promise.all([ie(),se()])}finally{e.close()}})(),a({onConfirm:async()=>{if(await d.value.validate(),2===ee.value&&""===ae.value.trim())return s.error(u("Config.Safe.index_33")),!1;if(2===ee.value&&!o(ae.value))return s.error(u("Config.Safe.index_34")),!1;if(3===ee.value&&(""===le.value.trim()||""===te.value.trim()))return s.error(u("Config.Safe.index_35")),!1;const e=s.loading(u("Config.Safe.index_36"));try{3===ee.value&&await P({privateKey:le.value,certPem:te.value}),await U((()=>{const e=2===ee.value?{email:ae.value}:{};return{cert_type:ee.value,...e}})(),!1),await j(),setTimeout((()=>{if(r){const e="http:"===location.protocol?"https":"http";window.location.href=`${e}://${window.location.host}${l.value.adminPath}`}}),1500)}finally{e.close()}return!1}}),(e,a)=>{const l=c,s=x("i18n-t"),o=t,r=K,f=M,u=i,p=n;return m(),g("div",O,[_("div",R,[_("div",z,[y(l,{name:"scan-success",size:"32"})]),_("span",I,w(e.$t("Config.Safe.index_18")),1)]),y(o,{class:"mb-20px"},{default:h((()=>[_("li",N,w(e.$t("Config.Safe.index_19")),1),_("li",null,w(e.$t("Config.Safe.index_20")),1),y(s,{tag:"li",scope:"global",keypath:"Config.Safe.index_21"},{link_:h((()=>[_("a",Q,w(e.$t("Config.Safe.index_22")),1)])),_:1})])),_:1}),_("div",T,[_("span",W,w(e.$t("Config.Safe.index_24")),1),_("div",Y,[y(r,{value:b(ee),"onUpdate:value":a[0]||(a[0]=e=>C(ee)?ee.value=e:null),options:ne},null,8,["value"])])]),S(_("div",Z,[_("span",q,w(e.$t("Config.Safe.index_25")),1),_("div",A,[y(f,{value:b(ae),"onUpdate:value":a[1]||(a[1]=e=>C(ae)?ae.value=e:null),placeholder:e.$t("Config.Safe.index_26")},null,8,["value","placeholder"])])],512),[[$,2===b(ee)]]),S(_("div",B,[_("span",D,w(e.$t("Config.Safe.index_27")),1),_("div",F,[y(u,{value:b(le),"onUpdate:value":a[2]||(a[2]=e=>C(le)?le.value=e:null),rows:4,placeholder:""},null,8,["value"])])],512),[[$,3===b(ee)]]),S(_("div",G,[_("span",H,w(e.$t("Config.Safe.index_28")),1),_("div",J,[y(u,{value:b(te),"onUpdate:value":a[3]||(a[3]=e=>C(te)?te.value=e:null),rows:4,placeholder:""},null,8,["value"])])],512),[[$,3===b(ee)]]),_("div",V,[y(p,{ref_key:"riskRef",ref:d},{default:h((()=>[k(w(e.$t("Config.Safe.index_29")),1)])),_:1},512),_("a",X,w(e.$t("Config.Safe.index_167")),1)])])}}}),[["__scopeId","data-v-02bc9a9f"]]))}}}));
