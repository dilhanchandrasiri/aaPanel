System.register(["./index-legacy.js?v=1723125373998","./index-legacy70.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy3.js?v=1723125373998","./useTableData-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1723125373998","./pinia-legacy.js?v=1723125373998","./site-legacy2.js?v=1723125373998","./useLoading-legacy.js?v=1723125373998","./useTableColumns-legacy.js?v=1723125373998","./site-legacy.js?v=1723125373998","./index-legacy144.js?v=1723125373998","./vue-legacy.js?v=1723125373998","./index-legacy105.js?v=1723125373998","./index-legacy77.js?v=1723125373998","./index-legacy73.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1723125373998","./Switch-legacy.js?v=1723125373998","./Select-legacy.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1723125373998","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1723125373998","./Checkbox-legacy.js?v=1723125373998","./Space-legacy.js?v=1723125373998","./index-legacy145.js?v=1723125373998","./Spin-legacy.js?v=1723125373998","./Tag-legacy.js?v=1723125373998"],(function(e,t){"use strict";var l,a,i,n,o,r,s,u,d,p,c,_,y,x,h,m,v,g,f,w,b,S,k,P,$,C,U,L,R,T,V,j,D,z,N,B,O,E,q,I,H,W,K,M,A,F,G,Q,J,Z,X,Y,ee,te,le,ae,ie,ne,oe,re,se,ue,de,pe,ce,_e,ye,xe,he,me,ve,ge,fe,we,be,Se,ke,Pe,$e,Ce,Ue,Le,Re,Te,Ve,je,De,ze,Ne,Be,Oe,Ee,qe,Ie,He,We,Ke,Me,Ae,Fe,Ge,Qe,Je,Ze,Xe,Ye,et,tt,lt,at,it,nt,ot,rt,st,ut,dt,pt,ct,_t,yt,xt,ht,mt,vt;return{setters:[e=>{l=e.j,a=e.aw,i=e.e,n=e.h,o=e.k,r=e.n,s=e.B,u=e.c_,d=e.ae,p=e.g,c=e.q,_=e.cs,y=e.cG,x=e.G,h=e.p,m=e.bt,v=e.v,g=e.ay,f=e.cQ,w=e.bg,b=e.L,S=e.cV,k=e.I,P=e.m,$=e.r},e=>{C=e._},e=>{U=e._},e=>{L=e._},e=>{R=e._},e=>{T=e.u,V=e._},e=>{j=e._},e=>{D=e.s},e=>{z=e.o,N=e.l},e=>{B=e.u},e=>{O=e.B,E=e.b,q=e.c,I=e.g,H=e.a},e=>{W=e.f,K=e.h,M=e.i,A=e.j,F=e.k,G=e.l,Q=e.m,J=e.n,Z=e.o,X=e.p,Y=e.q,ee=e.r,te=e.t,le=e.u,ae=e.v,ie=e.w,ne=e.x,oe=e.y,re=e.z,se=e.A,ue=e.B,de=e.C,pe=e.D,ce=e.E,_e=e.F,ye=e.G,xe=e.H,he=e.I,me=e.J,ve=e.K,ge=e.L,fe=e.M,we=e.N,be=e.O,Se=e.P,ke=e.Q,Pe=e.R,$e=e.S,Ce=e.T,Ue=e.U,Le=e.V},e=>{Re=e._},e=>{Te=e.A,Ve=e.a,je=e.P,De=e.l,ze=e.ad,Ne=e.r,Be=e.S,Oe=e.Z,Ee=e._,qe=e.V,Ie=e.a3,He=e.W,We=e.b,Ke=e.q,Me=e.f,Ae=e.t,Fe=e.af,Ge=e.F,Qe=e.U,Je=e.x,Ze=e.L,Xe=e.n,Ye=e.a1,et=e.s,tt=e.w},e=>{lt=e._},e=>{at=e._},e=>{it=e._},e=>{nt=e._,ot=e.a,rt=e.b},e=>{st=e._},e=>{ut=e._},e=>{dt=e._},e=>{pt=e._},e=>{ct=e._},e=>{_t=e._,yt=e.a},e=>{xt=e._},e=>{ht=e._},e=>{mt=e._},e=>{vt=e._}],execute:function(){e("u",bt);const gt=Symbol("server-list");async function ft(e){const{message:t}=await W({site_name:e});if(l(t))return t}async function wt(e,t){const{message:a}=await K({site_name:e,proxy_path:t});if(l(a))return a}function bt(){return Ve(gt)}const{t:St}=a.global;function kt({delDomain:e}){return{key:"action",title:St("Site.TableRow.OPT"),width:80,align:"right",render:t=>je(O,{options:[{label:St("Site.TableOP.Del"),onClick:()=>{n({title:`${St("Site.Batch.DeleteDomain.Title")} [${t.name}]`,content:St("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:l})=>{await e(t),l()}})}}]},null)}}const Pt={class:"flex justify-between items-center mb-24px"},$t={class:"w-400px"},Ct={class:"pr-40px"},Ut=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{data:n}=bt(),u=Ne(""),d=async()=>{""!==u.value.trim()?(await F({id:n.id,site_name:n.name,domains:u.value.trim().split("\n").join(",")}),u.value="",g()):r.error(a("Site.Proxy.index_59"))},p=async e=>{await M({id:n.id,site_name:n.name,domain:e.name,port:e.port}),g()},{keys:c,table:_,columns:y}=T([{type:"selection",width:40},{key:"name",title:St("Site.TableRow.Domain"),render:e=>je(i,{href:`http://${e.name}:${e.port}`,target:"_blank"},{default:()=>[e.name]})},{key:"port",title:St("Site.TableRow.Port"),width:100},kt({delDomain:p})]),x=()=>{_.data.length>1?y.value[y.value.length-1]=kt({delDomain:p}):y.value[y.value.length-1]={key:"action",title:St("Site.TableRow.OPT"),width:80,align:"right",render:()=>je("span",{class:"text-default"},[St("Site.TableOP.Inoperable")])}},h=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>M({id:n.id,site_name:n.name,domain:e.name,port:e.port},!1),done:()=>{g()},columns:[{key:"name",title:a("Site.TableRow.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:m,setLoading:v}=B(),g=async()=>{try{v(!0);const e={id:n.id,site_name:n.name},{message:t}=await A(e);l(t)&&(_.data=o(t.domain_list)?t.domain_list:[],x())}catch(e){r.error(a("Site.Proxy.index_60"))}finally{c.value=[],v(!1)}};return g(),t({init:g}),(e,t)=>{const l=lt,a=s,i=V,n=R,o=U;return Be(),Oe("div",null,[Ee("div",Pt,[Ee("div",$t,[je(l,{value:He(u),"onUpdate:value":t[0]||(t[0]=e=>We(u)?u.value=e:null)},{default:qe((()=>[Ee("p",null,Ie(e.$t("Site.PHP.add_site_5")),1),Ee("p",null,Ie(e.$t("Site.PHP.add_site_6")),1),Ee("p",null,Ie(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])]),Ee("div",Ct,[je(a,{type:"primary",onClick:d},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Add")),1)])),_:1})])]),je(o,null,{table:qe((()=>[je(i,{"checked-row-keys":He(c),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(c)?c.value=e:null),loading:He(m),"max-height":400,data:He(_).data,columns:He(y)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(n,{"checked-row-keys":He(c),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>We(c)?c.value=e:null),data:He(_).data,options:h},null,8,["checked-row-keys","data"])])),_:1})])}}}),Lt={class:"p-20px"},Rt={class:"w-280px"},Tt=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i}=D(a),n=e,{getList:o}=n.data,r=Ne(null),s=Me({name:""}),p={name:{required:!0,message:l("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(r.value?.validate()),await G({site_name:i.value,ip_type:"white",ips:s.name}),o?.(),e()}}),(e,t)=>{const l=d,a=nt,i=ot,n=it;return Be(),Oe("div",Lt,[je(i,{ref_key:"formRef",ref:r,model:He(s),rules:p},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:qe((()=>[Ee("div",Rt,[je(l,{type:"textarea",value:He(s).name,"onUpdate:value":t[0]||(t[0]=e=>He(s).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(n,{class:"mt-4px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Vt=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:o}=B(),r=u(),{siteName:d}=D(r),_=async()=>{try{o(!0);const e=await ft(d.value);l(e)&&(x.data=e.ip_limit.ip_white.map((e=>({ip:e}))))}finally{y.value=[],o(!1)}};_(),t({init:_});const{keys:y,table:x,columns:h}=T([{type:"selection",width:40},{key:"ip",title:a("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Del"),onClick:()=>{n({title:`${a("Site.TableOP.Delete")} [${e.ip}]`,content:a("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await J({site_name:d.value,ip_type:"white",ip:e.ip}),_(),t()}})}}]})]),m=[{key:"del",label:a("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{n({title:a("Site.Batch.DeleteWeb.Label2"),content:a("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await Q({site_name:d.value,ip_type:"white",ips:e.map((e=>e.ip)).join("\n")}),_(),t()}})}}],v=()=>{g.title=a("Site.Proxy.index_22"),g.show=!0},g=p(a("Site.Proxy.index_22"),{getList:_});return(e,t)=>{const l=s,a=V,n=R,o=U,r=c;return Be(),Oe("div",null,[je(o,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:v},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_22")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(y)?y.value=e:null),"row-key":"ip",loading:He(i),"max-height":440,data:He(x).data,columns:He(h)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(n,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(y)?y.value=e:null),"row-key":"ip",data:He(x).data,options:m},null,8,["checked-row-keys","data"])])),_:1}),je(r,{show:He(g).show,"onUpdate:show":t[2]||(t[2]=e=>He(g).show=e),title:He(g).title,data:He(g).data,width:480,footer:!0,component:Tt},null,8,["show","title","data"])])}}}),jt={class:"p-20px"},Dt={class:"w-280px"},zt=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i}=D(a),n=e,{getList:o}=n.data,r=Ne(null),s=Me({name:""}),p={name:{required:!0,message:l("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(r.value?.validate()),await G({site_name:i.value,ip_type:"black",ips:s.name}),o?.(),e()}}),(e,t)=>{const l=d,a=nt,i=ot,n=it;return Be(),Oe("div",jt,[je(i,{ref_key:"formRef",ref:r,model:He(s),rules:p},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:qe((()=>[Ee("div",Dt,[je(l,{type:"textarea",value:He(s).name,"onUpdate:value":t[0]||(t[0]=e=>He(s).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(n,{class:"mt-4px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Nt=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:o}=B(),r=u(),{siteName:d}=D(r),_=async()=>{try{o(!0);const e=await ft(d.value);l(e)&&(x.data=e.ip_limit.ip_black.map((e=>({ip:e}))))}finally{y.value=[],o(!1)}};_(),t({init:_});const{keys:y,table:x,columns:h}=T([{type:"selection",width:40},{key:"ip",title:a("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Del"),onClick:()=>{n({title:`${a("Site.TableOP.Delete")} [${e.ip}]`,content:a("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await J({site_name:d.value,ip_type:"black",ip:e.ip}),_(),t()}})}}]})]),m=[{key:"del",label:a("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{n({title:a("Site.Batch.DeleteWeb.Label2"),content:a("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await Q({site_name:d.value,ip_type:"black",ips:e.map((e=>e.ip)).join("\n")}),_(),t()}})}}],v=()=>{g.title=a("Site.Proxy.index_21"),g.show=!0},g=p(a("Site.Proxy.index_21"),{getList:_});return(e,t)=>{const l=s,a=V,n=R,o=U,r=c;return Be(),Oe("div",null,[je(o,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:v},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_21")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(y)?y.value=e:null),"row-key":"ip",loading:He(i),"max-height":440,data:He(x).data,columns:He(h)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(n,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(y)?y.value=e:null),"row-key":"ip",data:He(x).data,options:m},null,8,["checked-row-keys","data"])])),_:1}),je(r,{show:He(g).show,"onUpdate:show":t[2]||(t[2]=e=>He(g).show=e),title:He(g).title,data:He(g).data,width:480,footer:!0,component:zt},null,8,["show","title","data"])])}}}),Bt={class:"p-20px"},Ot={class:"w-280px"},Et={class:"w-280px"},qt={class:"w-280px"},It={class:"w-280px"},Ht=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i}=D(a),n=e,{isEdit:o,row:r,getList:s}=n.data,p=Ne(null),c=Me({name:_(5),auth_path:"",username:"",password:""}),y={name:{required:!0,message:l("Site.Placeholder.Index_4"),trigger:["blur","input"]},auth_path:{required:!0,message:l("Site.Placeholder.Index_5"),trigger:["blur","input"]},username:{required:!0,message:l("Site.Placeholder.Index_6"),trigger:["blur","input"]},password:{required:!0,message:l("Site.Placeholder.Index_8"),trigger:["blur","input"]}};return o&&r&&(c.name=r.auth_name,c.auth_path=r.auth_path),t({onConfirm:async({hide:e})=>{await(p.value?.validate()),o?await Z({...Ae(c),site_name:i.value}):await X({...Ae(c),site_name:i.value}),s?.(),e()}}),(e,t)=>{const l=d,a=nt,i=ot,n=it;return Be(),Oe("div",Bt,[je(i,{ref_key:"formRef",ref:p,model:He(c),rules:y},{default:qe((()=>[je(a,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:qe((()=>[Ee("div",Ot,[je(l,{value:He(c).name,"onUpdate:value":t[0]||(t[0]=e=>He(c).name=e),disabled:He(o),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),je(a,{label:e.$t("Site.TableRow.Path"),path:"auth_path"},{default:qe((()=>[Ee("div",Et,[je(l,{value:He(c).auth_path,"onUpdate:value":t[1]||(t[1]=e=>He(c).auth_path=e),disabled:He(o),placeholder:e.$t("Site.Proxy.index_42")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),je(a,{label:e.$t("Public.tableRow.Username"),path:"username"},{default:qe((()=>[Ee("div",qt,[je(l,{value:He(c).username,"onUpdate:value":t[2]||(t[2]=e=>He(c).username=e)},null,8,["value"])])])),_:1},8,["label"]),je(a,{label:e.$t("Public.tableRow.Password"),path:"password"},{default:qe((()=>[Ee("div",It,[je(l,{value:He(c).password,"onUpdate:value":t[3]||(t[3]=e=>He(c).password=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(n,{class:"mt-4px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_43")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_44")),1)])),_:1})])}}}),Wt=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:o}=B(),r=u(),{siteName:d}=D(r),_=async()=>{try{o(!0);const e=await ft(d.value);l(e)&&(x.data=e.basic_auth)}finally{o(!1)}};_(),t({init:_});const{keys:y,table:x,columns:h}=T([{key:"auth_name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"auth_path",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{g(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{n({title:`${a("Site.Proxy.index_48")} [${e.auth_name}]`,content:a("Site.Proxy.index_49"),onConfirm:async({hide:t})=>{await Y({site_name:d.value,auth_path:e.auth_path,name:e.auth_name}),_(),t()}})}}]})]),m=p(a("Site.Proxy.index_45"),{isEdit:!1,getList:_}),v=()=>{m.data.isEdit=!1,m.title=a("Site.Proxy.index_45"),m.show=!0},g=e=>{m.data.row=e,m.data.isEdit=!0,m.title=a("Site.Proxy.index_50"),m.show=!0};return(e,t)=>{const l=s,a=V,n=U,o=it,r=c;return Be(),Oe("div",null,[je(n,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:v},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_45")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(y)?y.value=e:null),"row-key":"name",loading:He(i),"max-height":440,data:He(x).data,columns:He(h)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),je(o,{class:"mt-16px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_46")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_47")),1)])),_:1}),je(r,{show:He(m).show,"onUpdate:show":t[1]||(t[1]=e=>He(m).show=e),title:He(m).title,data:He(m).data,width:480,footer:!0,component:Ht},null,8,["show","title","data"])])}}}),Kt={class:"p-20px"},Mt={key:0},At=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:o}=D(i),r=Ne(null),d=Me({switchValue:!1,inputValue:1,selectValue:"m"}),p=async()=>{const e=await ft(o.value);l(e)&&(d.switchValue=e.proxy_cache.cache_status,e.proxy_cache.expires.length>1&&(d.inputValue=Number(e.proxy_cache.expires.slice(0,-1)),d.selectValue=e.proxy_cache.expires.slice(-1)))};p(),t({init:p});const c={inputValue:{required:!0,validator(e,t){if(!t)return new Error(a("Site.Proxy.index_26"))},trigger:["input","blur"]}},_=[{label:a("Public.Unit.Minute"),value:"m"},{label:a("Public.Unit.Hour"),value:"h"},{label:a("Public.Unit.Day"),value:"d"}],m=async()=>{await(r.value?.validate());let e={site_name:o.value,cache_status:d.switchValue?1:0,expires:`${d.inputValue}${d.selectValue}`};await ee(e),p()},v=()=>{const e=`${a("Site.Proxy.index_27")} [${o.value}]`;n({title:e,content:a("Site.Proxy.index_28"),onConfirm:async()=>{await te({site_name:o.value})}})};return(e,t)=>{const l=st,a=nt,i=y,n=ut,o=x,u=s,p=rt,g=h,f=it;return Be(),Oe(Ge,null,[Ee("div",Kt,[je(p,{ref_key:"formRef",ref:r,"label-width":100,model:He(d),rules:c,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_24")},{default:qe((()=>[je(l,{value:He(d).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>He(d).switchValue=e),m]},null,8,["value"])])),_:1},8,["label"]),He(d).switchValue?(Be(),Oe("div",Mt,[je(o,null,{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_25"),path:"inputValue"},{default:qe((()=>[je(i,{"show-button":!1,value:He(d).inputValue,"onUpdate:value":t[1]||(t[1]=e=>He(d).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),je(a,null,{default:qe((()=>[je(n,{class:"w-90px",value:He(d).selectValue,"onUpdate:value":t[2]||(t[2]=e=>He(d).selectValue=e),placeholder:e.$t("Site.Proxy.index_26"),options:_},null,8,["value","placeholder"])])),_:1})])),_:1}),je(a,{label:" "},{default:qe((()=>[je(u,{type:"primary",onClick:m},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Fe("",!0)])),_:1},8,["model"]),je(g),je(u,{class:"mt-20px",onClick:v},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_27")),1)])),_:1})]),je(f,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_28")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_29")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_30")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_31")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_32"))+" css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map ",1)])),_:1})],64)}}}),Ft={class:"p-20px"},Gt={key:0},Qt=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n}=D(i),o=async()=>{const e=await ft(n.value);if(l(e)){p.switchValue=e.gzip.gzip_status,p.inputType=e.gzip.gzip_types,p.selectLevel=Number(e.gzip.gzip_comp_level);let t="",l="m";e.gzip.gzip_min_length&&e.gzip.gzip_min_length.length>1&&(t=e.gzip.gzip_min_length.slice(0,-1),l=e.gzip.gzip_min_length.slice(-1)),p.inputValue=Number(t),p.selectLength=l}};o(),t({init:o});const r=Ne(null),p=Me({switchValue:!0,inputType:"",selectLevel:1,selectLength:"m",inputValue:1}),c={inputType:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},inputValue:{required:!0,trigger:"blur",validator:(e,t)=>{if(!t)return new Error(a("Site.Proxy.index_41"))}}},_=[{label:"k",value:"k"},{label:"m",value:"m"}],h=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9}],m=async()=>{await(r.value?.validate());let e={site_name:n.value,gzip_status:p.switchValue?1:0,gzip_min_length:`${p.inputValue}${p.selectLength}`,gzip_comp_level:p.selectLevel,gzip_types:p.inputType};await le(e),o()};return(e,t)=>{const l=st,a=nt,i=d,n=ut,o=y,u=x,v=s,g=rt,f=it;return Be(),Oe("div",Ft,[je(g,{ref_key:"formRef",ref:r,"label-width":150,model:He(p),rules:c,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_34")},{default:qe((()=>[je(l,{value:He(p).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>He(p).switchValue=e),m]},null,8,["value"])])),_:1},8,["label"]),He(p).switchValue?(Be(),Oe("div",Gt,[je(a,{label:e.$t("Site.Proxy.index_35"),path:"inputType"},{default:qe((()=>[je(i,{value:He(p).inputType,"onUpdate:value":t[1]||(t[1]=e=>He(p).inputType=e),type:"textarea",placeholder:"Please input"},null,8,["value"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Proxy.index_36")},{default:qe((()=>[je(n,{value:He(p).selectLevel,"onUpdate:value":t[2]||(t[2]=e=>He(p).selectLevel=e),options:h},null,8,["value"])])),_:1},8,["label"]),je(u,null,{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_37"),path:"inputValue"},{default:qe((()=>[je(o,{"show-button":!1,value:He(p).inputValue,"onUpdate:value":t[3]||(t[3]=e=>He(p).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),je(a,null,{default:qe((()=>[je(n,{class:"w-90px",value:He(p).selectLength,"onUpdate:value":t[4]||(t[4]=e=>He(p).selectLength=e),options:_},null,8,["value"])])),_:1})])),_:1}),je(a,{label:" "},{default:qe((()=>[je(v,{type:"primary",onClick:m},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Fe("",!0)])),_:1},8,["model"]),je(f,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_38")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_39")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_40")),1)])),_:1})])}}}),Jt={class:"p-20px"},Zt=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n}=D(i),o=async()=>{const e=await ft(n.value);l(e)&&(p.selectValue=e.proxy_log.log_type,p.inputValue=e.proxy_log.rsyslog_host,p.unx=e.proxy_log.log_path)};o(),t({init:o});const r=Ne(null),p=Me({inputValue:"",selectValue:"default",unx:""}),c={inputValue:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},unx:{required:!0,message:a("Site.Proxy.index_41"),trigger:["blur","input"]}},_=[{label:a("Site.Proxy.index_54"),value:"default"},{label:a("Site.Proxy.index_55"),value:"off"},{label:a("Site.Proxy.index_56"),value:"file"},{label:a("Site.Proxy.index_57"),value:"rsyslog"}],y=async()=>{await(r.value?.validate());let e={site_name:n.value,log_type:p.selectValue,log_path:"file"===p.selectValue?p.unx:"rsyslog"===p.selectValue?p.inputValue:""};await ae(e),o()};return(e,t)=>{const l=ut,a=nt,i=dt,n=d,o=s,u=rt;return Be(),Oe("div",Jt,[je(u,{ref_key:"formRef",ref:r,"label-width":150,model:He(p),rules:c,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_51")},{default:qe((()=>[je(l,{class:"w-300px",value:He(p).selectValue,"onUpdate:value":t[0]||(t[0]=e=>He(p).selectValue=e),options:_},null,8,["value"])])),_:1},8,["label"]),"file"==He(p).selectValue?(Be(),Qe(a,{key:0,label:e.$t("Site.Proxy.index_52"),path:"unx"},{default:qe((()=>[je(i,{class:"w-400px","checked-type":["dir"],value:He(p).unx,"onUpdate:value":t[1]||(t[1]=e=>He(p).unx=e)},null,8,["value"])])),_:1},8,["label"])):Fe("",!0),"rsyslog"==He(p).selectValue?(Be(),Qe(a,{key:1,label:e.$t("Site.Proxy.index_53"),path:"inputValue"},{default:qe((()=>[je(n,{class:"w-300px!",value:He(p).inputValue,"onUpdate:value":t[2]||(t[2]=e=>He(p).inputValue=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1},8,["label"])):Fe("",!0),je(a,{label:" "},{default:qe((()=>[je(o,{type:"primary",onClick:y},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Xt={class:"p-20px"},Yt=De({__name:"index",setup(e,{expose:t}){const a=u(),{siteName:i}=D(a),n=async()=>{const e=await ft(i.value);l(e)&&(r.switchValue=e.websocket.websocket_status)};n(),t({init:n});const o=Ne(null),r=Me({switchValue:!1}),s=async()=>{await(o.value?.validate()),ie({site_name:i.value,websocket_status:r.switchValue?1:0})};return(e,t)=>{const l=st,a=nt,i=rt;return Be(),Oe("div",Xt,[je(i,{ref_key:"formRef",ref:o,"label-width":150,model:He(r),"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_58")},{default:qe((()=>[je(l,{value:He(r).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>He(r).switchValue=e),s]},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),el=De({__name:"index",setup(e){const{t:t}=ze(),l=Ne("cache"),a=[{key:"cache",label:t("Site.Lable.Cache"),component:At},{key:"compressed",label:t("Site.Proxy.index_61"),component:Qt},{key:"black",label:t("Site.Proxy.index_62"),component:Nt},{key:"white",label:t("Site.Proxy.index_63"),component:Vt},{key:"http",label:t("Site.Proxy.index_64"),component:Wt},{key:"log",label:t("Site.Proxy.index_51"),component:Zt},{key:"websocket",label:t("Site.Proxy.index_65"),component:Yt}];return(e,t)=>{const i=at;return Be(),Qe(i,{value:He(l),"onUpdate:value":t[0]||(t[0]=e=>We(l)?l.value=e:null),options:a},null,8,["value"])}}}),tl={class:"mb-10px"},ll=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{data:i}=bt(),n=Ne(""),o=Ne(""),u=Ne({readOnly:!0}),{toClipboard:d}=q();let p=Ne();const c=async()=>{(async()=>{const{message:e}=await ne({site_name:i.name});l(e)&&(o.value=e.site_conf)})()};return Je((()=>{c()})),t({init:c}),(e,t)=>{const l=s;return Be(),Oe(Ge,null,[Ee("div",tl,Ie(e.$t("Site.Proxy.index_73")),1),je(pt,{path:He(n),"onUpdate:path":t[0]||(t[0]=e=>We(n)?n.value=e:null),value:He(o),"onUpdate:value":t[1]||(t[1]=e=>We(o)?o.value=e:null),config:He(u),height:530,readOnly:!0,"show-tips":!1},null,8,["path","value","config"]),je(l,{class:"mt-10px",ref_key:"copyBtn",ref:p,onClick:t[2]||(t[2]=e=>(async e=>{try{await d(e,p.value.$el),r.success(a("Site.Cert.index_1"))}catch(t){console.error(t),r.success(a("Site.Cert.index_2"))}})(He(o)))},{default:qe((()=>[Ke(Ie(e.$t("Public.Btn.Copy")),1)])),_:1},512)],64)}}}),al={key:0},il={href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#server",target:"_blank",class:"text-#20a53a"},nl={key:1},ol={href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#http",target:"_blank",class:"text-#20a53a"},rl=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{data:i}=bt(),n=Ne(""),o=Ne(""),u=Ne("server_block"),d=[{value:"server_block",label:"server"},{value:"http_block",label:"http"}],p=async()=>{await oe({site_name:i.name,conf_type:u.value,body:o.value}),y()},{toClipboard:c}=q();let _=Ne();const y=async()=>{(async()=>{const{message:e}=await ne({site_name:i.name});l(e)&&(o.value=e[u.value])})()};return Je((()=>{y()})),t({init:y}),(e,t)=>{const l=ut,i=x,h=s,m=it;return Be(),Oe(Ge,null,[je(i,{class:"items-center mb-10px"},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_68"))+" ",1),je(l,{class:"w-200px",value:He(u),"onUpdate:value":[t[0]||(t[0]=e=>We(u)?u.value=e:null),y],options:d},null,8,["value"])])),_:1}),je(pt,{path:He(n),"onUpdate:path":t[1]||(t[1]=e=>We(n)?n.value=e:null),value:He(o),"onUpdate:value":t[2]||(t[2]=e=>We(o)?o.value=e:null),config:d,height:400,"show-tips":!1},null,8,["path","value"]),je(i,{class:"mt-10px mb-10px"},{default:qe((()=>[je(h,{type:"primary",onClick:p},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1}),je(h,{ref_key:"copyBtn",ref:_,onClick:t[3]||(t[3]=e=>(async e=>{try{await c(e,_.value.$el),r.success(a("Site.Cert.index_1"))}catch(t){console.error(t),r.success(a("Site.Cert.index_2"))}})(He(o)))},{default:qe((()=>[Ke(Ie(e.$t("Public.Btn.Copy")),1)])),_:1},512)])),_:1}),je(m,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_69")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_70")),1),"server_block"==He(u)?(Be(),Oe("li",al,[Ke(Ie(e.$t("Site.Proxy.index_71"))+" ",1),Ee("a",il,Ie(e.$t("Site.Proxy.index_72")),1)])):(Be(),Oe("li",nl,[Ke(Ie(e.$t("Site.Proxy.index_71"))+" ",1),Ee("a",ol,Ie(e.$t("Site.Proxy.index_72")),1)]))])),_:1})],64)}}}),sl=De({__name:"index",setup(e){const{t:t}=ze(),l=Ne("main"),a=[{key:"main",label:t("Site.Proxy.index_66"),component:ll},{key:"customize",label:t("Site.Proxy.index_67"),component:rl}];return(e,t)=>{const i=at;return Be(),Qe(i,{value:He(l),"onUpdate:value":t[0]||(t[0]=e=>We(l)?l.value=e:null),options:a},null,8,["value"])}}}),ul={class:"px-20px py-24px"},dl={class:"w-120px"},pl={class:"w-120px"},cl={class:"w-200px"},_l={class:"w-200px"},yl={class:"w-200px"},xl=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=ze(),i=e,{isEdit:n,siteId:r,siteName:s,row:u,getList:p}=i.data,c=Ne(null),_=Me({redirectname:`${(new Date).valueOf()}`,type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),y={redirectdomain:{trigger:["change"],validator:()=>0!==_.redirectdomain.length||new Error(a("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==_.redirectpath.trim()||new Error(a("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==_.tourl.trim()||new Error("Site.RulesError.RedirectedUrl")}},h=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],v=Ne([]),g=()=>{_.redirectdomain=[],_.redirectpath=""},{loading:f,setLoading:w}=B();return n&&u&&(_.redirectname=u.redirectname,_.type=u.type,_.holdpath=u.holdpath,_.redirecttype=u.redirecttype,_.redirectpath=u.redirectpath,_.domainorpath=u.domainorpath,_.redirectdomain=u.redirectdomain,_.tourl=u.tourl),(async()=>{try{w(!0);const{message:e}=await A({site_name:s,id:r});l(e)&&(v.value=o(e.domain_list)?e.domain_list.map((e=>({label:e.name,value:e.name}))):[])}finally{w(!1)}})(),t({onConfirm:async({hide:e})=>{await(c.value?.validate());const t={...Ae(_),site_name:s};n?await se(t):await re(t),p?.(),e()}}),(e,t)=>{const l=st,a=nt,i=x,n=ut,o=d,r=ot,s=it;return Be(),Oe("div",ul,[je(r,{ref_key:"formRef",ref:c,model:He(_),rules:y},{default:qe((()=>[je(i,{size:60},{default:qe((()=>[je(a,{label:e.$t("Site.Lable.Enable")},{default:qe((()=>[je(l,{value:He(_).type,"onUpdate:value":t[0]||(t[0]=e=>He(_).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:qe((()=>[je(l,{value:He(_).holdpath,"onUpdate:value":t[1]||(t[1]=e=>He(_).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),je(i,{size:30},{default:qe((()=>[je(a,{label:e.$t("Site.TableRow.Type")},{default:qe((()=>[Ee("div",dl,[je(n,{value:He(_).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>He(_).domainorpath=e),g],options:h},null,8,["value"])])])),_:1},8,["label"]),je(a,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:qe((()=>[Ee("div",pl,[je(n,{value:He(_).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>He(_).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===He(_).domainorpath?(Be(),Qe(a,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:qe((()=>[Ee("div",cl,[je(n,{value:He(_).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>He(_).redirectdomain=e),multiple:!0,loading:He(f),options:He(v),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Fe("",!0),"path"===He(_).domainorpath?(Be(),Qe(a,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:qe((()=>[Ee("div",_l,[je(o,{value:He(_).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>He(_).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Fe("",!0),je(a,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:qe((()=>[Ee("div",yl,[je(o,{value:He(_).tourl,"onUpdate:value":t[6]||(t[6]=e=>He(_).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(s,{class:"mt-12px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.0")),1),Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.1")),1),Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.2")),1),Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.3")),1),Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.4")),1),Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),hl={class:"p-20px"},ml={class:"mt-12px"},vl=De({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:i,getList:n}=a.data,o=t,u=Ne(""),d=Ne(""),p=async()=>{const{message:e}=await de({path:i.redirect_conf_file,data:u.value,encoding:d.value});l(e)&&r.success(e.msg),n?.(),o("close")};return(async()=>{const{message:e}=await ue({path:i.redirect_conf_file});l(e)&&(u.value=e.data,d.value=e.encoding)})(),(e,t)=>{const l=s,a=it;return Be(),Oe("div",hl,[je(pt,{value:He(u),"onUpdate:value":t[0]||(t[0]=e=>We(u)?u.value=e:null),height:350,"show-tips":!0},null,8,["value"]),Ee("div",ml,[je(l,{type:"primary",onClick:p},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})]),je(a,{class:"mt-24px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),gl=De({__name:"index",setup(e,{expose:t}){const{t:l}=ze(),{data:a}=bt(),i=e=>({site_name:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:r,table:u,columns:d}=T([{title:l("Site.TableRow.Redirected"),key:"name",ellipsis:{tooltip:{width:"trigger"}},render:e=>"domain"===e.domainorpath&&e.redirectdomain.length?e.redirectdomain.join("、"):e.redirectpath},{title:l("Site.TableRow.Type"),key:"name",width:90,render:e=>"domain"===e.domainorpath?"Domain":"Approach"},{key:"tourl",title:l("Site.TableRow.RedirectedTo"),width:140},{key:"type",title:l("Site.TableRow.Status"),width:100,render:e=>je(I,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await se({...i(e),type:t,holdpath:e.holdpath,errorpage:0}),e.type=t}},null)},E({width:120,options:e=>[{label:l("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:l("Site.TableOP.Edit"),onClick:()=>{v(e)}},{label:l("Site.TableOP.Del"),onClick:()=>{n({title:`${l("Site.Batch.DeleteRedirection.Label")} [${e.redirectname}]`,content:l("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await pe({site_name:a.name,redirectname:e.redirectname}),x(),t()}})}}]})]),{loading:_,setLoading:y}=B(),x=async()=>{try{y(!0);const{message:e}=await ce({sitename:a.name});u.data=o(e)?e:[]}finally{r.value=[],y(!1)}},h=p(l("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:a.id,siteName:a.name,isEdit:!1,getList:x}),m=()=>{h.data.row=void 0,h.data.isEdit=!1,h.title=l("Site.Config.RedirectConfig.Create"),h.show=!0},v=e=>{h.data.row=e,h.data.isEdit=!0,h.title=`${l("Site.Config.RedirectConfig.Modify")} [${e.redirectname}]`,h.show=!0},g=p("",{row:void 0,siteName:a.name,getList:x}),f=e=>{g.data.row=e,g.title=`${l("Site.Config.RedirectConfig.Edit")} [${e.redirectname}]`,g.show=!0};return x(),t({init:x}),(e,t)=>{const l=s,a=V,i=U,n=it,o=c;return Be(),Oe("div",null,[je(i,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:m},{default:qe((()=>[Ke(Ie(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(r)?r.value=e:null),"row-key":"redirectname",loading:He(_),"max-height":440,data:He(u).data,columns:He(d)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),je(n,{class:"mt-20px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Config.RedirectConfig.Tips.7")),1)])),_:1}),je(o,{show:He(h).show,"onUpdate:show":t[1]||(t[1]=e=>He(h).show=e),title:He(h).title,data:He(h).data,width:660,footer:!0,component:xl},null,8,["show","title","data"]),je(o,{show:He(g).show,"onUpdate:show":t[2]||(t[2]=e=>He(g).show=e),title:He(g).title,data:He(g).data,width:580,component:vl},null,8,["show","title","data"])])}}}),fl={class:"m-15px"},wl={class:"list-none!"},bl={class:"list-none!"},Sl={class:"list-none!"},kl=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=e,{getList:i,siteName:n}=a.data,o=()=>{"2"===p.proxy_type?p.proxy_host="$http_host":p.proxy_host=""},r=e=>{if("2"===p.proxy_type)return void(p.proxy_host="$http_host");let t=e.replace(/^http[s]?:\/\//,"");t=t.replace(/(:|\?|\/|\\)(.*)$/,""),p.proxy_host=t},s=Ne(null),u=[{label:l("Site.Proxy.index_11"),value:"1"},{label:l("Site.Proxy.index_12"),value:"2"}],p=Me({proxy_path:"",proxy_type:"1",url:"http://",unx:"",proxy_host:"$http_host",remark:""}),c={proxy_path:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(""===t.trim())return new Error(l("Site.RulesError.Index_3"))}},url:{required:!0,trigger:["blur","change"],validator:(e,t)=>{if(!t.replace(/^http[s]?:\/\//,""))return new Error(l("Site.Proxy.index_14"));let a=t.replace(/^http[s]?:\/\//,"");return a=a.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(a)?p.proxy_host="$http_host":p.proxy_host=a,!0}},unx:{required:!0,message:l("Site.PHP.add_site_26"),trigger:["blur","change"]},proxy_host:{required:!0,message:l("Site.PHP.add_site_26"),trigger:["blur","change"]}};return Je((()=>{})),t({onConfirm:async()=>{await(s.value?.validate());let e={site_name:n,remark:p.remark,proxy_type:"1"==p.proxy_type?"http":"unix",proxy_pass:"1"==p.proxy_type?p.url:p.unx,proxy_path:p.proxy_path,proxy_host:p.proxy_host};await _e(e),i?.()}}),(e,t)=>{const l=d,a=nt,i=ut,n=dt,_=x,y=m,h=ot,v=it;return Be(),Oe("div",fl,[je(h,{ref_key:"formRef",ref:s,model:He(p),rules:c},{default:qe((()=>[je(a,{label:e.$t("Site.TableRow.ProxyPath"),path:"proxy_path",class:"w-570px"},{default:qe((()=>[je(l,{value:He(p).proxy_path,"onUpdate:value":t[0]||(t[0]=e=>He(p).proxy_path=e),placeholder:e.$t("Site.Placeholder.Index_9")},null,8,["value","placeholder"])])),_:1},8,["label"]),je(_,null,{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_1")},{default:qe((()=>[je(i,{value:He(p).proxy_type,"onUpdate:value":[t[1]||(t[1]=e=>He(p).proxy_type=e),o],options:u,class:"w-120px"},null,8,["value"])])),_:1},8,["label"]),"1"==He(p).proxy_type?(Be(),Qe(a,{key:0,path:"url",class:"w-310px"},{default:qe((()=>[je(l,{value:He(p).url,"onUpdate:value":t[2]||(t[2]=e=>He(p).url=e),onInput:r},null,8,["value"])])),_:1})):(Be(),Qe(a,{key:1,path:"unx",class:"w-310px"},{default:qe((()=>[je(n,{"checked-type":["dir","file"],value:He(p).unx,"onUpdate:value":t[3]||(t[3]=e=>He(p).unx=e),onChange:r},null,8,["value"])])),_:1}))])),_:1}),je(a,{label:e.$t("Site.Proxy.index_2"),path:"proxy_host",class:"w-570px"},{default:qe((()=>[je(y,{trigger:"hover"},{trigger:qe((()=>[je(l,{value:He(p).proxy_host,"onUpdate:value":t[4]||(t[4]=e=>He(p).proxy_host=e)},null,8,["value"])])),default:qe((()=>[Ke(" "+Ie(e.$t("Site.Proxy.index_75")),1)])),_:1})])),_:1},8,["label"]),je(a,{label:e.$t("Site.Proxy.index_3"),class:"w-570px"},{default:qe((()=>[je(l,{value:He(p).remark,"onUpdate:value":t[5]||(t[5]=e=>He(p).remark=e),placeholder:e.$t("Site.Proxy.index_5")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),je(v,{class:"mt-16px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_76")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_77")),1),Ee("li",wl,Ie(e.$t("Site.Proxy.index_78")),1),Ee("li",bl,Ie(e.$t("Site.Proxy.index_79")),1),Ee("li",Sl,Ie(e.$t("Site.Proxy.index_80")),1)])),_:1})])}}}),Pl={class:"p-20px"},$l={class:"w-280px"},Cl=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i,proxyPath:n}=D(a),o=e,{getList:r}=o.data,s=Ne(null),p=Me({name:""}),c={name:{required:!0,message:l("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(s.value?.validate()),await ye({site_name:i.value,proxy_path:n.value,ip_type:"white",ips:p.name}),r?.(),e()}}),(e,t)=>{const l=d,a=nt,i=ot,n=it;return Be(),Oe("div",Pl,[je(i,{ref_key:"formRef",ref:s,model:He(p),rules:c},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:qe((()=>[Ee("div",$l,[je(l,{type:"textarea",value:He(p).name,"onUpdate:value":t[0]||(t[0]=e=>He(p).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(n,{class:"mt-4px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Ul=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:o}=B(),r=u(),{siteName:d,proxyPath:_}=D(r),y=async()=>{try{o(!0);const e=await wt(d.value,_.value);l(e)&&(h.data=e.ip_limit.ip_white.map((e=>({ip:e}))))}finally{x.value=[],o(!1)}};y(),t({init:y});const{keys:x,table:h,columns:m}=T([{type:"selection",width:40},{key:"ip",title:a("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Del"),onClick:()=>{n({title:`${a("Site.TableOP.Delete")} [${e.ip}]`,content:a("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await he({site_name:d.value,proxy_path:_.value,ip_type:"white",ip:e.ip}),y(),t()}})}}]})]),v=[{key:"del",label:a("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{n({title:a("Site.Batch.DeleteWeb.Label2"),content:a("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await xe({site_name:d.value,proxy_path:_.value,ip_type:"white",ips:e.map((e=>e.ip)).join("\n")}),y(),t()}})}}],g=()=>{f.title=a("Site.Proxy.index_22"),f.show=!0},f=p(a("Site.Proxy.index_22"),{getList:y});return(e,t)=>{const l=s,a=V,n=R,o=U,r=c;return Be(),Oe("div",null,[je(o,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:g},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_22")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(x)?x.value=e:null),"row-key":"ip",loading:He(i),"max-height":440,data:He(h).data,columns:He(m)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(n,{"checked-row-keys":He(x),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(x)?x.value=e:null),"row-key":"ip",data:He(h).data,options:v},null,8,["checked-row-keys","data"])])),_:1}),je(r,{show:He(f).show,"onUpdate:show":t[2]||(t[2]=e=>He(f).show=e),title:He(f).title,data:He(f).data,width:480,footer:!0,component:Cl},null,8,["show","title","data"])])}}}),Ll={class:"p-20px"},Rl={class:"w-280px"},Tl=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i,proxyPath:n}=D(a),o=e,{getList:r}=o.data,s=Ne(null),p=Me({name:""}),c={name:{required:!0,message:l("Site.Proxy.index_20"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(s.value?.validate()),await ye({site_name:i.value,proxy_path:n.value,ip_type:"black",ips:p.name}),r?.(),e()}}),(e,t)=>{const l=d,a=nt,i=ot,n=it;return Be(),Oe("div",Ll,[je(i,{ref_key:"formRef",ref:s,model:He(p),rules:c},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_18"),path:"name"},{default:qe((()=>[Ee("div",Rl,[je(l,{type:"textarea",value:He(p).name,"onUpdate:value":t[0]||(t[0]=e=>He(p).name=e),placeholder:e.$t("Site.Proxy.index_20")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),je(n,{class:"mt-4px"},{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_19")),1)])),_:1})])}}}),Vl=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:o}=B(),r=u(),{siteName:d,proxyPath:_}=D(r),y=async()=>{try{o(!0);const e=await wt(d.value,_.value);l(e)&&(h.data=e.ip_limit.ip_black.map((e=>({ip:e}))))}finally{x.value=[],o(!1)}};y(),t({init:y});const{keys:x,table:h,columns:m}=T([{type:"selection",width:40},{key:"ip",title:a("Site.Proxy.index_18"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Del"),onClick:()=>{n({title:`${a("Site.TableOP.Delete")} [${e.ip}]`,content:a("Site.Proxy.index_23"),onConfirm:async({hide:t})=>{await he({site_name:d.value,proxy_path:_.value,ip_type:"black",ip:e.ip}),y(),t()}})}}]})]),v=[{key:"del",label:a("Site.Batch.DeleteWeb.Label1"),onBatch:e=>{n({title:a("Site.Batch.DeleteWeb.Label2"),content:a("Site.Batch.DeleteWeb.Content"),onConfirm:async({hide:t})=>{await xe({site_name:d.value,proxy_path:_.value,ip_type:"black",ips:e.map((e=>e.ip)).join("\n")}),y(),t()}})}}],g=()=>{f.title=a("Site.Proxy.index_21"),f.show=!0},f=p(a("Site.Proxy.index_21"),{getList:y});return(e,t)=>{const l=s,a=V,n=R,o=U,r=c;return Be(),Oe("div",null,[je(o,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:g},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_21")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(x),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(x)?x.value=e:null),"row-key":"ip",loading:He(i),"max-height":440,data:He(h).data,columns:He(m)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(n,{"checked-row-keys":He(x),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(x)?x.value=e:null),"row-key":"ip",data:He(h).data,options:v},null,8,["checked-row-keys","data"])])),_:1}),je(r,{show:He(f).show,"onUpdate:show":t[2]||(t[2]=e=>He(f).show=e),title:He(f).title,data:He(f).data,width:480,footer:!0,component:Tl},null,8,["show","title","data"])])}}}),jl={class:"p-20px"},Dl={key:0},zl=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n,proxyPath:o}=D(i),r=Ne(null),d=Me({switchValue:!1,inputValue:1,selectValue:"m"}),p=async()=>{const e=await wt(n.value,o.value);l(e)&&(d.switchValue=e.proxy_cache.cache_status,e.proxy_cache.expires.length>1&&(d.inputValue=Number(e.proxy_cache.expires.slice(0,-1)),d.selectValue=e.proxy_cache.expires.slice(-1)))};p(),t({init:p});const c={inputValue:{required:!0,validator(e,t){if(!t)return new Error(a("Site.Proxy.index_26"))},trigger:["input","blur"]}},_=[{label:a("Public.Unit.Minute"),value:"m"},{label:a("Public.Unit.Hour"),value:"h"},{label:a("Public.Unit.Day"),value:"d"}],h=async()=>{await(r.value?.validate());let e={site_name:n.value,proxy_path:o.value,cache_status:d.switchValue?1:0,expires:`${d.inputValue}${d.selectValue}`};await me(e),p()};return(e,t)=>{const l=st,a=nt,i=y,n=ut,o=x,u=s,p=rt,m=it;return Be(),Oe(Ge,null,[Ee("div",jl,[je(p,{ref_key:"formRef",ref:r,"label-width":100,model:He(d),rules:c,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_24")},{default:qe((()=>[je(l,{value:He(d).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>He(d).switchValue=e),h]},null,8,["value"])])),_:1},8,["label"]),He(d).switchValue?(Be(),Oe("div",Dl,[je(o,null,{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_25"),path:"inputValue"},{default:qe((()=>[je(i,{"show-button":!1,value:He(d).inputValue,"onUpdate:value":t[1]||(t[1]=e=>He(d).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),je(a,null,{default:qe((()=>[je(n,{class:"w-90px",value:He(d).selectValue,"onUpdate:value":t[2]||(t[2]=e=>He(d).selectValue=e),options:_},null,8,["value"])])),_:1})])),_:1}),je(a,{label:" "},{default:qe((()=>[je(u,{type:"primary",onClick:h},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Fe("",!0)])),_:1},8,["model"])]),je(m,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_28")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_29")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_30")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_31")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_32"))+" css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map ",1)])),_:1})],64)}}}),Nl={class:"p-20px"},Bl={key:0},Ol=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n,proxyPath:o}=D(i),r=async()=>{const e=await wt(n.value,o.value);if(l(e)){c.switchValue=e.gzip.gzip_status,c.inputType=e.gzip.gzip_types,c.selectLevel=Number(e.gzip.gzip_comp_level);let t="",l="m";e.gzip.gzip_min_length&&e.gzip.gzip_min_length.length>1&&(t=e.gzip.gzip_min_length.slice(0,-1),l=e.gzip.gzip_min_length.slice(-1)),c.inputValue=Number(t),c.selectLength=l}};r(),t({init:r});const p=Ne(null),c=Me({switchValue:!0,inputType:"",selectLevel:1,selectLength:"m",inputValue:1}),_={inputType:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},inputValue:{required:!0,trigger:"blur",validator:(e,t)=>{if(!t)return new Error(a("Site.Proxy.index_41"))}}},h=[{label:"k",value:"k"},{label:"m",value:"m"}],m=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8",value:8},{label:"9",value:9}],v=async()=>{await(p.value?.validate());let e={site_name:n.value,proxy_path:o.value,gzip_status:c.switchValue?1:0,gzip_min_length:`${c.inputValue}${c.selectLength}`,gzip_comp_level:c.selectLevel,gzip_types:c.inputType};await ve(e),r()};return(e,t)=>{const l=st,a=nt,i=d,n=ut,o=y,r=x,u=s,g=rt,f=it;return Be(),Oe("div",Nl,[je(g,{ref_key:"formRef",ref:p,"label-width":150,model:He(c),rules:_,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_34")},{default:qe((()=>[je(l,{value:He(c).switchValue,"onUpdate:value":[t[0]||(t[0]=e=>He(c).switchValue=e),v]},null,8,["value"])])),_:1},8,["label"]),He(c).switchValue?(Be(),Oe("div",Bl,[je(a,{label:e.$t("Site.Proxy.index_35"),path:"inputType"},{default:qe((()=>[je(i,{value:He(c).inputType,"onUpdate:value":t[1]||(t[1]=e=>He(c).inputType=e),type:"textarea",placeholder:"Please input"},null,8,["value"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Proxy.index_36")},{default:qe((()=>[je(n,{value:He(c).selectLevel,"onUpdate:value":t[2]||(t[2]=e=>He(c).selectLevel=e),placeholder:"Select",options:m},null,8,["value"])])),_:1},8,["label"]),je(r,null,{default:qe((()=>[je(a,{label:e.$t("Site.Proxy.index_37"),path:"inputValue"},{default:qe((()=>[je(o,{"show-button":!1,value:He(c).inputValue,"onUpdate:value":t[3]||(t[3]=e=>He(c).inputValue=e)},null,8,["value"])])),_:1},8,["label"]),je(a,null,{default:qe((()=>[je(n,{class:"w-90px",value:He(c).selectLength,"onUpdate:value":t[4]||(t[4]=e=>He(c).selectLength=e),options:h},null,8,["value"])])),_:1})])),_:1}),je(a,{label:" "},{default:qe((()=>[je(u,{type:"primary",onClick:v},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])):Fe("",!0)])),_:1},8,["model"]),je(f,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Proxy.index_38")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_39")),1),Ee("li",null,Ie(e.$t("Site.Proxy.index_40")),1)])),_:1})])}}}),El={class:"p-20px"},ql=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n,proxyPath:o}=D(i),r=Ne(!1),p=async()=>{const e=await wt(n.value,o.value);l(e)&&(_.proxy_type=e.proxy_type?"http":"unix",_.proxy_pass=e.proxy_pass,_.proxy_host=e.proxy_host,_.proxy_path=e.proxy_path,_.remark=e.remark,r.value=e.global_websocket,_.websocket=e.websocket?.websocket_status,_.proxy_connect_timeout=e.timeout?.proxy_connect_timeout,_.proxy_send_timeout=e.timeout?.proxy_send_timeout,_.proxy_read_timeout=e.timeout?.proxy_read_timeout)};p(),t({init:p});const c=Ne(null),_=Me({proxy_path:"",proxy_pass:"",proxy_host:"",proxy_type:"http",remark:"",websocket:!1,proxy_connect_timeout:"",proxy_send_timeout:"",proxy_read_timeout:""}),y={proxy_path:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},proxy_pass:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},proxy_host:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},proxy_connect_timeout:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},proxy_send_timeout:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"},proxy_read_timeout:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"}},x=[{label:a("Site.Proxy.index_11"),value:"http"},{label:a("Site.Proxy.index_12"),value:"unix"}],h=async()=>{await(c.value?.validate());let e={site_name:n.value,proxy_path:_.proxy_path,proxy_pass:_.proxy_pass,proxy_host:_.proxy_host,proxy_type:_.proxy_type,remark:_.remark,websocket:_.websocket?1:0,proxy_connect_timeout:_.proxy_connect_timeout,proxy_send_timeout:_.proxy_send_timeout,proxy_read_timeout:_.proxy_read_timeout};await ge(e),p()};return(e,t)=>{const l=d,a=nt,i=ut,n=_t,o=m,u=ct,p=s,v=rt;return Be(),Oe("div",El,[je(v,{ref_key:"formRef",ref:c,"label-width":180,model:He(_),rules:y,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.TableRow.Catalog"),path:"proxy_path"},{default:qe((()=>[je(l,{class:"w-400px!",value:He(_).proxy_path,"onUpdate:value":t[0]||(t[0]=e=>He(_).proxy_path=e),disabled:""},null,8,["value"])])),_:1},8,["label"]),je(a,{label:"Target"},{default:qe((()=>[je(i,{class:"w-200px",value:He(_).proxy_type,"onUpdate:value":t[1]||(t[1]=e=>He(_).proxy_type=e),options:x},null,8,["value"])])),_:1}),je(a,{label:" ",path:"proxy_pass"},{default:qe((()=>[je(l,{class:"w-400px!",value:He(_).proxy_pass,"onUpdate:value":t[2]||(t[2]=e=>He(_).proxy_pass=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1}),je(a,{label:e.$t("Site.Proxy.index_2"),path:"proxy_host"},{default:qe((()=>[je(l,{class:"w-400px!",value:He(_).proxy_host,"onUpdate:value":t[3]||(t[3]=e=>He(_).proxy_host=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1},8,["label"]),je(a,{label:"Remark"},{default:qe((()=>[je(l,{class:"w-400px!",value:He(_).remark,"onUpdate:value":t[4]||(t[4]=e=>He(_).remark=e),placeholder:e.$t("Site.Proxy.index_41")},null,8,["value","placeholder"])])),_:1}),je(a,{label:e.$t("Site.Proxy.index_58")},{default:qe((()=>[je(o,{trigger:"hover"},{trigger:qe((()=>[je(n,{checked:He(_).websocket,"onUpdate:checked":t[5]||(t[5]=e=>He(_).websocket=e),disabled:He(r)},null,8,["checked","disabled"])])),default:qe((()=>[Ke(" "+Ie(e.$t("Site.Tips.index_16")),1)])),_:1})])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Connection"),path:"proxy_connect_timeout"},{default:qe((()=>[je(u,Ze(e.$attrs,{class:"w-400px!",value:He(_).proxy_connect_timeout,"onUpdate:value":t[6]||(t[6]=e=>He(_).proxy_connect_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Backend"),path:"proxy_send_timeout"},{default:qe((()=>[je(u,Ze(e.$attrs,{class:"w-400px!",value:He(_).proxy_send_timeout,"onUpdate:value":t[7]||(t[7]=e=>He(_).proxy_send_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Proxy"),path:"proxy_read_timeout"},{default:qe((()=>[je(u,Ze(e.$attrs,{class:"w-400px!",value:He(_).proxy_read_timeout,"onUpdate:value":t[8]||(t[8]=e=>He(_).proxy_read_timeout=e),text:"Sec"}),null,16,["value"])])),_:1},8,["label"]),je(a,{label:" "},{default:qe((()=>[je(p,{type:"primary",onClick:h},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Il={class:"p-20px"},Hl=Ee("br",null,null,-1),Wl=Ee("br",null,null,-1),Kl=Ee("br",null,null,-1),Ml=Ee("br",null,null,-1),Al=Ee("br",null,null,-1),Fl=Ee("br",null,null,-1),Gl=Ee("br",null,null,-1),Ql=Ee("br",null,null,-1),Jl=Ee("br",null,null,-1),Zl=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),i=u(),{siteName:n,proxyPath:o}=D(i),r=async()=>{const e=await wt(n.value,o.value);l(e)&&(c.configValue=e.custom_conf)};r(),t({init:r});const p=Ne(null),c=Me({configValue:""}),_={configValue:{required:!0,message:a("Site.Proxy.index_41"),trigger:"blur"}},y=async()=>{await(p.value?.validate()),await fe({site_name:n.value,proxy_path:o.value,custom_conf:c.configValue}),r()};return(e,t)=>{const l=d,a=nt,i=s,n=rt,o=it;return Be(),Oe("div",Il,[je(n,{ref_key:"formRef",ref:p,"label-width":180,model:He(c),rules:_,"label-placement":"left"},{default:qe((()=>[je(a,{label:e.$t("Site.TableRow.Catalog"),path:"configValue"},{default:qe((()=>[je(l,{class:"w-400px!",rows:6,type:"textarea",value:He(c).configValue,"onUpdate:value":t[0]||(t[0]=e=>He(c).configValue=e),placeholder:'Line by line configuration, please end with, for example：\nproxy_set_header Cookie "cookie_name=cookie_value";\nallow 192.168.1.0/24;\naccess_log /www/wwwlogs/xxx.log;'},null,8,["value"])])),_:1},8,["label"]),je(a,{label:" "},{default:qe((()=>[je(i,{type:"primary",onClick:y},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),je(o,null,{default:qe((()=>[Ee("li",null,Ie(e.$t("Site.Tips.index_1")),1),Ee("li",null,[Ke(Ie(e.$t("Site.Tips.index_2")),1),Hl,Ke(" "+Ie(e.$t("Site.Tips.index_4")),1),Wl,Ke(" "+Ie(e.$t("Site.Tips.index_5")),1),Kl,Ke(" "+Ie(e.$t("Site.Tips.index_6")),1),Ml,Ke(" "+Ie(e.$t("Site.Tips.index_7")),1),Al,Ke(" "+Ie(e.$t("Site.Tips.index_8"))+"{",1),Fl,Ke(" "+Ie(e.$t("Site.Tips.index_9")),1),Gl,Ke(" "+Ie(e.$t("Site.Tips.index_10")),1),Ql,Ke(" }"),Jl,Ke(" "+Ie(e.$t("Site.Tips.index_11")),1)]),Ee("li",null,Ie(e.$t("Site.Tips.index_3")),1)])),_:1})])}}}),Xl={class:"p-20px"},Yl=De({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=ze(),a=u(),{siteName:i,proxyPath:n}=D(a),o=e,{getList:r}=o.data,s=Ne(l("Site.Tips.index_15")),p=Ne(null),c=Me({oldstr:"",newstr:"",sub_type:[]}),_=()=>{y(c.sub_type)},y=e=>{const t=e.includes("i")?"Case insensitive":"",l=e.includes("o")?"Only replace the first":"",a=e.includes("r")?"Regular expression":"";switch(e.length){case 0:s.value=`Default effect:Replace all ${c.oldstr} with ${c.newstr}`;break;case 1:s.value=`Effect: will ${l?"all":""} ${c.oldstr} with ${c.newstr}，Match ${t||l||a}`;break;case 2:s.value=`Effect: will ${l?"all":""} ${c.oldstr} with ${c.newstr}，Match ${t||l||a} besides ${a||l||t}`;break;case 3:s.value=`Effect: will ${c.oldstr} with ${c.newstr} ，Match ${t}、${l} beside s${a}`}},x={oldstr:{required:!0,message:l("Site.Proxy.index_41"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{await(p.value?.validate());let t={site_name:i.value,proxy_path:n.value,oldstr:c.oldstr,newstr:c.newstr,sub_type:c.sub_type?c.sub_type.join(""):"g"};await we(t),r?.(),e()}}),(e,t)=>{const l=d,a=nt,i=_t,n=xt,o=yt,r=ot;return Be(),Oe("div",Xl,[je(r,{ref_key:"formRef",ref:p,model:He(c),rules:x},{default:qe((()=>[je(a,{label:e.$t("Site.Lable.Original"),path:"oldstr"},{default:qe((()=>[je(l,{class:"w-280px",value:He(c).oldstr,"onUpdate:value":t[0]||(t[0]=e=>He(c).oldstr=e),placeholder:e.$t("Site.Placeholder.Index_10"),onInput:_},null,8,["value","placeholder"])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Alternative")},{default:qe((()=>[je(l,{class:"w-280px",value:He(c).newstr,"onUpdate:value":t[1]||(t[1]=e=>He(c).newstr=e),placeholder:e.$t("Site.Placeholder.Index_10"),onInput:_},null,8,["value","placeholder"])])),_:1},8,["label"]),je(a,{label:" "},{default:qe((()=>[je(o,{value:He(c).sub_type,"onUpdate:value":[t[2]||(t[2]=e=>He(c).sub_type=e),y]},{default:qe((()=>[je(n,{"item-style":"display: flex;"},{default:qe((()=>[je(i,{value:"i",label:e.$t("Site.Tips.index_12")},null,8,["label"]),je(i,{value:"o",label:e.$t("Site.Tips.index_13")},null,8,["label"]),je(i,{value:"r",label:e.$t("Site.Tips.index_14")},null,8,["label"])])),_:1})])),_:1},8,["value"])])),_:1}),je(a,{label:" "},{default:qe((()=>[Ke(Ie(He(s)),1)])),_:1})])),_:1},8,["model"])])}}}),ea=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{loading:i,setLoading:n}=B(),o=u(),{siteName:r,proxyPath:d}=D(o),_=async()=>{try{n(!0);const e=await wt(r.value,d.value);l(e)&&(x.data=e.sub_filter.sub_filter_str)}finally{y.value=[],n(!1)}};_(),t({init:_});const{keys:y,table:x,columns:h}=T([{key:"oldstr",title:a("Site.Lable.Original"),width:200,ellipsis:{tooltip:{width:"trigger"}}},{key:"newstr",title:a("Site.Lable.Alternative"),width:250,ellipsis:{tooltip:{width:"trigger"}}},{key:"sub_type",title:a("Site.Lable.Rule"),ellipsis:{tooltip:{width:"trigger"}}},E({width:130,options:e=>[{label:a("Site.TableOP.Del"),onClick:async()=>{await be({site_name:r.value,proxy_path:d.value,newstr:e.newstr,oldstr:e.oldstr}),_()}}]})]),m=()=>{v.title=`${a("Site.Proxy.index_81")} [${d.value}]`,v.show=!0},v=p(`${a("Site.Proxy.index_81")} [${d.value}]`,{getList:_});return(e,t)=>{const l=s,a=V,n=U,o=c;return Be(),Oe("div",null,[je(n,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:m},{default:qe((()=>[Ke(Ie(e.$t("Site.Proxy.index_81")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(y),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(y)?y.value=e:null),"row-key":"ip",loading:He(i),"max-height":440,data:He(x).data,columns:He(h)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),je(o,{show:He(v).show,"onUpdate:show":t[1]||(t[1]=e=>He(v).show=e),title:He(v).title,data:He(v).data,width:600,footer:!0,component:Yl},null,8,["show","title","data"])])}}}),ta=De({__name:"index",setup(e){const{t:t}=ze(),l=Ne("reverse"),a=[{key:"reverse",label:t("Site.Config.Proxy"),component:ql},{key:"config",label:t("Site.Config.Conf"),component:Zl},{key:"replace",label:t("Site.Config.Replacement"),component:ea},{key:"cache",label:t("Site.Lable.Cache"),component:zl},{key:"compressed",label:t("Site.Proxy.index_61"),component:Ol},{key:"black",label:t("Site.Proxy.index_62"),component:Vl},{key:"white",label:t("Site.Proxy.index_63"),component:Ul}];return(e,t)=>{const i=at;return Be(),Qe(i,{class:"p-20px",value:He(l),"onUpdate:value":t[0]||(t[0]=e=>We(l)?l.value=e:null),options:a},null,8,["value"])}}}),la=De({__name:"index",setup(e,{expose:t}){const{t:l}=ze(),a=u(),{proxyPath:i}=D(a),{data:d}=bt(),{keys:_,table:y,columns:x}=T([{key:"proxy_path",title:l("Site.TableRow.ProxyPath"),width:100,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxy_pass",title:l("Site.Proxy.index_1"),width:100,ellipsis:{tooltip:{width:"trigger"}}},H({key:"remark",title:l("Site.Proxy.index_3"),width:"8%",onBlur:async(e,t)=>{await Se({site_name:d.name,proxy_path:t.proxy_path,remark:e})}}),E({width:120,options:e=>[{label:l("Site.TableOP.Set"),onClick:()=>{b(e)}},{label:l("Site.TableOP.Del"),onClick:()=>{"/"!==e.proxy_path?n({title:`${l("Site.Batch.DeleteProxy.Label")} [${e.proxy_path}]`,content:`${l("Site.Batch.DeleteProxy.Content1")} [${e.proxy_path}]?`,onConfirm:async({hide:t})=>{await ke({site_name:d.name,proxy_path:e.proxy_path}),v(),t()}}):r.error(l("Site.Proxy.index_74"))}}]})]),{loading:h,setLoading:m}=B(),v=async()=>{try{m(!0);const{message:e}=await K({site_name:d.name});y.data=o(e)?e:[]}finally{_.value=[],m(!1)}},g=p(l("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:d.name,getList:v}),f=()=>{g.data.row=void 0,g.title=l("Site.Config.ProxyConfig.index_1"),g.show=!0},w=p("",{row:void 0,siteName:d.name,getList:v}),b=e=>{i.value=e.proxy_path,w.title=`${l("Site.Config.ProxyConfig.index_2")} [${e.proxy_path}]`,w.show=!0};return v(),t({init:v}),(e,t)=>{const l=s,a=V,i=U,n=c;return Be(),Oe("div",null,[je(i,null,{toolsLeft:qe((()=>[je(l,{type:"primary",onClick:f},{default:qe((()=>[Ke(Ie(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:qe((()=>[je(a,{"checked-row-keys":He(_),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(_)?_.value=e:null),"row-key":"proxyname",loading:He(h),"max-height":440,data:He(y).data,columns:He(x)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),je(n,{show:He(g).show,"onUpdate:show":t[1]||(t[1]=e=>He(g).show=e),title:He(g).title,data:He(g).data,width:660,footer:!0,component:kl},null,8,["show","title","data"]),je(n,{show:He(w).show,"onUpdate:show":t[2]||(t[2]=e=>He(w).show=e),title:He(w).title,width:800,"min-height":650,component:ta},null,8,["show","title"])])}}}),aa={class:"pt-8px"},ia={class:"w-300px"},na={class:"w-300px"},oa={class:"w-300px"},ra={class:"flex flex-col"},sa=Ee("br",null,null,-1),ua=De({__name:"index",setup(e,{expose:t}){const{t:a}=ze(),{data:i}=bt(),n=Ne(null),o=Ne(!1),r=Me({fix:"",domains:"",return_rule:"",status:!1,none:!1}),u={fix:{trigger:["blur","change"],validator:()=>""!==r.fix.trim()||new Error(a("Site.RulesError.Suffix"))},return_rule:{trigger:["blur","change"],validator:()=>""!==r.return_rule.trim()||new Error(a("Site.RulesError.AntiTheft"))}},p=e=>{e?o.value=!1:(o.value=!0,r.none=!1)},c=async()=>{await(n.value?.validate()),await Pe({id:i.id,name:i.name,fix:r.fix,domains:r.domains.trim().split("\n").join(","),return_rule:r.return_rule,status:r.status,http_status:!!r.none}),_()},_=async()=>{const{message:e}=await $e({id:i.id,name:i.name});l(e)&&(r.fix=e.fix,r.domains=e.domains.split(",").join("\n"),r.return_rule=e.return_rule,r.status=e.status,r.none=e.http_status)};return _(),t({init:_}),(e,t)=>{const l=d,a=nt,i=_t,_=s,y=ot,x=it;return Be(),Oe("div",aa,[je(y,{ref_key:"formRef",ref:n,class:"px-8px",model:He(r),rules:u},{default:qe((()=>[je(a,{label:e.$t("Site.Lable.Suffix"),path:"fix"},{default:qe((()=>[Ee("div",ia,[je(l,{value:He(r).fix,"onUpdate:value":t[0]||(t[0]=e=>He(r).fix=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Access")},{default:qe((()=>[Ee("div",na,[je(l,{value:He(r).domains,"onUpdate:value":t[1]||(t[1]=e=>He(r).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),je(a,{label:e.$t("Site.Lable.Response"),path:"return_rule"},{default:qe((()=>[Ee("div",oa,[je(l,{value:He(r).return_rule,"onUpdate:value":t[2]||(t[2]=e=>He(r).return_rule=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),je(a,{label:" "},{default:qe((()=>[Ee("div",ra,[je(i,{checked:He(r).status,"onUpdate:checked":[t[3]||(t[3]=e=>He(r).status=e),p]},{default:qe((()=>[Ke(Ie(e.$t("Site.Config.HotlinkConfig.Protection")),1)])),_:1},8,["checked"]),je(i,{checked:He(r).none,"onUpdate:checked":t[4]||(t[4]=e=>He(r).none=e),class:"mt-16px",disabled:He(o)},{default:qe((()=>[Ke(Ie(e.$t("Site.Config.HotlinkConfig.HTTP")),1)])),_:1},8,["checked","disabled"])])])),_:1}),je(a,{label:" ","show-feedback":!1},{default:qe((()=>[je(_,{type:"primary",onClick:c},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),je(x,{class:"mt-20px"},{default:qe((()=>[Ee("li",null,[Ke(Ie(e.$t("Site.Config.HotlinkConfig.Tips.0")),1),sa,Ke(" "+Ie(e.$t("Site.Config.HotlinkConfig.Tips.1")),1)]),Ee("li",null,Ie(e.$t("Site.Config.HotlinkConfig.Tips.2")),1),Ee("li",null,Ie(e.$t("Site.Config.HotlinkConfig.Tips.3")),1)])),_:1})])}}}),da={class:"mb-10px"},pa=De({__name:"index",setup(e,{expose:t}){const{data:a}=bt(),i=Ne("None"),n=Ne(0),{loading:o,setLoading:r}=B(),s=async()=>{try{r(!0);const{message:e}=await Ce({site_name:a.name,type:"access"});l(e)&&(i.value=e.msg?e.msg:"None",n.value=e.size)}finally{r(!1)}};return s(),t({init:s}),(e,t)=>{const l=ht,a=mt;return Be(),Qe(a,{class:"h-560px",show:He(o)},{default:qe((()=>[Ee("div",da,Ie(e.$t("Site.Cert.index_3"))+": "+Ie(He(n)),1),je(l,{log:He(i)},null,8,["log"])])),_:1},8,["show"])}}}),ca={class:"mb-10px"},_a=De({__name:"index",setup(e,{expose:t}){const{data:a}=bt(),i=Ne("None"),n=Ne(0),{loading:o,setLoading:r}=B(),s=async()=>{try{r(!0);const{message:e}=await Ce({site_name:a.name,type:"error"});l(e)&&(i.value=e.msg?e.msg:"None",n.value=e.size)}finally{r(!1)}};return s(),t({init:s}),(e,t)=>{const l=ht,a=mt;return Be(),Qe(a,{class:"h-560px",show:He(o)},{default:qe((()=>[Ee("div",ca,Ie(e.$t("Site.Cert.index_3"))+": "+Ie(He(n)),1),je(l,{log:He(i)},null,8,["log"])])),_:1},8,["show"])}}}),ya=De({__name:"index",setup(e,{expose:t}){const{t:l}=ze(),{config:a}=bt(),i=Ne("access"),n=Ne(),o=[{key:"access",label:l("Site.Config.LogsConfig.Access"),component:pa},{key:"error",label:l("Site.Config.LogsConfig.Error"),component:_a}];return i.value=a.subMenu||"access",a.subMenu="",t({init:()=>{i.value="access",Xe((()=>{n.value?.init()}))}}),(e,t)=>{const l=at;return Be(),Qe(l,{value:He(i),"onUpdate:value":t[0]||(t[0]=e=>We(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:o},null,8,["value"])}}}),xa=De({__name:"index",props:{siteInfo:{},config:{}},setup(e){const l=u(),{siteName:a}=D(l),{t:i}=ze(),n=Ye((()=>v((()=>t.import("./old-legacy2.js?v=1723125373998")),void 0))),o=e,{siteInfo:r,config:s}=o;a.value=o.siteInfo.name;const d=Ne();r&&Te(gt,{data:r,config:s});const p=Ne("domain"),c=[{key:"domain",label:i("Site.Config.Manager"),component:Ut},{key:"proxy_pass",label:i("Site.Config.ProxyURL"),component:la},{key:"config",label:i("Site.Config.Conf"),component:el},{key:"file",label:i("Site.Config.File"),component:sl},{key:"ssl",label:()=>je(Ge,null,[i("Site.Config.SSL"),je(vt,{type:"primary",size:"small",bordered:!1,class:"ml-10px"},{default:()=>[Ke("lowest price $2.9")]})]),component:n},{key:"redirect",label:i("Site.Config.Redirect"),component:gl},{key:"hotlink",label:i("Site.Config.Hotlink"),component:ua},{key:"logs",label:i("Site.Config.Response"),component:ya}];return p.value=s.menu||"domain",s.menu="",Je((()=>{window.siteConfigInit=d.value.init})),(e,t)=>{const l=Re;return Be(),Qe(l,{value:He(p),"onUpdate:value":t[0]||(t[0]=e=>We(p)?p.value=e:null),ref_key:"tabsRef",ref:d,data:c},null,8,["value"])}}}),{t:ha}=a.global;function ma({onClick:e}){return{key:"name",title:ha("Site.Lable.Domain"),width:"12%",minWidth:120,render:t=>je(i,{onClick:()=>{e(t)}},{default:()=>[t.name]})}}function va({onClick:e}){return{key:"proxy_pass",title:ha("Site.TableRow.ProxyAddress"),minWidth:70,render:t=>je(i,{onClick:()=>{e(t)}},{default:()=>[t.proxy_pass]})}}function ga({onClick:e}){return{key:"ssl",title:"SSL",width:"9%",minWidth:100,render:t=>{let a;const{ssl:n}=t;return l(n)?je(i,{type:n.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[n.endtime<0?ha("Site.PHP.index_28"):ha("Site.PHP.index_29",[n.endtime])]}):je(i,{type:"warning",onClick:()=>{e(t)}},"function"==typeof(o=a=ha("Site.PHP.index_30"))||"[object Object]"===Object.prototype.toString.call(o)&&!et(o)?a:{default:()=>[a]});var o}}}function fa({onClick:e}){return{key:"action",title:ha("Site.TableRow.Operation"),width:150,align:"right",render:l=>je(O,{options:[{label:ha("Site.PHP.index_14"),onClick:async()=>{await g({source:142}),await f("monitor"),w({name:"monitor",title:"Website statistics-v2",admin:!0})}},{label:ha("Site.TableRow.WAF"),onClick:()=>{z(l.name)}},{label:ha("Site.TableOP.Conf"),onClick:()=>{e(l)}},{label:ha("Site.TableOP.Del"),onClick:()=>{var e;e=[l],b({title:`${ha("Site.Tips.index_17")} - [${e[0].name}]`,width:500,minHeight:72,footer:!0,data:{rows:e},component:Ye((()=>v((()=>t.import("./index-legacy142.js?v=1723125373998")),void 0)))})}}]},null)}}const wa={class:"w-860px h-700px"},ba=De({__name:"index",setup(e){const{t:a}=ze(),n=Ye((()=>v((()=>t.import("./index-legacy143.js?v=1723125373998")),void 0))),r=S(),d=u(),{web:_}=D(r),y=Ne(!1),x=p(a("Site.Proxy.index_82")),h=()=>{x.show=!0},m=()=>{K()},g=Me({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),f=(e,t={})=>{g.title=`${a("Site.Cert.Modification")} [${e.name}] -- ${a("Site.Cert.Added")} [${e.addtime}]`,g.siteInfo=e,g.config=Object.assign({menu:"",subMenu:""},t),g.show=!0},{keys:w,table:z,columns:O}=T([{type:"selection",width:40},ma({onClick:e=>{f(e)}}),va({onClick:e=>{f(e,{menu:"proxy_pass"})}}),ga({onClick:e=>{f(e,{menu:"ssl"})}}),H({width:"8%",onBlur:async(e,t)=>{await Ue({id:t.id,ps:e})}}),fa({onClick:e=>{f(e)}})]),E=[{key:"Project",label:a("Site.Cert.index_6"),onBatch:e=>{b({title:a("Site.Cert.index_7"),content:a("Site.Cert.index_8"),width:500,minHeight:72,footer:!0,data:{rows:e},component:Ye((()=>v((()=>t.import("./index-legacy142.js?v=1723125373998")),void 0)))})}}],q=Me({p:1,limit:10,search:""}),{loading:I,setLoading:W}=B(!0),K=async()=>{try{W(!0);const{message:e}=await Le(q);l(e)?l(e.data)&&(z.data=o(e.data.data)?e.data.data:[],z.total=P(e.data.page)):(z.data=[],z.total=0)}finally{w.value=[],W(!1)}};return tt((()=>d.isRefresh),(e=>{e&&(r.setRefresh(!1),K())})),(async()=>{try{await r.getConfig(),r.web.setup?(y.value=!0,K()):(y.value=!1,W(!1),N())}catch{W(!1)}})(),(e,t)=>{const l=i,a=s,o=j,r=V,u=R,d=L,p=U,y=c,v=C,f=$;return Be(),Qe(f,null,{default:qe((()=>[je(v,{install:He(_).setup&&"nginx"==He(_).type},{desc:qe((()=>[Ee("span",null,Ie(e.$t("Site.Cert.index_4")),1),je(l,{class:"ml-4px",onClick:t[0]||(t[0]=e=>He(k)("nginx"))},{default:qe((()=>[Ke(Ie(e.$t("Site.PHP.index_2")),1)])),_:1})])),default:qe((()=>[je(p,{class:"p-16px",feedback:!0},{toolsLeft:qe((()=>[je(a,{type:"primary",onClick:h},{default:qe((()=>[Ke(Ie(e.$t("Site.Cert.index_5")),1)])),_:1})])),toolsRight:qe((()=>[je(o,{value:He(q).search,"onUpdate:value":t[1]||(t[1]=e=>He(q).search=e),placeholder:e.$t("Site.Placeholder.Index_11"),onSearch:K},null,8,["value","placeholder"])])),table:qe((()=>[je(r,{"checked-row-keys":He(w),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>We(w)?w.value=e:null),loading:He(I),data:He(z).data,columns:He(O)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:qe((()=>[je(u,{"checked-row-keys":He(w),"onUpdate:checkedRowKeys":t[3]||(t[3]=e=>We(w)?w.value=e:null),data:He(z).data,options:E},null,8,["checked-row-keys","data"])])),pageRight:qe((()=>[je(d,{page:He(q).p,"onUpdate:page":t[4]||(t[4]=e=>He(q).p=e),"page-size":He(q).limit,"onUpdate:pageSize":t[5]||(t[5]=e=>He(q).limit=e),"item-count":He(z).total,"store-key":"site-php-page",onRefresh:K},null,8,["page","page-size","item-count"])])),_:1}),je(y,{show:He(x).show,"onUpdate:show":t[6]||(t[6]=e=>He(x).show=e),title:He(x).title,width:640,"min-height":400,footer:!0,data:{onRefresh:m},component:He(n)},null,8,["show","title","data","component"]),je(y,{show:He(g).show,"onUpdate:show":t[7]||(t[7]=e=>He(g).show=e),title:He(g).title},{default:qe((()=>[Ee("div",wa,[je(xa,{"site-info":He(g).siteInfo,config:He(g).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])])),_:1})}}}),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:ba},Symbol.toStringTag,{value:"Module"}));e("i",Sa)}}}));
