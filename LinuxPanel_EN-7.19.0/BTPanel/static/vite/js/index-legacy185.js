System.register(["./index-legacy215.js?v=1732601582185","./index-legacy96.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1732601582185","./page_layout-legacy.js?v=1732601582185","./public-legacy.js?v=1732601582185","./index-legacy56.js?v=1732601582185","./vue-legacy.js?v=1732601582185","./naive-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1732601582185","./common-legacy.js?v=1732601582185","./__commonjsHelpers__-legacy.js?v=1732601582185","./index-legacy102.js?v=1732601582185","./index-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1732601582185","./index-legacy97.js?v=1732601582185","./config-legacy3.js?v=1732601582185","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1732601582185"],(function(e,a){"use strict";var l,t,n,i,s,u,c,o,p,_,g,r,d,m,y,v,x,S,j,f,h,w,b,k,L,B,z,A,H,U,N,P,R,$,C,O,q;return{setters:[e=>{l=e._},e=>{t=e._},e=>{n=e._},e=>{i=e._},e=>{s=e._},e=>{u=e.f,c=e.I,o=e.a4,p=e.m},e=>{_=e.d,g=e.f},e=>{r=e.s,d=e.a,m=e.b,y=e.d,v=e.c,x=e.e},e=>{S=e.d,j=e.W,f=e.r,h=e.j,w=e.O,b=e.P,k=e.M,L=e.Y,B=e.F,z=e.L,A=e.R,H=e.Q,U=e.Z,N=e.ak,P=e.ac,R=e.c},e=>{$=e.bo,C=e.bh,O=e.ad,q=e.aa},null,null,null,null,null,null,null,null,null,null],execute:function(){const a={class:"mr-12px"},D=S({__name:"logs",props:{config:{}},emits:["setName"],setup(e,{expose:l,emit:p}){const g=e,y=p,{t:v}=j(),x=f(""),S=f([]),{table:P,columns:R,setLoading:O}=_([{key:"log",title:v("Security.SSH.Basic.LoginAlarm.logs_1")},{key:"addtime",title:v("Security.SSH.Basic.LoginAlarm.logs_2"),width:160}]),q=h({p:1,p_size:10}),D=async()=>{try{O(!0);const{message:e}=await d(N(q));u(e)&&(P.data=c(e.data)?e.data:[],P.total=o(e.page))}finally{O(!1)}},F=async()=>{const{message:e}=await m();u(e)&&(x.value=e.result)};return D(),F(),(async()=>{const{config:e}=g;u(e)&&(S.value=Object.entries(e).map((([,e])=>({name:e.name,title:e.title}))))})(),l({init:()=>{D(),F()}}),(e,l)=>{const u=$,c=C,o=s,p=i,_=n,g=t;return w(),b("div",null,[k(c,{class:"mb-20px",size:20},{default:L((()=>[(w(!0),b(B,null,z(A(S),(e=>(w(),b("div",{key:e.name,class:"flex items-center"},[H("span",a,U(e.title),1),k(u,{value:A(x)===e.name,size:"small","onUpdate:value":a=>(async e=>{const a=x.value!==e;await r(a,{type:e}),await F(),y("setName",x.value)})(e.name)},null,8,["value","onUpdate:value"])])))),128))])),_:1}),k(_,null,{table:L((()=>[k(o,{"max-height":450,loading:A(P).loading,data:A(P).data,columns:A(R)},null,8,["loading","data","columns"])])),pageRight:L((()=>[k(p,{page:A(q).p,"onUpdate:page":l[0]||(l[0]=e=>A(q).p=e),"page-size":A(q).p_size,"onUpdate:pageSize":l[1]||(l[1]=e=>A(q).p_size=e),"item-count":A(P).total,"show-size-picker":!1,"show-quick-jumper":!1,onRefresh:D},null,8,["page","page-size","item-count"])])),_:1}),k(g,{class:"mt-16px"},{default:L((()=>[H("li",null,U(e.$t("Security.SSH.Basic.LoginAlarm.logs_3")),1)])),_:1})])}}}),F={class:"flex"},I={class:"w-200px mr-10px mb-12px"},M=S({__name:"whitelist",setup(e,{expose:a}){const{t:l}=j(),t=f(""),n=async()=>{""!==t.value.trim()?(await x({ip:t.value}),t.value=""):p.error(l("Security.SSH.Basic.LoginAlarm.whitelist_1"))},{table:i,columns:u,setLoading:o}=_([{key:"ip",title:l("Security.SSH.Basic.LoginAlarm.whitelist_2")},g({width:100,options:e=>[{label:l("Public.Btn.Del"),onClick:async()=>{await y({ip:e.ip}),r()}}]})]),r=async()=>{try{o(!0);const{message:e}=await v();c(e)&&(i.data=e.map((e=>({ip:e}))))}finally{o(!1)}};return r(),a({init:r}),(e,a)=>{const l=O,c=q,o=s;return w(),b("div",null,[H("div",F,[H("div",I,[k(l,{value:A(t),"onUpdate:value":a[0]||(a[0]=e=>P(t)?t.value=e:null),placeholder:e.$t("Security.SSH.Basic.LoginAlarm.whitelist_1")},null,8,["value","placeholder"])]),k(c,{type:"primary",onClick:n},{default:L((()=>[R(U(e.$t("Public.Btn.Add")),1)])),_:1})]),k(o,{loading:A(i).loading,"max-height":500,data:A(i).data,columns:A(u)},null,8,["loading","data","columns"])])}}}),Q={class:"h-full"};e("default",S({__name:"index",props:{config:{}},emits:["setName"],setup(e,{emit:a}){const t=e,n=a,{t:i}=j(),s=f("login"),u=[{key:"login",label:i("Security.SSH.Basic.LoginAlarm.index_1"),data:{config:t.config,onSetName:e=>{n("setName",e)}},component:D},{key:"whitelist",label:i("Security.SSH.Basic.LoginAlarm.index_2"),component:M}];return(e,a)=>{const t=l;return w(),b("div",Q,[k(t,{value:A(s),"onUpdate:value":a[0]||(a[0]=e=>P(s)?s.value=e:null),data:u},null,8,["value"])])}}}))}}}));
