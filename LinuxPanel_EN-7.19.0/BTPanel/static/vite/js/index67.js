const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/count.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185","js/page_layout.js?v=1732601582185","js/vue.js?v=1732601582185","js/__commonjsHelpers__.js?v=1732601582185","js/naive.js?v=1732601582185","js/common.js?v=1732601582185","js/public.js?v=1732601582185","css/public.css?v=1732601582185","css/page_layout.css?v=1732601582185","js/record.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185","css/index14.css?v=1732601582185","js/index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185","js/site3.js?v=1732601582185","js/tools.js?v=1732601582185","js/rules.js?v=1732601582185","css/record.css?v=1732601582185"])))=>i.map(i=>d[i]);
import{f as e,a4 as t,c as a,I as i,m as s}from"./page_layout.js?v=1732601582185";import{_ as n}from"./index.js?v=1732601582185";import{_ as l}from"./index96.js?v=1732601582185";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1732601582185";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1732601582185";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1732601582185";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1732601582185";import{h as p,d as m,a as u,f as _}from"./public.js?v=1732601582185";import{u as f}from"./useModal2.js?v=1732601582185";import{g as h,s as x,a as w,b as g,c as v}from"./site3.js?v=1732601582185";import{_ as W}from"./index187.js?v=1732601582185";import{d as y,W as j,r as k,j as S,M as b,F as C,c as U,ak as N,f as R,O as E,X as L,Y as O,i as z,Q as P,R as $,Z as I,a6 as T}from"./vue.js?v=1732601582185";import{bm as V,_ as A,bo as D,bJ as M}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1732601582185";const B={class:"cursor-pointer"};function F(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!z(e)}const H=y({__name:"index",setup(y){const z=T((()=>a((()=>import("./count.js?v=1732601582185")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),H=T((()=>a((()=>import("./record.js?v=1732601582185")),__vite__mapDeps([10,11,12,2,3,4,5,6,7,8,9,13,14,1,15,16,17,18])))),{t:J}=j(),Q=k(!1),X=async e=>{await g({obj:"malicious_ip"}),Q.value=e},Y=S({p:1,limit:10,search:""}),Z=p(""),q=p(""),G=async(e,t)=>{await x({siteName:e.siteName,obj:t})},{table:K,columns:ee,setLoading:te}=m([{key:"siteName",title:J("Waf.Site.index_8"),minWidth:150,ellipsis:{tooltip:!0},render:e=>b("a",{class:"bt-link",href:"javascript:;",onClick:()=>{f({row:e,onRefresh:ie})}},[e.siteName])},{key:"total",title:J("Waf.Site.index_9"),width:"10%",minWidth:100,render:e=>{let t=0;return e.total.forEach((e=>{t+=e.value})),b(V,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:()=>b(C,null,[t>0?b("a",{class:"bt-link error",href:"javascript:;",onClick:()=>{(e=>{Z.data.list=e.total,Z.title=J("Waf.Site.index_5",[e.siteName]),Z.show=!0})(e)}},[t]):t]),default:()=>b("div",null,[e.total.map((e=>b("div",{class:"leading-18px"},[e.name,U(": "),e.value,J("Waf.Site.index_35")])))])})}},{key:"not_spider",width:"12%",minWidth:120,title:()=>{let e;return b(C,null,[b("span",{class:"mr-6px"},[J("Waf.Site.index_36")]),b(W,null,F(e=J("Waf.Site.index_37"))?e:{default:()=>[e]})])},render:e=>b(A,{checked:e.not_spider,onUpdateChecked:async t=>{await G(e,"not_spider"),e.not_spider=t}},null)},{key:"cdn",width:"12%",minWidth:120,title:()=>{let e;return b(C,null,[b("span",{class:"mr-6px"},[J("Waf.Site.index_38")]),b(W,null,F(e=J("Waf.Site.index_39"))?e:{default:()=>[e]})])},render:e=>b(A,{checked:e.cdn,onUpdateChecked:async t=>{await G(e,"cdn"),e.cdn=t}},null)},{key:"smart_cc",width:"12%",minWidth:120,title:()=>b(C,null,[b("span",{class:"mr-6px"},[J("Waf.Site.index_40")]),b(W,null,{default:()=>[b("div",{class:"w-500px"},[J("Waf.Site.index_41")])]})]),render:e=>b("div",{class:"inline-flex items-center"},[b(A,{class:"mr-6px",checked:e.smart_cc.open,onUpdateChecked:async t=>{t?u({title:J("Public.Confirm.Title"),content:J("Waf.Site.index_10"),onConfirm:async()=>{await G(e,"smart_cc"),e.smart_cc.open=t}}):(await G(e,"smart_cc"),e.smart_cc.open=t)}},null),b(V,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:()=>b("span",{class:"text-desc text-13px"},[e.total[9].value]),default:()=>b(C,null,[J("Waf.Site.index_42",[e.total[9].value])])})])},{key:"cc",width:"12%",minWidth:120,title:J("Waf.Site.index_11"),render:e=>b("div",{class:"inline-flex items-center"},[b(A,{class:"mr-6px",checked:e.cc.open,onUpdateChecked:async t=>{await G(e,"cc"),e.cc.open=t}},null),b(V,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:()=>b("span",{class:"text-desc text-13px"},[e.total[2].value]),default:()=>b(C,null,[J("Waf.Site.index_42",[e.total[2].value])])})])},{key:"open",width:"10%",minWidth:100,title:J("Waf.Site.index_12"),render:e=>b(D,{size:"small",value:e.open,onUpdateValue:async t=>{await G(e,"open"),e.open=t}},null)},_({width:150,options:e=>[{label:J("Waf.Site.index_13"),onClick:()=>{(async e=>{const{message:t}=await v({siteName:e.siteName});i(t)&&t.length>0?(q.data.timeList=t,q.data.siteName=e.siteName,q.title=J("Waf.Site.index_6",[e.siteName]),q.show=!0):s.success(J("Waf.Site.index_7"))})(e)}},{label:J("Public.Btn.Set"),onClick:()=>{f({row:e,onRefresh:ie})}}]})]),ae=()=>{Y.p=1,ie()},ie=async()=>{try{te(!0);const{message:a}=await h(N(Y));e(a)&&(K.data=a.data,K.total=t(a.page))}finally{te(!1)}};return(async()=>{const{message:t}=await w();e(t)&&(Q.value=t.malicious_ip)})(),R((()=>{ie()})),(e,t)=>{const a=d,i=r,s=c,p=o,m=l,u=n,_=M;return E(),L(_,{class:"p-16px"},{default:O((()=>[b(p,null,{toolsLeft:O((()=>[P("div",B,[P("span",{class:"mr-8px text-desc",onClick:t[0]||(t[0]=e=>X(!$(Q)))},I(e.$t("Waf.Site.index_1")),1),b($(A),{checked:$(Q),"onUpdate:checked":X},null,8,["checked"])])])),toolsRight:O((()=>[b(a,{value:$(Y).search,"onUpdate:value":t[1]||(t[1]=e=>$(Y).search=e),placeholder:e.$t("Waf.Site.index_2"),onSearch:ae},null,8,["value","placeholder"])])),table:O((()=>[b(i,{loading:$(K).loading,data:$(K).data,columns:$(ee)},null,8,["loading","data","columns"])])),pageRight:O((()=>[b(s,{page:$(Y).p,"onUpdate:page":t[2]||(t[2]=e=>$(Y).p=e),"page-size":$(Y).limit,"onUpdate:pageSize":t[3]||(t[3]=e=>$(Y).limit=e),"item-count":$(K).total,"store-key":"waf-site",onRefresh:ie},null,8,["page","page-size","item-count"])])),_:1}),b(m,{class:"mt-16px"},{default:O((()=>[P("li",null,I(e.$t("Waf.Site.index_3")),1),P("li",null,I(e.$t("Waf.Site.index_4")),1)])),_:1}),b(u,{show:$(Z).show,"onUpdate:show":t[4]||(t[4]=e=>$(Z).show=e),title:$(Z).title,width:480,"min-height":688,data:$(Z).data,component:$(z)},null,8,["show","title","data","component"]),b(u,{show:$(q).show,"onUpdate:show":t[5]||(t[5]=e=>$(q).show=e),title:$(q).title,data:$(q).data,width:1e3,"min-height":552,component:$(H)},null,8,["show","title","data","component"])])),_:1})}}});export{H as default};
