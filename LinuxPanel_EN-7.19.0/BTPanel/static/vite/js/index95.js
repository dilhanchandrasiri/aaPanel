import{_ as a}from"./index.js?v=1732601582185";import{k as t,_ as e,m as s,E as o}from"./page_layout.js?v=1732601582185";import{a as r}from"./public.js?v=1732601582185";import{p as n,q as i,t as d,v as l,r as m}from"./home.js?v=1732601582185";import{d as p,O as c,P as x,Q as _,Z as y,ad as u,W as f,r as v,M as H,F as R,L as w,X as T,R as j,Y as h,c as C,ac as k}from"./vue.js?v=1732601582185";import{aa as g}from"./naive.js?v=1732601582185";import"./common.js?v=1732601582185";import"./__commonjsHelpers__.js?v=1732601582185";const b=t(p({__name:"info",props:{data:{}},setup:a=>(a,t)=>(c(),x("div",{class:u(["info",a.data.type])},[t[0]||(t[0]=_("div",{class:"mark"},null,-1)),_("div",null,y("start"===a.data.type?a.data.startText:a.data.loadText+"..."),1)],2))}),[["__scopeId","data-v-ffc5901a"]]),$={class:"w-466px p-16px text-[#555]"},I={class:"flex items-center text-error"},E={class:"ml-8px leading-17px"},q={class:"my-10px leading-26px"},z={class:"safe-restart"},F=t(p({__name:"index",emits:["setConfirm"],setup(a,{expose:t,emit:r}){const m=r,{t:p}=f(),u=v([{type:"start",startText:p("Home.Restart.index_7"),loadText:p("Home.Restart.index_8")},{type:"start",startText:p("Home.Restart.index_9"),loadText:p("Home.Restart.index_10")},{type:"start",startText:p("Home.Restart.index_11"),loadText:p("Home.Restart.index_11")},{type:"start",startText:p("Home.Restart.index_12"),loadText:p("Home.Restart.index_12")}]),h=()=>{setTimeout((async()=>{try{await l(),s.success(p("Home.Restart.index_13")),o()}catch(a){h()}}),1e3)};return t({onConfirm:async()=>{m("setConfirm",{loading:!0,disabled:!0});try{await(async()=>{u.value[0].type="load",await n(),u.value[0].type="done"})(),await(async()=>{u.value[1].type="load",await i(),u.value[1].type="done"})(),await(async()=>{u.value[2].type="load",await d(),u.value[2].type="done"})(),await(async()=>{u.value[3].type="load";try{await l()}finally{u.value[3].type="done"}})(),h()}catch(a){u.value.forEach((a=>{a.type="start"})),m("setConfirm",{loading:!1,disabled:!1})}}}),(a,t)=>{const s=e;return c(),x("div",$,[_("div",I,[H(s,{name:"common-ask",size:"17"}),_("span",E,y(a.$t("Home.Restart.index_5")),1)]),_("div",q,y(a.$t("Home.Restart.index_6")),1),_("div",z,[(c(!0),x(R,null,w(j(u),(a=>(c(),T(b,{key:a.startText,data:a},null,8,["data"])))),128))])])}}}),[["__scopeId","data-v-a2ca3601"]]),L={class:"flex items-center justify-center h-110px px-30px"},M=t(p({__name:"index",setup(t){const{t:e}=f(),s=v(!1),n=()=>{s.value=!0},i=()=>{r({title:e("Home.Restart.index_3"),content:e("Home.Restart.index_4"),onConfirm:async()=>{await m(!0),o(3e3)}})};return(t,e)=>{const o=g,r=a;return c(),x("div",L,[H(o,{type:"primary",onClick:n},{default:h((()=>[C(y(t.$t("Home.Restart.index_1")),1)])),_:1}),H(o,{type:"primary",class:"ml-32px",onClick:i},{default:h((()=>[C(y(t.$t("Home.Restart.index_2")),1)])),_:1}),H(r,{show:j(s),"onUpdate:show":e[0]||(e[0]=a=>k(s)?s.value=a:null),title:"Safely reboot server",footer:!0,component:F},null,8,["show"])])}}}),[["__scopeId","data-v-f8929ce6"]]);export{M as default};
