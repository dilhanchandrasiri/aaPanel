const __vite__fileDeps=["js/index106.js?v=1723125373998","js/index73.js?v=1723125373998","js/index.js?v=1723125373998","js/vue.js?v=1723125373998","js/pinia.js?v=1723125373998","css/index42.css?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998","js/Select.js?v=1723125373998","js/Tag.js?v=1723125373998","js/Empty.js?v=1723125373998","js/index107.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang13.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang8.js?v=1723125373998","js/InputGroupLabel.js?v=1723125373998","js/InputGroup.js?v=1723125373998","js/index108.js?v=1723125373998","js/index.vue_vue_type_script_setup_true_lang12.js?v=1723125373998","js/useLoading.js?v=1723125373998","js/file2.js?v=1723125373998","js/Spin.js?v=1723125373998"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{M as e,al as t,am as a,e as l,q as s,g as n,an as i,j as o,ao as r,ap as c,aq as u,L as d,ar as _,as as p,h as m,n as x,at as f,G as v,B as g,ae as k,r as h,v as w}from"./index.js?v=1723125373998";import{_ as b,a as y}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1723125373998";import{s as D}from"./pinia.js?v=1723125373998";import{_ as S}from"./index70.js?v=1723125373998";import{l as $,ad as j,r as C,f as P,S as E,U,V as B,W as O,_ as I,a3 as R,P as L,q as M,B as T,M as V,b as q,D as A,aj as z,af as G,a1 as W,s as F}from"./vue.js?v=1723125373998";import{_ as H}from"./Select.js?v=1723125373998";import{_ as J}from"./index73.js?v=1723125373998";import{_ as K}from"./Checkbox.js?v=1723125373998";import"./Tag.js?v=1723125373998";import"./Empty.js?v=1723125373998";const N={class:"mr-8px"},Q={class:"w-470px"},X={class:"w-470px"},Y=$({__name:"install",setup(n){const{t:i}=j(),o=e(),{setting:r}=D(o),c=C(!1),u=C(null),d=P({type:"default",url:null}),_=[{label:i("Docker.install.index_4"),value:"default"},{label:i("Docker.install.index_5"),value:"custom"},{label:i("Docker.install.index_6"),value:"binary"}],p=[{label:i("Docker.install.index_7"),value:"download.docker.com"}],m={url:{trigger:["change"],validator:()=>"custom"!==d.type||null!==d.url||new Error(i("Docker.install.index_8"))}},x=()=>{c.value=!0},f=async()=>{var e;await(null==(e=u.value)?void 0:e.validate());let l={type:"binary"===d.type?1:0};"custom"===d.type&&(l=Object.assign(l,{url:d.url})),await t(l),a(),o.getSetting()};return(e,t)=>{const a=l,n=H,i=b,o=y,v=s,g=S;return E(),U(g,{install:O(r).docker_installed&&O(r).docker_compose_installed},{desc:B((()=>[I("span",N,R(e.$t("Docker.index_2")),1),L(a,{class:"font-bold!",onClick:x},{default:B((()=>[M(R(e.$t("Public.Btn.Install")),1)])),_:1}),L(v,{show:O(c),"onUpdate:show":t[2]||(t[2]=e=>q(c)?c.value=e:null),title:e.$t("Public.Btn.Install"),footer:!0,onConfirm:f},{default:B((()=>[L(o,{ref_key:"formRef",ref:u,class:"w-640px p-20px",model:O(d),rules:m},{default:B((()=>[L(i,{label:e.$t("Docker.install.index_2")},{default:B((()=>[I("div",Q,[L(n,{value:O(d).type,"onUpdate:value":t[0]||(t[0]=e=>O(d).type=e),options:_},null,8,["value"])])])),_:1},8,["label"]),T(L(i,{label:e.$t("Docker.install.index_3"),path:"url"},{default:B((()=>[I("div",X,[L(n,{value:O(d).url,"onUpdate:value":t[1]||(t[1]=e=>O(d).url=e),options:p},null,8,["value"])])])),_:1},8,["label"]),[[V,"custom"===O(d).type]])])),_:1},8,["model"])])),_:1},8,["show","title"])])),default:B((()=>[A(e.$slots,"default")])),_:3},8,["install"])}}}),Z={class:"flex items-center text-14px"},ee={class:"mr-4px"},te={class:"w-300px"},ae={class:"w-300px"},le={class:"ml-20px text-desc"};const se=$({__name:"index",setup(t){const a=W((()=>w((()=>import("./index106.js?v=1723125373998")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),l=W((()=>w((()=>import("./index107.js?v=1723125373998")),__vite__mapDeps([10,6,3,2,4,5,11,12,13,14])))),S=W((()=>w((()=>import("./index108.js?v=1723125373998")),__vite__mapDeps([15,2,3,4,5,16,17,18,7,8,9,19])))),$=e(),{setting:P}=D($),{t:T}=j(),V=async()=>{await c({act:P.value.service_status?"stop":"start"}),$.getSetting()},q=async()=>{await u(),$.getSetting()},A=async()=>{d({title:T("Docker.Setting.index_13"),content:T("Docker.Setting.index_14"),onConfirm:async()=>{await _()}})},H=C(""),N=C({}),Q=async()=>{const{message:e}=await i();if(o(e)){const t=r(e,"registry_mirrors",[]);H.value=t.length>0?t[0]:"",N.value=r(e,"com_reg_mirrors",{})}return e},X=n(T("Docker.Setting.index_15"),{url:"",mirrors:N.value,onRefresh:async e=>{await Q(),null==e||e(N.value)}}),se=()=>{X.data.url=H.value,X.data.mirrors=N.value,X.show=!0},ne=n(T("Docker.Setting.index_16")),ie=()=>{ne.show=!0},oe=n(T("Docker.Setting.index_17")),re=()=>{oe.show=!0},ce=async()=>{const{message:e}=await p(),t=C(!1),a=!r(e,"status",!1),l=r(e,"msg","");m({width:400,title:T("Docker.Setting.index_18"),content:()=>{let e;return L("div",null,[L("div",{class:"mb-16px"},[l]),L(K,{checked:t.value,class:"mb-16px",onUpdateChecked:e=>{t.value=e}},(a=e=T("Docker.Setting.index_19"),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!F(a)?e:{default:()=>[e]})),L(J,{class:"text-12px"},{default:()=>[L("li",null,[T("Docker.Setting.index_20")])]})]);var a},onConfirm:async()=>{if(a&&!t.value)return x.error(T("Docker.Setting.index_21")),!1;await f({type:t.value?1:0}),$.getSetting()}})};return Q(),(e,t)=>{const n=v,i=g,o=b,r=k,c=y,u=s,d=h;return E(),U(Y,null,{default:B((()=>[L(d,{class:"p-16px"},{default:B((()=>[L(c,null,{default:B((()=>[L(o,{label:e.$t("Docker.Setting.index_1")},{default:B((()=>[I("div",Z,[I("span",ee,R(e.$t("Docker.Setting.index_2"))+R(e.$t("Public.Punctuation.Colon")),1),L(n,{class:"items-center",size:4},{default:B((()=>[I("span",null,R(O(P).service_status?e.$t("Public.Status.Enable"):e.$t("Public.Status.Stopped")),1),I("span",{class:z(["iconfont","icon-".concat(O(P).service_status?"start":"stop")])},null,2)])),_:1})]),L(i,{class:"ml-32px",onClick:V},{default:B((()=>[M(R(O(P).service_status?e.$t("Docker.Setting.index_4"):e.$t("Docker.Setting.index_3")),1)])),_:1}),L(i,{class:"ml-12px",onClick:q},{default:B((()=>[M(R(e.$t("Docker.Setting.index_5")),1)])),_:1}),O(P).service_status?G("",!0):(E(),U(i,{key:0,class:"ml-12px",onClick:A},{default:B((()=>[M(R(e.$t("Docker.Setting.index_6")),1)])),_:1}))])),_:1},8,["label"]),L(o,{label:e.$t("Docker.Setting.index_7")},{default:B((()=>[I("div",te,[L(r,{value:O(H)||e.$t("Docker.Setting.index_8"),disabled:!0,placeholder:""},null,8,["value"])]),L(i,{type:"primary",class:"ml-5px",onClick:se},{default:B((()=>[M(R(e.$t("Public.Btn.Modify")),1)])),_:1})])),_:1},8,["label"]),L(o,{label:"Docker compose"},{default:B((()=>[I("div",ae,[L(r,{value:O(P).docker_compose_path,disabled:!0,placeholder:""},null,8,["value"])]),L(i,{type:"primary",class:"ml-5px",onClick:ie},{default:B((()=>[M(R(e.$t("Public.Btn.Modify")),1)])),_:1}),I("span",le,R(e.$t("Docker.Setting.index_10")),1)])),_:1}),L(o,{label:e.$t("Docker.Setting.index_11")},{default:B((()=>[L(i,{type:"primary",onClick:re},{default:B((()=>[M(R(e.$t("Docker.Setting.index_12")),1)])),_:1})])),_:1},8,["label"]),L(o,{label:e.$t("Docker.Setting.index_18")},{default:B((()=>[L(i,{onClick:ce},{default:B((()=>[M(R(e.$t("Public.Btn.Uninstall")),1)])),_:1})])),_:1},8,["label"])])),_:1}),L(u,{show:O(X).show,"onUpdate:show":t[0]||(t[0]=e=>O(X).show=e),title:O(X).title,data:O(X).data,width:640,"min-height":164,footer:!0,component:O(a)},null,8,["show","title","data","component"]),L(u,{show:O(ne).show,"onUpdate:show":t[1]||(t[1]=e=>O(ne).show=e),title:O(ne).title,width:450,"min-height":80,footer:!0,component:O(l)},null,8,["show","title","component"]),L(u,{show:O(oe).show,"onUpdate:show":t[2]||(t[2]=e=>O(oe).show=e),title:O(oe).title,width:640,"min-height":530,footer:!0,component:O(S)},null,8,["show","title","component"])])),_:1})])),_:1})}}});export{se as default};
